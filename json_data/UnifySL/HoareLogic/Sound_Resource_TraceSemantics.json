{
    "filename": "HoareLogic/Sound_Resource_TraceSemantics.v",
    "coq_project": "UnifySL",
    "vernac_cmds": [
        [
            "Require Import Coq.Logic.Classical_Prop.",
            "VernacRequire",
            "9ccd680c17c6039100012bae5c1bef8ed35d228a"
        ],
        [
            "Require Import Logic.lib.Coqlib.",
            "VernacRequire",
            "075e5d7e5a261753a32e2d1ec79bc22503d420dc"
        ],
        [
            "Require Import Coq.Logic.FunctionalExtensionality.",
            "VernacRequire",
            "995f7da90b97352c349ef6dde6ab058f3b7f46f2"
        ],
        [
            "Require Import Logic.GeneralLogic.Base.",
            "VernacRequire",
            "070e14a34b6bbb533eb71ad7d5a289e752dd93e4"
        ],
        [
            "Require Import Logic.GeneralLogic.Semantics.Kripke.",
            "VernacRequire",
            "4f0a29ef213cb173f58f6b351c743bcacb5b71e5"
        ],
        [
            "Require Import Logic.GeneralLogic.KripkeModel.",
            "VernacRequire",
            "6b79568e5e653c27c6a8e7063552aa2142ab9f3f"
        ],
        [
            "Require Import Logic.MinimunLogic.Syntax.",
            "VernacRequire",
            "1fe3f501db6a35e0c279335c26da5e64e6b0b57b"
        ],
        [
            "Require Import Logic.MinimunLogic.Semantics.Kripke.",
            "VernacRequire",
            "4fcfcd4fde2d735d73bfaf30e9c1caf49711101e"
        ],
        [
            "Require Import Logic.PropositionalLogic.Syntax.",
            "VernacRequire",
            "441acd893a589161321f487f85bee0d46b168a77"
        ],
        [
            "Require Import Logic.PropositionalLogic.Semantics.Kripke.",
            "VernacRequire",
            "ca0341362accf77b79eee54fec205c480dd1c1bd"
        ],
        [
            "Require Import Logic.SeparationLogic.Syntax.",
            "VernacRequire",
            "06f045a49fc8f11e28ecdce8309ad8f23a886843"
        ],
        [
            "Require Import Logic.SeparationLogic.Model.SeparationAlgebra.",
            "VernacRequire",
            "fff7e35feb20a10cad353e63f1dbfcd95597c6ca"
        ],
        [
            "Require Import Logic.SeparationLogic.Model.OrderedSA.",
            "VernacRequire",
            "c39ff54bd2278860ad247e36ee8f65fdcfafa4a7"
        ],
        [
            "Require Import Logic.SeparationLogic.Model.OSAExamples.",
            "VernacRequire",
            "28757257b44025b94636a17b213846df4c4ded54"
        ],
        [
            "Require Import Logic.SeparationLogic.Model.OSAGenerators.",
            "VernacRequire",
            "1497fe1441c96a62789ddcf5561619c9d599e79e"
        ],
        [
            "Require Import Logic.SeparationLogic.Semantics.FlatSemantics.",
            "VernacRequire",
            "69768f578aadcd59e2c7fb6542147eba2f337739"
        ],
        [
            "Require Import Logic.HoareLogic.ImperativeLanguage.",
            "VernacRequire",
            "2567be926c29a7ce602472584cdfade122076b4b"
        ],
        [
            "Require Import Logic.HoareLogic.ProgramState.",
            "VernacRequire",
            "8ffd4c3c26f3e73876d08ebc90fecae1cd31852b"
        ],
        [
            "Require Import Logic.HoareLogic.BigStepSemantics.",
            "VernacRequire",
            "2f83358d20f8a1efe33058422dcfe9041af7b10b"
        ],
        [
            "Require Import Logic.HoareLogic.TraceSemantics.",
            "VernacRequire",
            "be295157ff72e344010c4f67ba4e99a0a453827c"
        ],
        [
            "Require Import Logic.HoareLogic.HoareTriple_BigStepSemantics.",
            "VernacRequire",
            "c37fca302d68f9cc5f54fad8f1df4b7c4aa5862a"
        ],
        [
            "Require Import Logic.HoareLogic.GuardedHoareTriple_TraceSemantics.",
            "VernacRequire",
            "06685e88e6d18172516091cafb687066676c238a"
        ],
        [
            "Local Open Scope logic_base.",
            "VernacOpenCloseScope",
            "5c8594c0dfdcdf011d6f504e216bb05a6ae4277a"
        ],
        [
            "Local Open Scope syntax.",
            "VernacOpenCloseScope",
            "b783c96de8f41f381acfa7d6f61aaee81388d5d7"
        ],
        [
            "Local Open Scope kripke_model.",
            "VernacOpenCloseScope",
            "e49ee31afd7da8031602e71d800a363615169ff7"
        ],
        [
            "Import PropositionalLanguageNotation.",
            "VernacImport",
            "69bfca1fca0e417f262dd3cc9ce6113dc17ba916"
        ],
        [
            "Import SeparationLogicNotation.",
            "VernacImport",
            "ef77ed65f39901a78bbb8e7daa1c2fee20e46d4e"
        ],
        [
            "Import KripkeModelSingleNotation.",
            "VernacImport",
            "ebf1707f5c45350c2b7920cae26c0e9eff792903"
        ],
        [
            "Import KripkeModelNotation_Intuitionistic.",
            "VernacImport",
            "d7b7fe443374144a34554b0fe36caedd27cfce5b"
        ],
        [
            "Lemma start_by_Aacq_or_Arel {Ac: Action} {Res: Resource} {Acr: Action_resource Ac Res} {nAcr: NormalAction_resource Ac Res}: forall r tr, start_by_Aacq r tr -> start_by_Arel r tr -> False.",
            "VernacStartTheoremProof",
            "8b80a7c31b4585e2fb61d738a1d24599d5c475b5"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "induction tr.",
            "VernacExtend",
            "460bf2433bb84809adedbb4a137050218c573db2"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "inversion H0.",
            "VernacExtend",
            "38a13882efcff2ae2c6c07fc8055d56c6c1776f2"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (classic (is_resource_action r a)) as [[? | ?] | ?]; subst.",
            "VernacExtend",
            "acdc2571575d7703780c2a205e91939e0f512055"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inversion H0; subst; solve_resource_action.",
            "VernacExtend",
            "a139cd4191b28a3d69fdb048613d26e892a99768"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inversion H; subst; solve_resource_action.",
            "VernacExtend",
            "f542b6d349e2a30ba9441b12d834f0904439c6f9"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inversion H; subst; solve_resource_action.",
            "VernacExtend",
            "f542b6d349e2a30ba9441b12d834f0904439c6f9"
        ],
        [
            "inversion H0; subst; solve_resource_action.",
            "VernacExtend",
            "a139cd4191b28a3d69fdb048613d26e892a99768"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma start_by_Aacq_trace_acc_spec {state: Type} {Ac: Action} {Res: Resource} {J: Join state} {state_R: Relation state} {Acr: Action_resource Ac Res} {nAcr: NormalAction_resource Ac Res} {ac_sem: ActionInterpret (resources * state) Ac} {AIr: ActionInterpret_resource state Ac Res ac_sem}: forall (Inv: resource * (state -> Prop) -> Prop) (tr: trace) A1 A2 s1 s2, (forall r, start_by_Aacq r tr) -> @trace_access _ _ (ThreadLocal_ActionInterpret_resource _ Inv) tr (A1, s1) (Terminating (A2, s2)) -> A1 = A2.",
            "VernacStartTheoremProof",
            "b01ab1256526a40bccbe903dbdc1db3b4b764c01"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "assert (join A2 (fun r => start_by_Arel r tr) A1).",
            "VernacExtend",
            "35cc0d7c0b9e1151a4d6e40b4a51bc8dcd2d93c4"
        ],
        [
            "Focus 2.",
            "VernacFocus",
            "485d4f15aaf5c71ed130bd270976f9fc4e12a61f"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "extensionality r; apply prop_ext.",
            "VernacExtend",
            "1c35f23b87ae052e4f2f0817e69c1c351a46559a"
        ],
        [
            "specialize (H r); specialize (H1 r).",
            "VernacExtend",
            "0b9908b8bf8d783173cd761c9469ec1adfbdf6d4"
        ],
        [
            "pose proof start_by_Aacq_or_Arel r tr.",
            "VernacExtend",
            "034e8ce0a002f7f7d90095e20dcfbe860b752cbd"
        ],
        [
            "destruct H1; tauto.",
            "VernacExtend",
            "20a3118403415d53971bae8a90ea35b1a3d82192"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "assert (forall r, start_by_Aacq r tr \\/ start_by_Arel r tr).",
            "VernacExtend",
            "4dab8e22b07f2ffd5550276ea86ababf5e1b0e37"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intros r.",
            "VernacExtend",
            "5819060771cad2a5b744225cdd7aa4cb65e09e7b"
        ],
        [
            "specialize (H r).",
            "VernacExtend",
            "a08bc47e9ba660e8d538eb3905780b2eea35270e"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "clear H.",
            "VernacExtend",
            "f2c5826643b985ca1b67f3433f38ccbe2735e582"
        ],
        [
            "revert s1 A1 H0; induction tr; intros.",
            "VernacExtend",
            "b045f8d13fd336a01e1ad5fcecf025fde357fa36"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "inversion H0; subst; clear H0.",
            "VernacExtend",
            "67633bcad1f08913253223fb1d000a0f96a47e48"
        ],
        [
            "clear - nAcr.",
            "VernacExtend",
            "bd60ebace9f29dbbc9d83697b8728039f32dbd6e"
        ],
        [
            "intros r.",
            "VernacExtend",
            "5819060771cad2a5b744225cdd7aa4cb65e09e7b"
        ],
        [
            "pose proof start_by_Aacq_or_Arel r nil.",
            "VernacExtend",
            "2bdc299382edafa65cca28152475dd2088c2275c"
        ],
        [
            "pose proof start_by_Aacq_nil r.",
            "VernacExtend",
            "61d48e46b26c6c7bfc0186e777827d3695f30734"
        ],
        [
            "split; tauto.",
            "VernacExtend",
            "c41ca7d3d0a00a08249b3b6b9de3d7c0bb42c754"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "inversion H0; subst; clear H0.",
            "VernacExtend",
            "67633bcad1f08913253223fb1d000a0f96a47e48"
        ],
        [
            "destruct s' as [A1' s1'].",
            "VernacExtend",
            "87569ea54a7fb19d862164813dba2fb45d3bb7d4"
        ],
        [
            "specialize (fun HH => IHtr HH s1' A1' H6); clear H6.",
            "VernacExtend",
            "127cb51ab1cb85e25b29a76ca988c668d27b921e"
        ],
        [
            "simpl in H3.",
            "VernacExtend",
            "2a96f120ac764efacadc60b978d01343f60aafa0"
        ],
        [
            "assert (HH: forall r : resource, start_by_Aacq r tr \\/ start_by_Arel r tr).",
            "VernacExtend",
            "921bc5479f546787413780024e3facfab338bcee"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "clear - nAcr H1.",
            "VernacExtend",
            "6a9ba4da4afe9cd22d735d222e8d55f684fd1f9d"
        ],
        [
            "intros r; specialize (H1 r).",
            "VernacExtend",
            "ed8de034f3b1311102166477556d9d1bf5e661f1"
        ],
        [
            "destruct (classic (is_resource_action r a)) as [[? | ?] | ?]; subst; destruct H1 as [HH | HH]; inversion HH; auto.",
            "VernacExtend",
            "7a4ad18d2bb0ac5916b8872877fe5a2af9a58981"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "specialize (IHtr HH); clear HH.",
            "VernacExtend",
            "4756a1f354f977a48e172a4fe8a3e69e1df1df4f"
        ],
        [
            "intros r; specialize (IHtr r); specialize (H1 r).",
            "VernacExtend",
            "0356e4ecf76fbc2354ac7c0bb012ee8786c10419"
        ],
        [
            "destruct (classic (is_resources_action a)) as [[?r [? | ?]] | ?]; subst.",
            "VernacExtend",
            "c5030a3a72b61359971fe2672a6f2a27c1f743f4"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inversion H3; subst; clear H3; solve_resource_action.",
            "VernacExtend",
            "9d1711017fa776c180efffe2750cb37550e59087"
        ],
        [
            "clear I f H7 H8 H9.",
            "VernacExtend",
            "66aea0bc87d340a13f7b95cc605b7d70008ae7c5"
        ],
        [
            "specialize (H6 r).",
            "VernacExtend",
            "9d9e99f50433e16154051d77d666eb38c474ceda"
        ],
        [
            "pose proof start_by_Aacq_or_Arel r (Aacquire_res r0 :: tr).",
            "VernacExtend",
            "63f8e16182be7a2d666eccea0fccc028c8938e7c"
        ],
        [
            "pose proof start_by_Aacq_or_Arel r tr.",
            "VernacExtend",
            "034e8ce0a002f7f7d90095e20dcfbe860b752cbd"
        ],
        [
            "destruct H1 as [H1 | H1]; inversion H1; subst; solve_resource_action; destruct IHtr, H6; split; try tauto.",
            "VernacExtend",
            "5e85c02964f2a7e39b73c9f858e8c5d2d19d1da6"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inversion H3; subst; clear H3; solve_resource_action.",
            "VernacExtend",
            "9d1711017fa776c180efffe2750cb37550e59087"
        ],
        [
            "clear I H7 H8.",
            "VernacExtend",
            "a49718606e43f5196ec35bb2b7dbb010a0d068f5"
        ],
        [
            "specialize (H6 r).",
            "VernacExtend",
            "9d9e99f50433e16154051d77d666eb38c474ceda"
        ],
        [
            "pose proof start_by_Aacq_or_Arel r (Arelease_res r0 :: tr).",
            "VernacExtend",
            "6fa470a111d53931967fabf709b28c73dcf74105"
        ],
        [
            "pose proof start_by_Aacq_or_Arel r tr.",
            "VernacExtend",
            "034e8ce0a002f7f7d90095e20dcfbe860b752cbd"
        ],
        [
            "destruct H1 as [H1 | H1]; inversion H1; subst; solve_resource_action; destruct IHtr, H6; split; try tauto.",
            "VernacExtend",
            "5e85c02964f2a7e39b73c9f858e8c5d2d19d1da6"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "rewrite <- thread_local_state_enable_non_resource_action in H3 by auto.",
            "VernacExtend",
            "7f800c08a6e465bfbbd17aebd7a1a5e74baf0dc5"
        ],
        [
            "apply state_enable_non_resource_action1 in H3; auto.",
            "VernacExtend",
            "a1bbe142d917c7af4815c33b5b3cbded905da473"
        ],
        [
            "subst A1.",
            "VernacExtend",
            "cb7e9fc0bbe5e3cc649f179aef17a762b99ea3cc"
        ],
        [
            "assert (~ is_resource_action r a) by (intro HH; apply H; exists r; auto).",
            "VernacExtend",
            "befa6810422e8baa55f1e8eea963994aa6b0f135"
        ],
        [
            "pose proof start_by_Aacq_or_Arel r (a :: tr).",
            "VernacExtend",
            "ab73c97913e52db8198b57e024f19a383c946562"
        ],
        [
            "pose proof start_by_Aacq_or_Arel r tr.",
            "VernacExtend",
            "034e8ce0a002f7f7d90095e20dcfbe860b752cbd"
        ],
        [
            "destruct H1 as [H1 | H1]; inversion H1; subst; solve_resource_action; destruct IHtr; split; try tauto.",
            "VernacExtend",
            "ef785e9dfd87af7fcf17bf52b606519d09b74a2b"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Section soundness.",
            "VernacBeginSection",
            "c06a4280b2216adf6fa777ca98d077bbe4ba610f"
        ],
        [
            "Existing Instance unit_kMD.",
            "VernacDeclareInstances",
            "777086503129734b53056f5e7cbe05195adea78e"
        ],
        [
            "Context {P: ProgrammingLanguage} {MD: Model} {J: Join model} {SA: SeparationAlgebra model} {R: Relation model} {po_R: PreOrder Krelation} {DCSA: DownwardsClosedSeparationAlgebra model} {UCSA: UpwardsClosedSeparationAlgebra model} {Res: Resource} {Ac: Action} {Acr: Action_resource Ac Res} {nAcr: NormalAction_resource Ac Res} {TS: TraceSemantics P (resources * model) Ac} {AIr: ActionInterpret_resource model Ac Res ac_sem} {SAAIr: @SAActionInterpret_resource (resources * model) Ac ac_sem (@prod_Join _ _ (Pred_Join resource) J) (fun a => ~ is_resources_action a)} {KAIr: @KActionInterpret_resource (resources * model) Ac ac_sem (RelProd (discPred_R resource) R)}.",
            "VernacContext",
            "ac9e5572f17efc24ecef2cadbdb0f157af8f394b"
        ],
        [
            "Instance KSAAIr: @KSAActionInterpret_resource (resources * model) Ac ac_sem (@prod_Join _ _ (Pred_Join resource) J) (RelProd (discPred_R resource) R) (fun a => ~ is_resources_action a) := ordered_and_frame_AIr _ _ _.",
            "VernacInstance",
            "c8892a735a0b9fa2dc278bcb9a2d4b7c805c757d"
        ],
        [
            "Context {L: Language} {minL: MinimunLanguage L} {pL: PropositionalLanguage L} {SL: SeparationLanguage L} {SM: Semantics L MD} {kiSM: KripkeIntuitionisticSemantics L MD tt SM} {fsSM: FlatSemantics.SeparatingSemantics L MD tt SM}.",
            "VernacContext",
            "c5f341c76cf4f49c83931ade61e531e15b871eb0"
        ],
        [
            "Class LegalInvariants (Inv: resource * (model -> Prop) -> Prop): Prop := { at_most_one_invariant: forall r I1 I2, Inv (r, I1) -> Inv (r, I2) -> I1 = I2; invariant_mono: forall r I, Inv (r, I) -> forall s1 s2, I s1 -> s1 <= s2 -> I s2; invariant_precise: forall r I, Inv (r, I) -> forall s, (exists s', (fun s' => exists f, I f /\\ join s' f s) s') -> (exists s', greatest (fun s' => exists f, I f /\\ join s' f s) s') }.",
            "VernacInductive",
            "591b245fb1993a86f21f8c87b0308b120685cb48"
        ],
        [
            "Lemma ThreadLocal_ordered_frame_property (Inv: resource * (model -> Prop) -> Prop) {INV: LegalInvariants Inv}: forall (a: action) (m1 f n1' n1: resources * model) (n2: MetaState (resources * model)) fst_m2 (ASSU: res_enable a (fst m1) fst_m2 (fst f) ), @join _ (prod_Join _ _) m1 f n1' -> (RelProd (discPred_R _) R) n1' n1 -> thread_local_state_enable Inv a n1 n2 -> exists m2 n2', @lift_join _ (prod_Join _ _) m2 (Terminating f) n2' /\\ @Partial.forward _ (RelProd (discPred_R _) R) n2' n2 /\\ match m2 with Terminating m2 => fst m2 = fst_m2 | _ => True end /\\ thread_local_state_enable Inv a m1 m2.",
            "VernacStartTheoremProof",
            "c8c5da4b24dfaf1e432d794c31bad2c15ef5315e"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "destruct (classic (is_resources_action a)) as [[?r [? | ?]] | ?].",
            "VernacExtend",
            "db840f2ad071ae01ceb82d854928084b286c4a9c"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "subst a.",
            "VernacExtend",
            "d7670e5f9c196bd417b16b29da3532f33d34884d"
        ],
        [
            "inversion H1; subst; solve_resource_action.",
            "VernacExtend",
            "afdf9a1218067075d4917ed2e42d21b274bf745d"
        ],
        [
            "rename m into n1, n into n2.",
            "VernacExtend",
            "1eca8683873e5179b75dc9c9f3c7917f8d5ec33b"
        ],
        [
            "destruct n1' as [A1' n1'], f as [Af f], m1 as [B1 m1].",
            "VernacExtend",
            "169127861faaa30f5afa81829575b3f6e61eda83"
        ],
        [
            "hnf in H; simpl in H; destruct H.",
            "VernacExtend",
            "c6d98b0f6a3ad91ee9b3e155901109a829259b7c"
        ],
        [
            "hnf in H0; simpl in H0.",
            "VernacExtend",
            "931c77ddcd4a190d6f33d581cc5b1d83eb75110d"
        ],
        [
            "destruct H0.",
            "VernacExtend",
            "5c8f6cb3dc303d56935d6ec271a1de04f6790225"
        ],
        [
            "hnf in H0, H7; simpl in H0, H7.",
            "VernacExtend",
            "e2951e117b54b02a57153a846ae0d6374154948b"
        ],
        [
            "pose proof join_Korder_down _ _ _ _ _ H6 H7 ltac:(reflexivity) as [n2' [? ?]].",
            "VernacExtend",
            "651ab1180d9dec188b395037967b6f0c6f7b8337"
        ],
        [
            "pose proof join_assoc _ _ _ _ _ (join_comm _ _ _ H2) H8 as [m2 [? ?]].",
            "VernacExtend",
            "0885dff0f2e724e6eabdf8f369e3d2b561ef79c2"
        ],
        [
            "assert (A1 = A1').",
            "VernacExtend",
            "7bed0ffc02a79cf6e9a28e699d149ff126704231"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "extensionality r0; apply prop_ext.",
            "VernacExtend",
            "fe62b703e7ea9eeef3997f60ea5c703333c4e26a"
        ],
        [
            "apply iff_sym, H0.",
            "VernacExtend",
            "58e809005cb2f2a7635717bf75d3de38ea4e0778"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "subst A1'.",
            "VernacExtend",
            "aba2c85c547e89b3601cca8581f91aca276c62be"
        ],
        [
            "pose proof join_assoc _ _ _ _ _ (join_comm _ _ _ H) H3 as [B2 [? ?]].",
            "VernacExtend",
            "96c42dca972d4d7734505340e6445064b3517dc9"
        ],
        [
            "exists (Terminating (B2, m2)), (Terminating (A2, n2')).",
            "VernacExtend",
            "90a1e4b6734c8f00e4e60faee3573d4eb43af053"
        ],
        [
            "split; [| split; [| split]].",
            "VernacExtend",
            "9f9dfdc8a9fde325369bf664d94bf68296e553c1"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "split; apply join_comm; auto.",
            "VernacExtend",
            "0efdfe656f28a268396c90b7efce0552b1b3e6a6"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "constructor; split; auto; simpl.",
            "VernacExtend",
            "4c554661c7433c95d6688f39c456180ba4c5755b"
        ],
        [
            "hnf; intro; simpl; hnf; tauto.",
            "VernacExtend",
            "7d456d0cee589d08dfb23585a44a707d6b462688"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply res_enable_acq_inv in ASSU.",
            "VernacExtend",
            "d036d8d70a7731766d02f3330b2b8063fb2004d8"
        ],
        [
            "simpl in ASSU; destruct ASSU as [? _].",
            "VernacExtend",
            "715943c1225f33be66c57ec05043ea0bc620a5e0"
        ],
        [
            "simpl; clear - H14 H12.",
            "VernacExtend",
            "c242dafea1c54a6ceda746823715c944e9878f6a"
        ],
        [
            "extensionality r0; apply prop_ext.",
            "VernacExtend",
            "fe62b703e7ea9eeef3997f60ea5c703333c4e26a"
        ],
        [
            "specialize (H12 r0); specialize (H14 r0); destruct H12, H14; tauto.",
            "VernacExtend",
            "68b9dc095632d0e38225e9e37c31521e25834d4f"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "eapply thread_local_state_enable_acq; eauto.",
            "VernacExtend",
            "4d8309fd9fb5755574411fc120b250c4c9168f3c"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "subst a.",
            "VernacExtend",
            "d7670e5f9c196bd417b16b29da3532f33d34884d"
        ],
        [
            "destruct n1 as [A1 n1], n1' as [A1' n1'], f as [Af f], m1 as [B1 m1].",
            "VernacExtend",
            "e2a4b05000f3b3928460e1d09220b4930f82d6cf"
        ],
        [
            "hnf in H; simpl in H; destruct H.",
            "VernacExtend",
            "c6d98b0f6a3ad91ee9b3e155901109a829259b7c"
        ],
        [
            "hnf in H0; unfold RelCompFun in H0; simpl in H0; destruct H0.",
            "VernacExtend",
            "8ba056321995cf194b9d66f8a62b344544fc13e4"
        ],
        [
            "assert (A1' = A1).",
            "VernacExtend",
            "ce66d019dcd39dc3a74ed780482cf3f8ce2080c6"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "extensionality r0; apply prop_ext.",
            "VernacExtend",
            "fe62b703e7ea9eeef3997f60ea5c703333c4e26a"
        ],
        [
            "apply H0.",
            "VernacExtend",
            "c75b3371fc84f2aae811de7e80b1bdb43e4d249a"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "subst A1'; clear H0.",
            "VernacExtend",
            "adb9d8103cca5afc5350a2289ae951b9cf0b3aee"
        ],
        [
            "destruct (classic (forall I, Inv (r, I) -> exists m2, (fun m2 => exists f, I f /\\ join m2 f m1) m2)).",
            "VernacExtend",
            "013b116ab170e8e79fc7ec9c28700d016e7668d2"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inversion H1; subst; solve_resource_action.",
            "VernacExtend",
            "afdf9a1218067075d4917ed2e42d21b274bf745d"
        ],
        [
            "Focus 2.",
            "VernacFocus",
            "485d4f15aaf5c71ed130bd270976f9fc4e12a61f"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "exfalso.",
            "VernacExtend",
            "f6514338e7c49f3c5a647bc69b7154700a8e57f1"
        ],
        [
            "specialize (H0 _ H8).",
            "VernacExtend",
            "2d44ce27c7118949538b7c87abefb74a9c9e312f"
        ],
        [
            "destruct H0 as [m2 [f0 [? ?]]].",
            "VernacExtend",
            "3e2ca1f1f0f8cf8a8c614c6c309060bc44cc051e"
        ],
        [
            "pose proof join_assoc _ _ _ _ _ (join_comm _ _ _ H4) H2 as [n2' [? ?]].",
            "VernacExtend",
            "c1255e7682c0025f090589daf2c810694aa59316"
        ],
        [
            "pose proof join_Korder_up _ _ _ _ H6 H3 as [_f0 [n2 [? [? ?]]]].",
            "VernacExtend",
            "a6e79422d096a15096f649470cde88db3e6d515a"
        ],
        [
            "apply (H10 n2); clear H10.",
            "VernacExtend",
            "6a2be7981e66f9ebca21d0ddc23f47c68ec75202"
        ],
        [
            "exists _f0; split; [eapply (invariant_mono _ _ H8); eauto | apply join_comm; auto].",
            "VernacExtend",
            "471a869bbfba124c587204d252b5496e955c026d"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "specialize (H0 _ H8).",
            "VernacExtend",
            "2d44ce27c7118949538b7c87abefb74a9c9e312f"
        ],
        [
            "apply (invariant_precise _ _ H8) in H0.",
            "VernacExtend",
            "c0d19526506014d2cdff7cb87ab6e49f26aa3a83"
        ],
        [
            "destruct H0 as [m2 ?].",
            "VernacExtend",
            "7e2de2d0ebca09b9eea9b7557d4241888b52e3af"
        ],
        [
            "destruct (proj1 H0) as [f0 [? ?]].",
            "VernacExtend",
            "817b8e37a5cfc1b8fcd957cae129df81476f67e6"
        ],
        [
            "pose proof join_assoc _ _ _ _ _ (join_comm _ _ _ H5) H2 as [n2' [? ?]].",
            "VernacExtend",
            "d26b336ddae6cae3a16a356d49ff85230076c3bc"
        ],
        [
            "pose proof join_Korder_up _ _ _ _ H9 H3 as [_f0 [_n2 [? [? ?]]]].",
            "VernacExtend",
            "bc32a0e333518a0ae4fde2af91f2d0afc4a2269d"
        ],
        [
            "assert ((fun n : model => exists f : model, I f /\\ join n f n1) _n2).",
            "VernacExtend",
            "82783fde1e63962a6c697c93ce9f073335ae3bac"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "exists _f0; split; [eapply (invariant_mono _ _ H8); eauto | apply join_comm; auto].",
            "VernacExtend",
            "471a869bbfba124c587204d252b5496e955c026d"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "apply (proj2 H10) in H14.",
            "VernacExtend",
            "ca097f86ce1ad1f4e30c6754a3e36c177896582d"
        ],
        [
            "apply res_enable_rel_inv in ASSU; simpl in ASSU.",
            "VernacExtend",
            "c7d18a306ae43540550d7eaa7109bf70810fb078"
        ],
        [
            "rename fst_m2 into B2.",
            "VernacExtend",
            "023cb6d023ad70c106109da9ccb18939a10bd4aa"
        ],
        [
            "exists (Terminating (B2, m2)), (Terminating (A2, n2')).",
            "VernacExtend",
            "90a1e4b6734c8f00e4e60faee3573d4eb43af053"
        ],
        [
            "split; [| split; [| split]].",
            "VernacExtend",
            "9f9dfdc8a9fde325369bf664d94bf68296e553c1"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "split; auto.",
            "VernacExtend",
            "fcd44a714bd12fa54b1c7746996e44dbac16df06"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "clear - ASSU H H7.",
            "VernacExtend",
            "3e88e744eb1943c8b7e537cce8c8a0cd51401a95"
        ],
        [
            "intros r0; specialize (ASSU r0); specialize (H r0); specialize (H7 r0).",
            "VernacExtend",
            "426703a20a12c3579c10721d7967ff2ad0bb55a4"
        ],
        [
            "destruct ASSU, H, H7; split; tauto.",
            "VernacExtend",
            "a77dfc7ae75f1091b57e499fd05ab5ff52040c79"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "split; [hnf; intros ?; hnf; tauto | change (n2' <= n); etransitivity; eauto].",
            "VernacExtend",
            "ff4b0df4575bbc550702beb8b9aae840186ee986"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "eapply thread_local_state_enable_rel_succ; eauto.",
            "VernacExtend",
            "8f2a716776cfc79a7af6c2548846bedc22563caf"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exists Error, n2.",
            "VernacExtend",
            "b7371a09241ebb7bede3c2b4b24b986c66a08bb2"
        ],
        [
            "split; [| split; [| split]].",
            "VernacExtend",
            "9f9dfdc8a9fde325369bf664d94bf68296e553c1"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "destruct n2; constructor.",
            "VernacExtend",
            "0cbe8e9e4bb1df2f52cf8b1ea93b7602ae27da01"
        ],
        [
            "destruct p as [A2 n2].",
            "VernacExtend",
            "299fc67cc9dd881c36eaa1444d7d8e5bb23fb85d"
        ],
        [
            "split; [hnf; intros ?; hnf; tauto | change (n2 <= n2); reflexivity].",
            "VernacExtend",
            "f5a8fa65fd5acfd90f4fd389e64019cf3111c233"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "apply Classical_Pred_Type.not_all_ex_not in H0; destruct H0 as [I ?].",
            "VernacExtend",
            "7d74cad9c53d1e060eb25ae367ce149bcbf320a0"
        ],
        [
            "apply imply_to_and in H0; destruct H0.",
            "VernacExtend",
            "9f683bf495c77d726088f65c3fd03dee107467d2"
        ],
        [
            "apply res_enable_rel_inv in ASSU; simpl in ASSU.",
            "VernacExtend",
            "c7d18a306ae43540550d7eaa7109bf70810fb078"
        ],
        [
            "eapply thread_local_state_enable_rel_fail; eauto.",
            "VernacExtend",
            "5e04e4fb7d02ff703aa92f919829b580e7502657"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite <- (thread_local_state_enable_non_resource_action Inv) in H1 by auto.",
            "VernacExtend",
            "fb48c351db313ccc6f58a87482079646b2470ce7"
        ],
        [
            "change ((fun a => ~ is_resources_action a) a) in H2.",
            "VernacExtend",
            "b8d61dab066b9557b80ab2abcde6618378cedf50"
        ],
        [
            "pose proof ordered_frame_property _ _ _ _ _ _ H2 H H0 H1 as [m2 [n2' [? [? ?]]]].",
            "VernacExtend",
            "172d9b2f1a79562c2abe9d6c83ddec71da04d6cb"
        ],
        [
            "exists m2, n2'.",
            "VernacExtend",
            "7dc8fef2ad235ecdde7cf37cd5ff052fafa1f9a8"
        ],
        [
            "split; [| split; [| split]]; auto.",
            "VernacExtend",
            "8ec75c621a1a6b8002bb9fc62dd3064e5f7ebb6a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply res_enable_not_res_inv in ASSU; auto.",
            "VernacExtend",
            "467f326ac97384d23689f8ba40cc9f82750ef99e"
        ],
        [
            "destruct m1 as [A1 m1], m2 as [| | [A2 m2]]; auto.",
            "VernacExtend",
            "f1506a70e05cbdd015f591eeb6f07943c9b43fcf"
        ],
        [
            "simpl in H5.",
            "VernacExtend",
            "03fbfc7bb6b248b41f6241227db3e5c410547157"
        ],
        [
            "apply state_enable_non_resource_action1 in H5; auto.",
            "VernacExtend",
            "00ecae5536e430e95ca7ef4bc70b78941a174e48"
        ],
        [
            "subst; auto.",
            "VernacExtend",
            "0dfc636d3b0c9fb40074fb6c1c1b90bf77fecdc8"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "rewrite <- (thread_local_state_enable_non_resource_action Inv) by auto.",
            "VernacExtend",
            "48464ea426a02cc9cabf8c74a024b619d4e14b42"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma hoare_parallel_partial_sound {CPP: ConcurrentProgrammingLanguage_Sparallel P} {AcP: Action_Parallel Ac} {nAcPr: NormalAction_Parallel_resource Ac Res} {c2tP: Command2Traces_Sparallel_resource P model Ac Res c2t} {AIPr: ActionInterpret_Parallel_resource model Ac Res ac_sem}: forall Inv c1 P1 Q1 c2 P2 Q2 (INV: LegalInvariants Inv), guarded_triple_partial_valid Inv P1 c1 Q1 -> guarded_triple_partial_valid Inv P2 c2 Q2 -> guarded_triple_partial_valid Inv (P1 * P2) (Sparallel c1 c2) (Q1 * Q2).",
            "VernacStartTheoremProof",
            "751e4b7627d80201e395be3c76b06475fa7e226e"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "rename H into LEFT_ASSU, H0 into RIGHT_ASSU.",
            "VernacExtend",
            "689f9083bfca4b604f1e1d5fe5fcce47145bee90"
        ],
        [
            "hnf in LEFT_ASSU, RIGHT_ASSU |- *; intros.",
            "VernacExtend",
            "c033a960bd52a2847cb75dfd174a868282348420"
        ],
        [
            "unfold access, ThreadLocal_BSS in LEFT_ASSU, RIGHT_ASSU, H0; simpl in LEFT_ASSU, RIGHT_ASSU, H0.",
            "VernacExtend",
            "a660d6d9a6e2ac60f491e229f1d70107d9bb1dca"
        ],
        [
            "inversion H0; subst; clear H0.",
            "VernacExtend",
            "67633bcad1f08913253223fb1d000a0f96a47e48"
        ],
        [
            "rewrite Sparallel_denote in H1.",
            "VernacExtend",
            "1a97ae558133a7cd388166ada1ba6fba37e2143c"
        ],
        [
            "set (Tr1 := cmd_denote c1) in LEFT_ASSU, H1.",
            "VernacExtend",
            "3385077aaf3b1e71a0e9412e6660471d6dca863c"
        ],
        [
            "set (Tr2 := cmd_denote c2) in RIGHT_ASSU, H1.",
            "VernacExtend",
            "5068edc10c8ada026091c6c896f6c7a2d9ef8aa6"
        ],
        [
            "clearbody Tr1 Tr2; clear c1 c2.",
            "VernacExtend",
            "58838e3864ac20f047d34f3bb82b6a2d65aca995"
        ],
        [
            "inversion H1; subst; clear H1.",
            "VernacExtend",
            "8f80e91cce8a33ed2d6f5c11832f10ea7cd8728f"
        ],
        [
            "set (A1 := fun _: resource => False) in LEFT_ASSU at 1, H4 at 1.",
            "VernacExtend",
            "d8110696295f54ffce3eaeecedef3620b47f821a"
        ],
        [
            "set (A2 := fun _: resource => False) in RIGHT_ASSU at 1, H4 at 1.",
            "VernacExtend",
            "e36c600510a35550671633fa479d171aca401220"
        ],
        [
            "set (A := fun _: resource => False) in H2 at 1.",
            "VernacExtend",
            "c5803e22b15111a1463a5eae7e304aec14e3b772"
        ],
        [
            "rewrite sat_sepcon in H.",
            "VernacExtend",
            "2d175d529f1a37273268b8437ea5b9702c1412dc"
        ],
        [
            "destruct H as [s1 [s2 [? [? ?]]]].",
            "VernacExtend",
            "a6d9917551c63bc3d1647a8353fc76423ebb847a"
        ],
        [
            "set (s0 := s_pre) in H.",
            "VernacExtend",
            "9f9e10149aeb942fc43f815f4f5c4a7c79674144"
        ],
        [
            "assert (STATE_JOIN: @join _ (prod_Join resources model) (A1, s1) (A2, s2) (A, s0)).",
            "VernacExtend",
            "03f2efd3d60f1f464460ae905f4fa3f9d08bf584"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "split; auto.",
            "VernacExtend",
            "fcd44a714bd12fa54b1c7746996e44dbac16df06"
        ],
        [
            "hnf; intros r0.",
            "VernacExtend",
            "69f949f74ed79e217481abca259bf27c22600e59"
        ],
        [
            "simpl; subst A1 A2 A; split; tauto.",
            "VernacExtend",
            "6261795abb88aeba6b5e1f6068097edd3bb5a761"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "assert (STATE_LE: @Krelation _ (RelProd (discPred_R resource) R) (A, s0) (A, s_pre)).",
            "VernacExtend",
            "1b8f6c5e9bf628d63225c1e29dc31b517c9fbf2c"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "split; hnf; simpl.",
            "VernacExtend",
            "76c3c1a3b8ae11dcc7a873ecb9c2a223a79bad64"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "intros; hnf; tauto.",
            "VernacExtend",
            "663b54cb80387d5b9c5a5b8959e68cb8ec2c2a7e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "change (s_pre <= s_pre).",
            "VernacExtend",
            "964eb82452a8578540265746a83c24d3245e62a8"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "clearbody A1 A2 A s0.",
            "VernacExtend",
            "4a021da13c28b2c9713f0eac116ea7bc148dcc13"
        ],
        [
            "clear H.",
            "VernacExtend",
            "f2c5826643b985ca1b67f3433f38ccbe2735e582"
        ],
        [
            "specialize (fun ms_post HH => LEFT_ASSU s1 ms_post H1 (traces_access_intro tr1 _ _ _ H0 HH)).",
            "VernacExtend",
            "3a3785b5a0a4cf012185c3e131a7abdad6558ca3"
        ],
        [
            "specialize (fun ms_post HH => RIGHT_ASSU s2 ms_post H5 (traces_access_intro tr2 _ _ _ H3 HH)).",
            "VernacExtend",
            "6fed230ef866596ba28f8ae890336a6d04dedc99"
        ],
        [
            "clear P1 P2 H1 H5 Tr1 Tr2 H0 H3.",
            "VernacExtend",
            "9977fd454ab828e0a6dfad77aac46aa5ced848f9"
        ],
        [
            "rename H2 into TRACE_ACC.",
            "VernacExtend",
            "d2baffd5d6461c1e7f88941132bc675bb32faae1"
        ],
        [
            "revert s0 s1 s2 s_pre A LEFT_ASSU RIGHT_ASSU STATE_JOIN STATE_LE TRACE_ACC; induction H4; intros.",
            "VernacExtend",
            "d79e0bef6d107335417de7031e4dddfc1a35f097"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "inversion TRACE_ACC; subst.",
            "VernacExtend",
            "47f144e4f9ee721c7ab21b4fcffc340f33747a5e"
        ],
        [
            "destruct ms_post; subst; inversion H.",
            "VernacExtend",
            "0803e830dee023fef0294e925bfb89a0e72a6ca1"
        ],
        [
            "subst m A.",
            "VernacExtend",
            "5bef7f7e0890a56e5d63611e3cc7b40525643092"
        ],
        [
            "assert (A2 = fun _ => False).",
            "VernacExtend",
            "8134180a8a5d59850c241cef0cfde68a7f3ce76c"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "extensionality r; apply prop_ext.",
            "VernacExtend",
            "1c35f23b87ae052e4f2f0817e69c1c351a46559a"
        ],
        [
            "destruct STATE_JOIN as [? _].",
            "VernacExtend",
            "44605930b4d6fba36d4e6a955bf9b0e05055fcf1"
        ],
        [
            "hnf in H0.",
            "VernacExtend",
            "ef2ef5338fe3c3f98be9c585e08b6598bfd5a754"
        ],
        [
            "specialize (H0 r).",
            "VernacExtend",
            "ea038ced706db74ee9bfffac7b8d2abd394c3df9"
        ],
        [
            "simpl in H0; destruct H0.",
            "VernacExtend",
            "b18fba68e933e1b0e2f8176f6f7c2851d48af862"
        ],
        [
            "tauto.",
            "VernacExtend",
            "9bfafe84fb6724789bdf6cfd21cd721dd63fdabd"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "assert (A1 = fun _ => False).",
            "VernacExtend",
            "eb1ee2a712aa5d635417db75f7e2112d7e2be8ef"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "extensionality r; apply prop_ext.",
            "VernacExtend",
            "1c35f23b87ae052e4f2f0817e69c1c351a46559a"
        ],
        [
            "destruct STATE_JOIN as [? _].",
            "VernacExtend",
            "44605930b4d6fba36d4e6a955bf9b0e05055fcf1"
        ],
        [
            "hnf in H1.",
            "VernacExtend",
            "94324ef603315a47e5f4c48a0cd13f6c1b983007"
        ],
        [
            "specialize (H1 r).",
            "VernacExtend",
            "8a6729e0fbf6f41e726e189587bb3c811b92a8f9"
        ],
        [
            "simpl in H1; destruct H1.",
            "VernacExtend",
            "397048af7a827585f273e194515a6d98089ac637"
        ],
        [
            "tauto.",
            "VernacExtend",
            "9bfafe84fb6724789bdf6cfd21cd721dd63fdabd"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "subst A1 A2.",
            "VernacExtend",
            "0355c6178fdf8e67f814cb269f2a349ef922dc6d"
        ],
        [
            "specialize (LEFT_ASSU (Terminating s1) (trace_access_nil _)); simpl in LEFT_ASSU.",
            "VernacExtend",
            "ce143f011c72fe3eba24647acb0576e7e2498e2f"
        ],
        [
            "specialize (RIGHT_ASSU (Terminating s2) (trace_access_nil _)); simpl in RIGHT_ASSU.",
            "VernacExtend",
            "691a16e46d9cdb7e13fe0a510c8343576d9ed81c"
        ],
        [
            "eapply sat_mono; [exact (proj2 STATE_LE) |].",
            "VernacExtend",
            "2cfd7719ae59dfb1ad5157d4a70af9ab30a5369c"
        ],
        [
            "rewrite sat_sepcon.",
            "VernacExtend",
            "432a8d87aa107c7a53c35505e1baf3c3d4875f3f"
        ],
        [
            "exists s1, s2.",
            "VernacExtend",
            "00e0b90c7c29a55d969df757e1dea8bb3b9a9f45"
        ],
        [
            "split; [| split]; auto.",
            "VernacExtend",
            "67cc0d66fb7cc73eb9e9cd5c6654f12477784046"
        ],
        [
            "exact (proj2 STATE_JOIN).",
            "VernacExtend",
            "84600747ccfb77b48f9c41f3c8b976778f96314f"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "exfalso.",
            "VernacExtend",
            "f6514338e7c49f3c5a647bc69b7154700a8e57f1"
        ],
        [
            "destruct (res_actions_no_race _ _ H).",
            "VernacExtend",
            "8860fca1877d3d048e733a189a7443667ab2af84"
        ],
        [
            "apply (state_enable_race_actions_spec a1 a2 A1 A2 s1 s2 s0); auto.",
            "VernacExtend",
            "0982460f3624d1aba2fe034ea8f17c0ca3162c28"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intro.",
            "VernacExtend",
            "3999be354c758ba0d1866e0fcc78a7288779a224"
        ],
        [
            "rewrite (thread_local_state_enable_non_resource_action Inv) in H2 by auto.",
            "VernacExtend",
            "626d529620bfb32877b6d44b5542cbead020526b"
        ],
        [
            "specialize (LEFT_ASSU Error (@trace_access_Error _ _ (ThreadLocal_ActionInterpret_resource _ Inv) _ _ _ H2)).",
            "VernacExtend",
            "c54af1fdc1da777cdc88cd9851d0addbe5941260"
        ],
        [
            "inversion LEFT_ASSU.",
            "VernacExtend",
            "4a4b3ad352ecaa58d78b7ee0d5717d7495bd5215"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intro.",
            "VernacExtend",
            "3999be354c758ba0d1866e0fcc78a7288779a224"
        ],
        [
            "rewrite (thread_local_state_enable_non_resource_action Inv) in H2 by auto.",
            "VernacExtend",
            "626d529620bfb32877b6d44b5542cbead020526b"
        ],
        [
            "specialize (RIGHT_ASSU Error (@trace_access_Error _ _ (ThreadLocal_ActionInterpret_resource _ Inv) _ _ _ H2)).",
            "VernacExtend",
            "06fdb01535ec53199634c00372c0e61cc330c5b0"
        ],
        [
            "inversion RIGHT_ASSU.",
            "VernacExtend",
            "f99f637a7a2597d51e66f7e00ac98d5958a31a50"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exact (proj2 STATE_JOIN).",
            "VernacExtend",
            "84600747ccfb77b48f9c41f3c8b976778f96314f"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "change (res_enable a1 (fst (A1, s1)) A1' (fst (A2, s2))) in H.",
            "VernacExtend",
            "138aad672e75fd95ae193e6cbeacbcc78126350a"
        ],
        [
            "inversion TRACE_ACC; subst.",
            "VernacExtend",
            "47f144e4f9ee721c7ab21b4fcffc340f33747a5e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct ms_post; inversion H5; clear H5; auto.",
            "VernacExtend",
            "384bb67f87e588dc8be375aada48802efeb1f113"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "pose proof ThreadLocal_ordered_frame_property Inv _ _ _ _ _ Error A1' H STATE_JOIN STATE_LE H3 as [Error' [Error'' [? [? [_ ?]]]]].",
            "VernacExtend",
            "1ec8b014a3755a79daf7697d27e85696c112eeff"
        ],
        [
            "inversion H1; subst; clear H1.",
            "VernacExtend",
            "8f80e91cce8a33ed2d6f5c11832f10ea7cd8728f"
        ],
        [
            "inversion H0; subst; clear H0.",
            "VernacExtend",
            "67633bcad1f08913253223fb1d000a0f96a47e48"
        ],
        [
            "simpl lift_function in H2.",
            "VernacExtend",
            "8aac9fdb608634ba1177ae7892f730dc9444d198"
        ],
        [
            "exfalso.",
            "VernacExtend",
            "f6514338e7c49f3c5a647bc69b7154700a8e57f1"
        ],
        [
            "apply (LEFT_ASSU Error).",
            "VernacExtend",
            "199d4be684be4c2c49cbed41cab0b4e5edf0d463"
        ],
        [
            "apply trace_access_Error; auto.",
            "VernacExtend",
            "e8336441bf95c45eb34bc3d580c905387d9ba33e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "pose proof ThreadLocal_ordered_frame_property Inv _ _ _ _ _ (Terminating s') A1' H STATE_JOIN STATE_LE H2 as [m2 [n2' [? [? [? ?]]]]].",
            "VernacExtend",
            "17dfaf653c9c0085efe4445e46982249e376e31c"
        ],
        [
            "destruct n2' as [| | n2']; inversion H1; subst.",
            "VernacExtend",
            "e57c26314a21a73ecfbe1579a3967fc4e5c713d5"
        ],
        [
            "destruct m2 as [| | m2]; inversion H0; subst.",
            "VernacExtend",
            "dee32ea7e418ad8ba2c63406343b1864699dedf8"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "exfalso.",
            "VernacExtend",
            "f6514338e7c49f3c5a647bc69b7154700a8e57f1"
        ],
        [
            "apply (LEFT_ASSU Error).",
            "VernacExtend",
            "199d4be684be4c2c49cbed41cab0b4e5edf0d463"
        ],
        [
            "apply trace_access_Error; auto.",
            "VernacExtend",
            "e8336441bf95c45eb34bc3d580c905387d9ba33e"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "destruct s' as [A' s'], m2 as [A1' s1'], n2' as [A0' s0'].",
            "VernacExtend",
            "ba7d1b800568076acc38e8325d1f3f08f70abe86"
        ],
        [
            "assert (A0' = A').",
            "VernacExtend",
            "f89d3629ecefe6e1ccc99142d82b49071172ab79"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "clear - H9.",
            "VernacExtend",
            "9a67eda6d2f9aa376e8c493520391a73f22bfa91"
        ],
        [
            "destruct H9 as [? _]; hnf in H; simpl in H.",
            "VernacExtend",
            "968caf06e6ef3316748d50227bee232683049de4"
        ],
        [
            "extensionality r0; apply prop_ext; apply H.",
            "VernacExtend",
            "db7b61fe347cf99928cc468ca8e261dc172d3ea0"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "subst A0'.",
            "VernacExtend",
            "f982c094dc3651bfc2c315fbe20ba8265997fe7c"
        ],
        [
            "apply (IHtrace_interleave s0' s1' s2 s' A'); auto.",
            "VernacExtend",
            "456eb2be9b74fc224b79a2cc993136942b7382b2"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply LEFT_ASSU.",
            "VernacExtend",
            "fd240c29c26bf03d33370f73c0bf2a6f54de4536"
        ],
        [
            "eapply trace_access_Terminating; eauto.",
            "VernacExtend",
            "cff885d41f405c56f4c897e55341917674652e76"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "change (res_enable a2 (fst (A2, s2)) A2' (fst (A1, s1))) in H.",
            "VernacExtend",
            "71c860bc11af427664b326d1a30a9d03b5a4833a"
        ],
        [
            "inversion TRACE_ACC; subst.",
            "VernacExtend",
            "47f144e4f9ee721c7ab21b4fcffc340f33747a5e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct ms_post; inversion H5; clear H5; auto.",
            "VernacExtend",
            "384bb67f87e588dc8be375aada48802efeb1f113"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "pose proof ThreadLocal_ordered_frame_property Inv _ _ _ _ _ Error A2' H (@join_comm _ _ (prod_SA _ _) _ _ _ STATE_JOIN) STATE_LE H3 as [Error' [Error'' [? [? [_ ?]]]]].",
            "VernacExtend",
            "4892fcefb5f04684606569eab597d476d332d951"
        ],
        [
            "inversion H1; subst; clear H1.",
            "VernacExtend",
            "8f80e91cce8a33ed2d6f5c11832f10ea7cd8728f"
        ],
        [
            "inversion H0; subst; clear H0.",
            "VernacExtend",
            "67633bcad1f08913253223fb1d000a0f96a47e48"
        ],
        [
            "simpl lift_function in H2.",
            "VernacExtend",
            "8aac9fdb608634ba1177ae7892f730dc9444d198"
        ],
        [
            "exfalso.",
            "VernacExtend",
            "f6514338e7c49f3c5a647bc69b7154700a8e57f1"
        ],
        [
            "apply (RIGHT_ASSU Error).",
            "VernacExtend",
            "69614e95c919ff41f5e3376f6efcda0f96bc0237"
        ],
        [
            "apply trace_access_Error; auto.",
            "VernacExtend",
            "e8336441bf95c45eb34bc3d580c905387d9ba33e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "pose proof ThreadLocal_ordered_frame_property Inv _ _ _ _ _ (Terminating s') A2' H (@join_comm _ _ (prod_SA _ _) _ _ _ STATE_JOIN) STATE_LE H2 as [m2 [n2' [? [? [? ?]]]]].",
            "VernacExtend",
            "c7ae35eb3e28e91b93d1d46e91d9f0b9d863cb34"
        ],
        [
            "destruct n2' as [| | n2']; inversion H1; subst.",
            "VernacExtend",
            "e57c26314a21a73ecfbe1579a3967fc4e5c713d5"
        ],
        [
            "destruct m2 as [| | m2]; inversion H0; subst.",
            "VernacExtend",
            "dee32ea7e418ad8ba2c63406343b1864699dedf8"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "exfalso.",
            "VernacExtend",
            "f6514338e7c49f3c5a647bc69b7154700a8e57f1"
        ],
        [
            "apply (RIGHT_ASSU Error).",
            "VernacExtend",
            "69614e95c919ff41f5e3376f6efcda0f96bc0237"
        ],
        [
            "apply trace_access_Error; auto.",
            "VernacExtend",
            "e8336441bf95c45eb34bc3d580c905387d9ba33e"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "destruct s' as [A' s'], m2 as [A2' s2'], n2' as [A0' s0'].",
            "VernacExtend",
            "b9a9a6901e7571f72210e2ff3a9f76366dc0e61a"
        ],
        [
            "assert (A0' = A').",
            "VernacExtend",
            "f89d3629ecefe6e1ccc99142d82b49071172ab79"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "clear - H9.",
            "VernacExtend",
            "9a67eda6d2f9aa376e8c493520391a73f22bfa91"
        ],
        [
            "destruct H9 as [? _]; hnf in H; simpl in H.",
            "VernacExtend",
            "968caf06e6ef3316748d50227bee232683049de4"
        ],
        [
            "extensionality r0; apply prop_ext; apply H.",
            "VernacExtend",
            "db7b61fe347cf99928cc468ca8e261dc172d3ea0"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "subst A0'.",
            "VernacExtend",
            "f982c094dc3651bfc2c315fbe20ba8265997fe7c"
        ],
        [
            "apply (IHtrace_interleave s0' s1 s2' s' A'); auto.",
            "VernacExtend",
            "d867ccf219e6c2c2adb6fc0eca82ec6ace437943"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply RIGHT_ASSU.",
            "VernacExtend",
            "09f61d9f708ce44eadecff190e0cf45f0e7fc3e8"
        ],
        [
            "eapply trace_access_Terminating; eauto.",
            "VernacExtend",
            "cff885d41f405c56f4c897e55341917674652e76"
        ],
        [
            "apply (@join_comm _ _ (prod_SA _ _)); auto.",
            "VernacExtend",
            "bfb6c1d60ed1d2067760d3dd2017ebb49bc32e43"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma SRA_triple_spec {c2tSRA: StructuralResourceAccess P Ac Res c2t}: forall (Inv: (resource * (model -> Prop)) -> Prop) (Pre: expr) (c: cmd) (Post: expr), guarded_triple_partial_valid Inv Pre c Post <-> (forall s_pre A_post ms_post, KRIPKE: s_pre |= Pre -> @traces_access _ _ (ThreadLocal_ActionInterpret_resource _ Inv) (cmd_denote c) (fun _ => False, s_pre) (lift_function (pair A_post) ms_post) -> match ms_post with | Error => False | NonTerminating => True | Terminating s_post => KRIPKE: s_post |= Post end).",
            "VernacStartTheoremProof",
            "fcecfbdfd063d5ee6000d6511e2aee79c8a866ec"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "split.",
            "VernacExtend",
            "55abc140132bd88981001ac656020469a8d503eb"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "hnf in H.",
            "VernacExtend",
            "b998e5ae98dd847416f4f194f30407c3597ea052"
        ],
        [
            "inversion H1; subst.",
            "VernacExtend",
            "0d6098b7de8d43e8e8e8d2cd73cf811a6b3dbedf"
        ],
        [
            "replace (lift_function (pair A_post) ms_post) with (lift_function (pair (fun _:resource => False)) ms_post) in H3.",
            "VernacExtend",
            "b867b189cd404721046bfa6ed5ec0eea6a020b7b"
        ],
        [
            "Focus 2.",
            "VernacFocus",
            "485d4f15aaf5c71ed130bd270976f9fc4e12a61f"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "destruct ms_post as [| | ms_post]; auto.",
            "VernacExtend",
            "4fd05ebeb3f29bd34d5166a2bf6dbf837f5a64f1"
        ],
        [
            "simpl lift_function in H3.",
            "VernacExtend",
            "b43baa9dd6c25f4520ce25f8cd5b04cf1aad0219"
        ],
        [
            "eapply start_by_Aacq_trace_acc_spec in H3; [subst; auto |].",
            "VernacExtend",
            "e350a6b0f74a111dc8b600894d92d2602871386f"
        ],
        [
            "intros; eapply resource_sequential; eauto.",
            "VernacExtend",
            "3469902d37f807d971063859a5f0527bfc58d985"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "apply (H s_pre ms_post); auto.",
            "VernacExtend",
            "d2a061c368365bb71440ed7892342b732fccf5f0"
        ],
        [
            "apply (traces_access_intro tr); auto.",
            "VernacExtend",
            "1ed4d74a49b0a08ec55033679eb291da8c8178e1"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "hnf; intros.",
            "VernacExtend",
            "56afb10662f39d6d1fe2d1fcd1dc59f4012137ee"
        ],
        [
            "apply (H s_pre (fun _ => False) ms_post); auto.",
            "VernacExtend",
            "7459ca09f636194d3a7925de545f64e9f2db15b3"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma hoare_resource_block_partial_sound {CPP: ConcurrentProgrammingLanguage_Sresource P Res} {c2tR: Command2Traces_Sresource P Ac Res c2t} {c2tSRA: StructuralResourceAccess P Ac Res c2t}: forall Inv0 Inv1 r P1 P2 c I dI (INV: LegalInvariants Inv1), @join _ (Pred_Join _) Inv0 (eq (r, dI)) Inv1 -> (dI = fun m => KRIPKE: m |= I) -> resource_no_occur r (cmd_denote c) -> guarded_triple_partial_valid Inv0 (P1 * I) c (P2 * I) -> guarded_triple_partial_valid Inv1 P1 (Sresource r c) P2.",
            "VernacStartTheoremProof",
            "16e3fb186f8f7e515f28a91dcc5e58c218bf0310"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "subst dI.",
            "VernacExtend",
            "e7d0e3abf3e370c4eefbce42a2bc5ba8f752fe62"
        ],
        [
            "rewrite SRA_triple_spec in H2 |- *.",
            "VernacExtend",
            "85b9ed4a00c7a777f154d47c4e816d5708f67a2c"
        ],
        [
            "rename H into INV_CONS, H1 into NO_OCCUR.",
            "VernacExtend",
            "c82254688d5ab65a4f5a11acaaa5e018e70584fc"
        ],
        [
            "rename H2 into ASSU; intros.",
            "VernacExtend",
            "d7a2dd85bf5bb4dacdab8e7f9da0857017f4c3e1"
        ],
        [
            "unfold access, ThreadLocal_BSS in ASSU, H0; simpl in ASSU, H0.",
            "VernacExtend",
            "ebe2bf28a76e10cb03b0d618cc62b33373c7e053"
        ],
        [
            "inversion H0; subst; clear H0.",
            "VernacExtend",
            "67633bcad1f08913253223fb1d000a0f96a47e48"
        ],
        [
            "rewrite Sresource_denote in H1.",
            "VernacExtend",
            "b05a18cc900e999d42424e127ab1d70e09956e75"
        ],
        [
            "set (Tr := cmd_denote c) in ASSU, H1, NO_OCCUR.",
            "VernacExtend",
            "9b299fbdc92ee9216eb7d0e515c5addfca7c88b6"
        ],
        [
            "clearbody Tr; clear c.",
            "VernacExtend",
            "f4f7c9bff0db65d2456d798daa7841f834505074"
        ],
        [
            "inversion H1; subst; clear H1.",
            "VernacExtend",
            "8f80e91cce8a33ed2d6f5c11832f10ea7cd8728f"
        ],
        [
            "inversion H3; subst; clear H3.",
            "VernacExtend",
            "1b952c13475ed44809862e55b011339470aeaa9f"
        ],
        [
            "unfold singleton_traces, singleton_trace in H0, H4.",
            "VernacExtend",
            "2b8a3ed997d449de18064414cb9cbe29648d81e2"
        ],
        [
            "subst tr1 tr3; rename tr0 into tr.",
            "VernacExtend",
            "49bde5a7d9b184553808422c21b8b5850d63f628"
        ],
        [
            "specialize (fun s A_post ms_post _H HH => ASSU s A_post ms_post _H (traces_access_intro tr _ _ _ H1 HH)).",
            "VernacExtend",
            "b946096834e11596531bc6cbb4535d93f2cd47ea"
        ],
        [
            "specialize (NO_OCCUR _ H1).",
            "VernacExtend",
            "2a2ee3083a70f59875d1f8899be9b4f46a20966f"
        ],
        [
            "clear Tr H1.",
            "VernacExtend",
            "cd7c39fe6b62b3a1fe1557d5bda8e53f930aa7cf"
        ],
        [
            "unfold trace_app in H2; simpl app in H2; inversion H2; subst; clear H2.",
            "VernacExtend",
            "eaed36598751beaf5a87f1a34be7bfa7e8dfc3dc"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "exfalso; inversion H4; subst; solve_resource_action.",
            "VernacExtend",
            "0fe03baff11c8dc8faa74fe38c34041e7ca0187f"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "exfalso; inversion H4; subst; solve_resource_action.",
            "VernacExtend",
            "0fe03baff11c8dc8faa74fe38c34041e7ca0187f"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "inversion H3; subst; clear H3; solve_resource_action.",
            "VernacExtend",
            "9d1711017fa776c180efffe2750cb37550e59087"
        ],
        [
            "assert (I0 = fun m => KRIPKE: m |= I).",
            "VernacExtend",
            "1b766df0fbdcef5dba64dae06b649a029ae0dc5c"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "clear - INV_CONS INV H7.",
            "VernacExtend",
            "e165d7b47ee53c08e0d05c60548450967885960c"
        ],
        [
            "apply (at_most_one_invariant r); auto.",
            "VernacExtend",
            "be3a6f4d85dfa0469192b68b28a2c78efd6b28f3"
        ],
        [
            "specialize (INV_CONS (r, fun m => m |= I)).",
            "VernacExtend",
            "f9bd7a7c237bd3805d42c1c31fe026380602e04a"
        ],
        [
            "destruct INV_CONS; simpl in *.",
            "VernacExtend",
            "4ad41ef3a6fb9fc88c06cdbdeb842eb861b92f4d"
        ],
        [
            "tauto.",
            "VernacExtend",
            "9bfafe84fb6724789bdf6cfd21cd721dd63fdabd"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "subst I0.",
            "VernacExtend",
            "e3dcd3969827e90ec2018ce49e6a48ddcf4e49a3"
        ],
        [
            "assert (KRIPKE: n |= P1 * I).",
            "VernacExtend",
            "27bd76a07df34a121f1853eb82e9bbe55f493758"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "rewrite sat_sepcon.",
            "VernacExtend",
            "432a8d87aa107c7a53c35505e1baf3c3d4875f3f"
        ],
        [
            "exists s_pre, f; auto.",
            "VernacExtend",
            "5121ab5e5113018cf9f5c65bf4c6993bd2a2de3d"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "clear f s_pre H8 H9 H.",
            "VernacExtend",
            "84484f47e67c486b8c3c316644be4db8ee03e358"
        ],
        [
            "rename n into s.",
            "VernacExtend",
            "02d542e4f44e1729df511b4627c692d136f2348f"
        ],
        [
            "specialize (fun A_post ms_post => ASSU s A_post ms_post H0); clear H0 P1.",
            "VernacExtend",
            "8da69d42d3baad3a7b3765092e3f0b72e8498130"
        ],
        [
            "set (A1 := fun _ => False) in H5, ASSU at 1.",
            "VernacExtend",
            "98e31034823a1ad65f1b001418abc3b09726da46"
        ],
        [
            "clearbody A1.",
            "VernacExtend",
            "fffde93c83f9804b925323a8ffcd9f1ea5fcd89d"
        ],
        [
            "rename H5 into JOIN_RES, H6 into TRACE_ACC, H7 into Inv_r.",
            "VernacExtend",
            "0d3281959a6c0d4faa20d3fa015e56bbdb173204"
        ],
        [
            "revert A1 A2 s JOIN_RES TRACE_ACC ASSU; induction tr; intros.",
            "VernacExtend",
            "867b11d54036405eb4880af0ffd92b4e477a4652"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in TRACE_ACC.",
            "VernacExtend",
            "606a7f21ade06602a7a5e1ee91e74bdbcfc9d74a"
        ],
        [
            "specialize (ASSU A1 (Terminating s) (trace_access_nil _)).",
            "VernacExtend",
            "ad593b81bed6deb139e54b1ab8a390d79050c522"
        ],
        [
            "change (KRIPKE: s |= P2 * I) in ASSU.",
            "VernacExtend",
            "7cc6bf1514adb721d4c97039302eaef98b0f11e5"
        ],
        [
            "rewrite sat_sepcon in ASSU.",
            "VernacExtend",
            "7a8866475fb0ba8ae740e4aff379c3caaae848c1"
        ],
        [
            "destruct ASSU as [s' [f [? [? ?]]]].",
            "VernacExtend",
            "470a075ee0f28e330abc80be5d8bb7c6dc47d6c9"
        ],
        [
            "assert ((fun n : model => exists f : model, KRIPKE: f |= I /\\ join n f s) s') by (exists f; auto).",
            "VernacExtend",
            "ace0487ef397f7110264e0fd16116a1b384be4e7"
        ],
        [
            "inversion TRACE_ACC; subst.",
            "VernacExtend",
            "47f144e4f9ee721c7ab21b4fcffc340f33747a5e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inversion H6; subst; solve_resource_action.",
            "VernacExtend",
            "923f4e845aed151fdd2d6d0d50045ec3c935c277"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inversion H6; subst; solve_resource_action.",
            "VernacExtend",
            "923f4e845aed151fdd2d6d0d50045ec3c935c277"
        ],
        [
            "pose proof at_most_one_invariant _ _ _ H9 Inv_r; subst I0; clear H9.",
            "VernacExtend",
            "1d3e9e913d32979ee291ae25b14642897cb6e034"
        ],
        [
            "exfalso; apply (H10 s').",
            "VernacExtend",
            "eec135a992aab82916616d5effd64f54a145dd86"
        ],
        [
            "exists f; auto.",
            "VernacExtend",
            "aa24125aa80aedebabee6f391ddd719fac195c8f"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inversion H5; subst; solve_resource_action.",
            "VernacExtend",
            "5a3a1af4d62ea76113a5b8e18dda70653d438f57"
        ],
        [
            "pose proof at_most_one_invariant _ _ _ H10 Inv_r; subst I0; clear H10.",
            "VernacExtend",
            "df5768003f4e9582f3a3f19689bfbf102883fa6b"
        ],
        [
            "apply (proj2 H11) in H2.",
            "VernacExtend",
            "e0e98855cede6659f621f0cdab588b3683d5404f"
        ],
        [
            "eapply sat_mono in H0; [| exact H2].",
            "VernacExtend",
            "b7eb1442d9d53ec5e19ac0e190116927d7a11442"
        ],
        [
            "inversion H8; subst.",
            "VernacExtend",
            "21c7ae0e8c1a08e9117cf9de7e3342e9227b094c"
        ],
        [
            "destruct ms_post; inversion H3; subst.",
            "VernacExtend",
            "c84330f63f1fa4bc801d2bb32794c3e337f9e5b6"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in TRACE_ACC.",
            "VernacExtend",
            "606a7f21ade06602a7a5e1ee91e74bdbcfc9d74a"
        ],
        [
            "assert (forall ms, thread_local_state_enable Inv1 a (A2, s) ms -> match ms with | Error => thread_local_state_enable Inv0 a (A1, s) Error | NonTerminating => thread_local_state_enable Inv0 a (A1, s) NonTerminating | Terminating (A2', s') => exists A1', join A1' (eq r) A2' /\\ thread_local_state_enable Inv0 a (A1, s) (Terminating (A1', s')) end).",
            "VernacExtend",
            "7ad50a31ce5be34fee0569600efd765ca6e3480c"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "clear - INV_CONS INV NO_OCCUR JOIN_RES AIr.",
            "VernacExtend",
            "7b2499cbc2f88ec5e5f7706e1c72988e0177786c"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "assert (~ is_resource_action r a).",
            "VernacExtend",
            "8e4d810d31e0853b48b77185f12f89a256b443dc"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intros [? | ?].",
            "VernacExtend",
            "649aab8729a95019899910fbd7756e85a21da1d8"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "subst; apply (proj1 NO_OCCUR).",
            "VernacExtend",
            "7ba93c1fb567aa8f660687b1c160bbb875e84f5d"
        ],
        [
            "left; auto.",
            "VernacExtend",
            "b03090a3068bb41ee1034a9c886a5e47eddfb98a"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "subst; apply (proj2 NO_OCCUR).",
            "VernacExtend",
            "796e4dddb92d67c9eac7c8ccf57ff8b3bb7a39b7"
        ],
        [
            "left; auto.",
            "VernacExtend",
            "b03090a3068bb41ee1034a9c886a5e47eddfb98a"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "clear NO_OCCUR; rename H0 into NO_OCCUR.",
            "VernacExtend",
            "1011eda002ce355d1fb99f0c89f0b9b48e132dba"
        ],
        [
            "inversion H; subst; solve_resource_action.",
            "VernacExtend",
            "f542b6d349e2a30ba9441b12d834f0904439c6f9"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "assert (Inv0 (r0, I0)).",
            "VernacExtend",
            "c5f78339549df2e5ede9ba453f2c1416c109faca"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "specialize (INV_CONS (r0, I0)).",
            "VernacExtend",
            "546c0b1dfb0379787840a719f9d0f44c4ce1407f"
        ],
        [
            "assert ((r, fun m : model => KRIPKE: m |= I) <> (r0, I0)) by congruence.",
            "VernacExtend",
            "5a806f6281ec5ffae64d9e2893fc1d793ff0c92f"
        ],
        [
            "destruct INV_CONS; tauto.",
            "VernacExtend",
            "680e6b5f1303c59a55bada507be5dfe3e58c00ba"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "rename A3 into A2'.",
            "VernacExtend",
            "85dff1f12ac38f98f88689871153cdc4febf61f8"
        ],
        [
            "pose proof join_assoc _ _ _ _ _ (join_comm _ _ _ JOIN_RES) H2 as [A1' [? ?]].",
            "VernacExtend",
            "92770e46c66571c8c10e1b47cf31cb830154bdb0"
        ],
        [
            "apply join_comm in H4.",
            "VernacExtend",
            "26260c2ae693b4e08dee618c6a3365e7be88da91"
        ],
        [
            "exists A1'; split; auto.",
            "VernacExtend",
            "59e084fcc42731afdac889ad31a0a93b9831f1a1"
        ],
        [
            "eapply (thread_local_state_enable_acq _ _ _ _ _ _ _ _ H1 H0 H5 H7).",
            "VernacExtend",
            "ac61fa1b8c897313906c7d816bededb39376d617"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "assert (Inv0 (r0, I0)).",
            "VernacExtend",
            "c5f78339549df2e5ede9ba453f2c1416c109faca"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "specialize (INV_CONS (r0, I0)).",
            "VernacExtend",
            "546c0b1dfb0379787840a719f9d0f44c4ce1407f"
        ],
        [
            "assert ((r, fun m : model => KRIPKE: m |= I) <> (r0, I0)) by congruence.",
            "VernacExtend",
            "5a806f6281ec5ffae64d9e2893fc1d793ff0c92f"
        ],
        [
            "destruct INV_CONS; tauto.",
            "VernacExtend",
            "680e6b5f1303c59a55bada507be5dfe3e58c00ba"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "rename A3 into A2'.",
            "VernacExtend",
            "85dff1f12ac38f98f88689871153cdc4febf61f8"
        ],
        [
            "set (A1' := fun rr => A2' rr /\\ r <> rr).",
            "VernacExtend",
            "c4f19f13e06d544c4134d23167c56d2aa822449b"
        ],
        [
            "assert (join A1' (eq r) A2').",
            "VernacExtend",
            "cc3aa7f741e80362c8bca890c4f2e68edd0308f8"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "subst A1'; intros rr; specialize (H2 rr); specialize (JOIN_RES rr).",
            "VernacExtend",
            "284b78e34b44371ac4ab797114f757b0b72404d1"
        ],
        [
            "assert (r0 = rr -> r = rr -> False) by (intros; congruence).",
            "VernacExtend",
            "14f39a1af0871e950c7775821da168e3fa38732e"
        ],
        [
            "destruct H2, JOIN_RES; split; tauto.",
            "VernacExtend",
            "7f58579e9e83d10c78b60dc0a2ca099035bb074e"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "assert (join A1' (eq r0) A1).",
            "VernacExtend",
            "b0b9bdae4676ddf4a9beb005c26e6fae63963f4f"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "subst A1'; intros rr; specialize (H2 rr); specialize (JOIN_RES rr).",
            "VernacExtend",
            "284b78e34b44371ac4ab797114f757b0b72404d1"
        ],
        [
            "assert (r0 = rr -> r = rr -> False) by (intros; congruence).",
            "VernacExtend",
            "14f39a1af0871e950c7775821da168e3fa38732e"
        ],
        [
            "destruct H2, JOIN_RES; split; tauto.",
            "VernacExtend",
            "7f58579e9e83d10c78b60dc0a2ca099035bb074e"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "exists A1'; split; auto.",
            "VernacExtend",
            "59e084fcc42731afdac889ad31a0a93b9831f1a1"
        ],
        [
            "eapply (thread_local_state_enable_rel_succ _ _ _ _ _ _ _ H3 H0 H6).",
            "VernacExtend",
            "1c54ab8e6ec72f0be76ca9fd7b80e7535ba3ee93"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "assert (Inv0 (r0, I0)).",
            "VernacExtend",
            "c5f78339549df2e5ede9ba453f2c1416c109faca"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "specialize (INV_CONS (r0, I0)).",
            "VernacExtend",
            "546c0b1dfb0379787840a719f9d0f44c4ce1407f"
        ],
        [
            "assert ((r, fun m : model => KRIPKE: m |= I) <> (r0, I0)) by congruence.",
            "VernacExtend",
            "5a806f6281ec5ffae64d9e2893fc1d793ff0c92f"
        ],
        [
            "destruct INV_CONS; tauto.",
            "VernacExtend",
            "680e6b5f1303c59a55bada507be5dfe3e58c00ba"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "rename A3 into A2'.",
            "VernacExtend",
            "85dff1f12ac38f98f88689871153cdc4febf61f8"
        ],
        [
            "set (A1' := fun rr => A2' rr /\\ r <> rr).",
            "VernacExtend",
            "c4f19f13e06d544c4134d23167c56d2aa822449b"
        ],
        [
            "assert (join A1' (eq r) A2').",
            "VernacExtend",
            "cc3aa7f741e80362c8bca890c4f2e68edd0308f8"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "subst A1'; intros rr; specialize (H2 rr); specialize (JOIN_RES rr).",
            "VernacExtend",
            "284b78e34b44371ac4ab797114f757b0b72404d1"
        ],
        [
            "assert (r0 = rr -> r = rr -> False) by (intros; congruence).",
            "VernacExtend",
            "14f39a1af0871e950c7775821da168e3fa38732e"
        ],
        [
            "destruct H2, JOIN_RES; split; tauto.",
            "VernacExtend",
            "7f58579e9e83d10c78b60dc0a2ca099035bb074e"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "assert (join A1' (eq r0) A1).",
            "VernacExtend",
            "b0b9bdae4676ddf4a9beb005c26e6fae63963f4f"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "subst A1'; intros rr; specialize (H2 rr); specialize (JOIN_RES rr).",
            "VernacExtend",
            "284b78e34b44371ac4ab797114f757b0b72404d1"
        ],
        [
            "assert (r0 = rr -> r = rr -> False) by (intros; congruence).",
            "VernacExtend",
            "14f39a1af0871e950c7775821da168e3fa38732e"
        ],
        [
            "destruct H2, JOIN_RES; split; tauto.",
            "VernacExtend",
            "7f58579e9e83d10c78b60dc0a2ca099035bb074e"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "eapply (thread_local_state_enable_rel_fail _ _ _ _ _ _ H3 H0 H6).",
            "VernacExtend",
            "c24d3c9769eed4a8ffb983aa274673d41c9552c8"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct ms as [| | [A2' s']].",
            "VernacExtend",
            "f3b22e2b05eb85d914624b90029b8ba1f654eb6a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply thread_local_state_enable_non_resource; auto.",
            "VernacExtend",
            "0cd45019b148ecdd6fa8a848fc389e08d7c94e48"
        ],
        [
            "change Error with (lift_function (pair A1) (@Error model)).",
            "VernacExtend",
            "2e017941618bda5491aa937d03e1d81b257b5f6e"
        ],
        [
            "change Error with (lift_function (pair A2) (@Error model)) in H1.",
            "VernacExtend",
            "1d7f6cf387e999cfc8be9445db5e80474e4dda15"
        ],
        [
            "apply (state_enable_non_resource_action2 _ _ _ _ _ H0 H1).",
            "VernacExtend",
            "af8b30ccbdfb0fda50d136c0124d8b0321b9ef7a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply thread_local_state_enable_non_resource; auto.",
            "VernacExtend",
            "0cd45019b148ecdd6fa8a848fc389e08d7c94e48"
        ],
        [
            "change NonTerminating with (lift_function (pair A1) (@NonTerminating model)).",
            "VernacExtend",
            "aef20dd45cf918c1367ac05f769c9eb349af493b"
        ],
        [
            "change NonTerminating with (lift_function (pair A2) (@NonTerminating model)) in H1.",
            "VernacExtend",
            "887e6a84c8a5273c18876e62a4c0386f149b4d4a"
        ],
        [
            "apply (state_enable_non_resource_action2 _ _ _ _ _ H0 H1).",
            "VernacExtend",
            "af8b30ccbdfb0fda50d136c0124d8b0321b9ef7a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "pose proof state_enable_non_resource_action1 _ _ _ _ _ H0 H1; subst A2'.",
            "VernacExtend",
            "28d9741bc37586fc950a4bb5fce3231fa4852d73"
        ],
        [
            "exists A1.",
            "VernacExtend",
            "860e23291647008053c30621a32bfd6912a8a298"
        ],
        [
            "split; auto.",
            "VernacExtend",
            "fcd44a714bd12fa54b1c7746996e44dbac16df06"
        ],
        [
            "eapply thread_local_state_enable_non_resource; auto.",
            "VernacExtend",
            "0cd45019b148ecdd6fa8a848fc389e08d7c94e48"
        ],
        [
            "change (Terminating (A2, s')) with (lift_function (pair A2) (Terminating s')) in H1.",
            "VernacExtend",
            "741b44fa5d74172fc0811e9bbfa9a8fc9d6170ed"
        ],
        [
            "apply (state_enable_non_resource_action2 _ _ _ _ _ H0 H1).",
            "VernacExtend",
            "af8b30ccbdfb0fda50d136c0124d8b0321b9ef7a"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Unfocus.",
            "VernacUnfocus",
            "bedcc8cdbc0e659ad45d78624bfea9462efb82d1"
        ],
        [
            "inversion TRACE_ACC; subst.",
            "VernacExtend",
            "47f144e4f9ee721c7ab21b4fcffc340f33747a5e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct ms_post; inversion H4; auto.",
            "VernacExtend",
            "356b921fdea2e1705a69659111b89cf6ef88c8f6"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "simpl in H3.",
            "VernacExtend",
            "2a96f120ac764efacadc60b978d01343f60aafa0"
        ],
        [
            "apply H in H3.",
            "VernacExtend",
            "cd33cd2661bfb9c56f2332a4df63969b137f057c"
        ],
        [
            "specialize (ASSU A1 Error (@trace_access_Error _ _ (ThreadLocal_ActionInterpret_resource _ Inv0) _ _ _ H3)).",
            "VernacExtend",
            "5c8e2b7825b5ba0d853233b5d400b00f5dc65bb4"
        ],
        [
            "inversion ASSU.",
            "VernacExtend",
            "4b4d4781e6f2620347d8abd5bacfd89980bd4e16"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "simpl in H2.",
            "VernacExtend",
            "b1e247c43b6623097ab13813b4de664287dd4249"
        ],
        [
            "apply H in H2.",
            "VernacExtend",
            "74a212b9e7baa8aa6844e71898c157973d7f5b2a"
        ],
        [
            "destruct s' as [A2' s'].",
            "VernacExtend",
            "61307e8bb080e1df70d93ad7895431a89cb5ca79"
        ],
        [
            "destruct H2 as [A1' [? ?]].",
            "VernacExtend",
            "1f3ae23bba86e3a53c3e17310704448e9fb5dce3"
        ],
        [
            "assert (~ In (Aacquire_res r) tr /\\ ~ In (Arelease_res r) tr) by (simpl in NO_OCCUR; tauto).",
            "VernacExtend",
            "555ad5c11e24db8450dfa0fde840838ef9bac9e9"
        ],
        [
            "apply (IHtr H2 A1' A2' s'); auto; clear H2 ms_post IHtr TRACE_ACC H5 A_post.",
            "VernacExtend",
            "a55b0420141d41afd01cce32b2cc9151fa4798f5"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply (ASSU A_post ms_post).",
            "VernacExtend",
            "55937fc3947fb58114238567d8c38061d8c9a82d"
        ],
        [
            "eapply trace_access_Terminating; eauto.",
            "VernacExtend",
            "cff885d41f405c56f4c897e55341917674652e76"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End soundness.",
            "VernacEndSegment",
            "04011f071a777fce303ecc49ebc908aeec5ba44b"
        ]
    ],
    "proofs": [
        {
            "name": "start_by_Aacq_or_Arel",
            "line_nb": 29,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "induction tr.",
                        "VernacExtend",
                        "460bf2433bb84809adedbb4a137050218c573db2"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "inversion H0.",
                        "VernacExtend",
                        "38a13882efcff2ae2c6c07fc8055d56c6c1776f2"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct (classic (is_resource_action r a)) as [[? | ?] | ?]; subst.",
                        "VernacExtend",
                        "acdc2571575d7703780c2a205e91939e0f512055"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "inversion H0; subst; solve_resource_action.",
                        "VernacExtend",
                        "a139cd4191b28a3d69fdb048613d26e892a99768"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "inversion H; subst; solve_resource_action.",
                        "VernacExtend",
                        "f542b6d349e2a30ba9441b12d834f0904439c6f9"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "inversion H; subst; solve_resource_action.",
                        "VernacExtend",
                        "f542b6d349e2a30ba9441b12d834f0904439c6f9"
                    ]
                },
                {
                    "command": [
                        "inversion H0; subst; solve_resource_action.",
                        "VernacExtend",
                        "a139cd4191b28a3d69fdb048613d26e892a99768"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}