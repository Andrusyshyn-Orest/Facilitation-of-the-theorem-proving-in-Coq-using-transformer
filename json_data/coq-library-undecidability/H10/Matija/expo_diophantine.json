{
    "filename": "H10/Matija/expo_diophantine.v",
    "coq_project": "coq-library-undecidability",
    "vernac_cmds": [
        [
            "Require Import Arith Omega Eqdep_dec ZArith.",
            "VernacRequire",
            "66d858880f1072be2c291ff24174be9491190aa1"
        ],
        [
            "Require Import utils_tac gcd sums Zp alpha.",
            "VernacRequire",
            "14d41ad0a1bd9293748e1be8d9f1cf038744f909"
        ],
        [
            "Set Implicit Arguments.",
            "VernacSetOption",
            "9e84ff8896f028601d8aded48c1d4aebe60aa584"
        ],
        [
            "Local Notation expo := (mscal mult 1).",
            "VernacSyntacticDefinition",
            "a9d89f18094dde43656d918b39780d2e71530b32"
        ],
        [
            "Section expo_diophantine.",
            "VernacBeginSection",
            "62b999542a24007fdfa29973a9f047bd5348f7a2"
        ],
        [
            "Variables (p q r : nat).",
            "VernacAssumption",
            "8bc292d523854ca749dcdb8c3251f8a73e759934"
        ],
        [
            "Definition expo_conditions := r = 0 /\\ p = 1 \\/ q = 0 /\\ 0 < r /\\ p = 0 \\/ (0 < r /\\ q <> 0) /\\ exists b m a1 a2 a3, (3 < q+4 /\\ a1 = alpha_nat (q+4) (1+r)) /\\ (3 < b /\\ a2 = alpha_nat b r) /\\ (3 < b /\\ a3 = alpha_nat b (1+r)) /\\ b = a1+q*q+2 /\\ m + q*q + 1 = b*q /\\ p < m /\\ rem (p+b*a2) m = rem (q*a2+a3) m.",
            "VernacDefinition",
            "fee289d93419672a6882499278900dfdc49c8adf"
        ],
        [
            "Let H_q3_q : 0 < q -> q*q+2 <= q*q*q+2*q.",
            "VernacDefinition",
            "e8f7646d58952a0b5e1cae81a2df593279a59bd0"
        ],
        [
            "intros H.",
            "VernacExtend",
            "5cfae87a34fa7b59a257c9640f1b674f6e6d780b"
        ],
        [
            "apply plus_le_compat; try omega.",
            "VernacExtend",
            "14d9d99fb70a24ade392cd8806f443cf9449c410"
        ],
        [
            "replace q with (1+(q-1)) at 3 by omega.",
            "VernacExtend",
            "87ae2298cf45838b8a7aa0486960fcbbc178448f"
        ],
        [
            "rewrite <- mult_assoc, Nat.mul_add_distr_r, Nat.mul_1_l.",
            "VernacExtend",
            "e5d7667d9284007d7ff71c8070f9951bcfafee48"
        ],
        [
            "apply le_plus_l.",
            "VernacExtend",
            "30f3305f62c97c24af24578d88eaa888a0053ec1"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma expo_sufficiency : p = expo r q -> expo_conditions.",
            "VernacStartTheoremProof",
            "9e4467161b3a3a3d60505ef6178cec22b3173c50"
        ],
        [
            "intros H.",
            "VernacExtend",
            "5cfae87a34fa7b59a257c9640f1b674f6e6d780b"
        ],
        [
            "destruct (le_lt_dec r 0) as [ Hr | Hr ]; red.",
            "VernacExtend",
            "05d45d82a48b9a585bf52abe158c437fcea8fd31"
        ],
        [
            "1: {",
            "VernacSubproof",
            "a147bdce532f4736a87d082ae6bf1b81b9fb6c46"
        ],
        [
            "left; revert H; replace r with 0 by omega; rewrite mscal_0; tauto.",
            "VernacExtend",
            "849110ee7eb7d56097c7aaf0345821d4e15274f6"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "destruct (eq_nat_dec q 0) as [ Hq | Hq ].",
            "VernacExtend",
            "2147fd703288c3a0d5de5f64760e89d9e33479c0"
        ],
        [
            "1: {",
            "VernacSubproof",
            "a147bdce532f4736a87d082ae6bf1b81b9fb6c46"
        ],
        [
            "right; left; subst; rewrite power_of_0; auto.",
            "VernacExtend",
            "bfc899148e3452024f4aa9ab31e2682f6f0883e8"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "remember (alpha_nat (q+4) (S r)) as a1.",
            "VernacExtend",
            "a8ac6fab0453c5073e62172d70069821e1f5724e"
        ],
        [
            "remember (a1+q*q+2) as b.",
            "VernacExtend",
            "88e1849e8e30c523d7ad499769976c5162ee240a"
        ],
        [
            "remember (alpha_nat b r) as a2.",
            "VernacExtend",
            "8ad04bc9c26a9a83ce7725583b01eb0dccef671f"
        ],
        [
            "remember (alpha_nat b (1+r)) as a3.",
            "VernacExtend",
            "48b4b5e5da38e0764375a4b96a0fd42ad8c0b27f"
        ],
        [
            "remember (b*q-q*q-1) as m.",
            "VernacExtend",
            "12e5eee58c34aa1f5bfd30cdf4aab5aafe4ea0a5"
        ],
        [
            "right; right; split; auto; exists b, m, a1, a2, a3.",
            "VernacExtend",
            "16a0e99881f0cf152ae2039807065b5a1a329475"
        ],
        [
            "assert (3 < b) as Hb.",
            "VernacExtend",
            "4e022fd2ff7e5816fe36921d4ca73ff4101d9c61"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "rewrite Heqb.",
            "VernacExtend",
            "cbce3b46755fda19db8de2f22b05599c403be891"
        ],
        [
            "apply lt_le_trans with (1+(1*1)+2); try omega.",
            "VernacExtend",
            "4da202c2f2e05c6af483a68d0d0fe4248f435a28"
        ],
        [
            "repeat apply plus_le_compat; auto.",
            "VernacExtend",
            "ae65b4d27935ff0863d4b2aaf226b383e450c0d1"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite Heqa1.",
            "VernacExtend",
            "45e5d4e356ba922ba883c5778bf439990638e117"
        ],
        [
            "apply alpha_nat_mono with (i := 1); omega.",
            "VernacExtend",
            "45ec8769ddedd9994abebf48ff475e0547f4d9ba"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply mult_le_compat; omega.",
            "VernacExtend",
            "8ac3a3f99ad509125bddafbb87ddda0ca8ae181c"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "assert (2 <= b) as Hb' by omega.",
            "VernacExtend",
            "8d15498bdc95ff3079ece8442c6de483834796ee"
        ],
        [
            "destruct (@alpha_nat_power (q+4)) with (n := r) as (H1 & H2); try omega.",
            "VernacExtend",
            "b62e610c9c641fb7cc21f74d5ed7ef3c9f3cce9b"
        ],
        [
            "assert (q*q+2 <= q*q*q+2*q) as Hq'.",
            "VernacExtend",
            "80caeda56ae6121cc9379b6e225de8cc9d730e93"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "apply H_q3_q; omega.",
            "VernacExtend",
            "b8479f51ecd8cf605b96fbc95706b7d599836153"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "assert (m <> 0) as Hm.",
            "VernacExtend",
            "8de12fff00f3e7e4b1149be4f34d920a8dba1ec0"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "rewrite Heqm, Heqb.",
            "VernacExtend",
            "49827e591ef386fc173dbf8aa5a590b5682e981e"
        ],
        [
            "do 2 rewrite Nat.mul_add_distr_r.",
            "VernacExtend",
            "4d497080aaad77d0f239c05a14255c0f836f6ea1"
        ],
        [
            "assert (a1*q <> 0) as Ha1.",
            "VernacExtend",
            "dd2f384760e4b25286dc942adb21db17aa9da9b2"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intros E; apply mult_is_O in E.",
            "VernacExtend",
            "8d1cc183bfb092a1a0fe2abea234377d6b54f537"
        ],
        [
            "destruct E as [ E | ]; try omega.",
            "VernacExtend",
            "4ed5bf8c407a04d4a653d0e52db656e4ae6f1866"
        ],
        [
            "revert E; rewrite Heqa1.",
            "VernacExtend",
            "6f7c873102d4fb4e9df1196c1b53a6326eeeb393"
        ],
        [
            "apply alpha_nat_gt_0; omega.",
            "VernacExtend",
            "ccb503cb139117149fdfa30bc5d0eedbece27dde"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "revert Ha1; generalize (a1*q); intros x Hx.",
            "VernacExtend",
            "1fd2ed69b8de10e4e39f9510f92ed642b28c4faf"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "assert (expo r q < m) as Hexpo.",
            "VernacExtend",
            "68fe04486379a50f0d05b96e123ac20e6af3bd6c"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "rewrite Heqm, Heqb.",
            "VernacExtend",
            "49827e591ef386fc173dbf8aa5a590b5682e981e"
        ],
        [
            "do 2 rewrite Nat.mul_add_distr_r.",
            "VernacExtend",
            "4d497080aaad77d0f239c05a14255c0f836f6ea1"
        ],
        [
            "rewrite <- Heqa1 in H1.",
            "VernacExtend",
            "dbe2c5cdad56e02227a11bbfaf2c1a5f46374e31"
        ],
        [
            "apply lt_le_trans with (a1*1+1).",
            "VernacExtend",
            "2f02457582c0c17b57df68a1fea18e2c7ee6f75e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite plus_comm, Nat.mul_1_r; apply le_n_S.",
            "VernacExtend",
            "1534fdba556264c136fd407dc8f75c2816c84892"
        ],
        [
            "apply le_trans with (2 := H1).",
            "VernacExtend",
            "9cfab5f4f74f12e9b868659e8d665a8e86cbf4c5"
        ],
        [
            "apply power_mono_r; omega.",
            "VernacExtend",
            "69f99f4931490c538886ab840d038720108b9fce"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite <- Nat.sub_add_distr, <- plus_assoc, <- Nat.add_sub_assoc; try omega.",
            "VernacExtend",
            "ba9e4f273881550cad2dc0675325329d83b84393"
        ],
        [
            "apply plus_le_compat; try omega.",
            "VernacExtend",
            "14d9d99fb70a24ade392cd8806f443cf9449c410"
        ],
        [
            "apply mult_le_compat; omega.",
            "VernacExtend",
            "8ac3a3f99ad509125bddafbb87ddda0ca8ae181c"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "repeat (split; auto); try omega.",
            "VernacExtend",
            "85054cfa2be7f02efd9559f10a4dc689e9c9379b"
        ],
        [
            "rewrite <- nat2Zp_inj with (Hp := Hm).",
            "VernacExtend",
            "b405a7261340b578148cd139d916800870a718aa"
        ],
        [
            "do 2 rewrite nat2Zp_plus.",
            "VernacExtend",
            "6e4e7402f99be0433960f51b39eb81d89efe2971"
        ],
        [
            "rewrite Heqa2.",
            "VernacExtend",
            "fa17b986f19188af6b5fc009534f9924070737ea"
        ],
        [
            "revert Hm; rewrite Heqm; intros Hm.",
            "VernacExtend",
            "eae3ca7d9c130c5ad1bde037695d4c24a82a7e4f"
        ],
        [
            "rewrite expo_congruence; auto.",
            "VernacExtend",
            "e4da8b77390bbf2e61000f38afafab73639751b9"
        ],
        [
            "rewrite <- H, plus_comm, nat2Zp_plus, <- Zp_plus_assoc; f_equal.",
            "VernacExtend",
            "405b12f06d3171dcb69bd97621fa771534ba42c2"
        ],
        [
            "rewrite <- nat2Zp_plus; f_equal.",
            "VernacExtend",
            "c17426be2444c46833d323e2991896b2fa0725df"
        ],
        [
            "rewrite Heqa3.",
            "VernacExtend",
            "333e2df5515a06268fc9c39ac201210e6082a178"
        ],
        [
            "destruct r as [ | r' ]; try omega.",
            "VernacExtend",
            "843d6008ced2b4050cc214e056f6ae05068ff9dc"
        ],
        [
            "replace (S r' -1) with r' by omega.",
            "VernacExtend",
            "724971a737d93acbeccc17898121c4d7dafae69b"
        ],
        [
            "simpl plus at 2.",
            "VernacExtend",
            "d56a4696657c3869855f186b9d96997046d49841"
        ],
        [
            "rewrite alpha_nat_fix_2.",
            "VernacExtend",
            "04f06b1cfc20f1e095c8edf4e56676773fb95a7a"
        ],
        [
            "generalize (alpha_nat_le Hb' r'); omega.",
            "VernacExtend",
            "2f263b6a1ee1ef3d435078d58358aaf792c13aa6"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Infix \"\u2295\" := (Zp_plus _) (at level 50, left associativity).",
            "VernacInfix",
            "5b668e78c9f024859bf4ffb65268ba4789933e5c"
        ],
        [
            "Infix \"\u2297\" := (Zp_mult _) (at level 40, left associativity).",
            "VernacInfix",
            "03670edd34fcadcdf79f89c36c1dc6594562e7fe"
        ],
        [
            "Notation \"\u2238\" := (Zp_opp _).",
            "VernacNotation",
            "d564daf453942fd7d1a728f536a3f36678f4fb85"
        ],
        [
            "Notation f := (nat2Zp _).",
            "VernacSyntacticDefinition",
            "5af4d57a99293628f0183107817da565e2858d93"
        ],
        [
            "Notation \"\u301a x \u301b\" := (f x).",
            "VernacNotation",
            "85186030349ed3739e8350a950acb57d7101c276"
        ],
        [
            "Ltac fold_nat2Zp := repeat match goal with | |- context[nat2Zp _ ?x \u2295 nat2Zp _ ?y] => rewrite <- nat2Zp_plus | |- context[nat2Zp _ ?x \u2297 nat2Zp _ ?y] => rewrite <- nat2Zp_mult | |- context[\u2238 nat2Zp _ ?x] => fail end.",
            "VernacExtend",
            "873e980a86cc73fb83b616b03dcc08adc2dc9709"
        ],
        [
            "Lemma expo_necessity : expo_conditions -> p = expo r q.",
            "VernacStartTheoremProof",
            "cdbb3db0df21251d32462c6aca9971288c6a7676"
        ],
        [
            "unfold expo_conditions.",
            "VernacExtend",
            "ee71432b57837060dd598efcf2a7eeb6aac6677b"
        ],
        [
            "intros [ (H1 & H2) | [ (H1 & H2 & H3) | ((H0 & H1) & b & m & a1 & a2 & a3 & (_ & H2) & (H3 & H4) & (H5 & H6) & H7 & H8 & H9 & H10) ] ].",
            "VernacExtend",
            "adfa2273279e71cc76854b85ce5669a8b5a5717d"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "subst; auto.",
            "VernacExtend",
            "0dfc636d3b0c9fb40074fb6c1c1b90bf77fecdc8"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "subst; rewrite power_of_0; auto.",
            "VernacExtend",
            "b11b0c9ccc72eacb7ccf9810324f32fb428abbee"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "assert (m = b*q - q*q -1) as Hm1 by omega.",
            "VernacExtend",
            "2a5a6b3e5f4fa1a37e87465c6693e91a072e513a"
        ],
        [
            "assert (m <> 0) as Hm by omega.",
            "VernacExtend",
            "044cd3075fcc7fc867fdadf6e845029ab30c2119"
        ],
        [
            "assert (q*q+2 <= q*q*q+2*q) as Hq'.",
            "VernacExtend",
            "80caeda56ae6121cc9379b6e225de8cc9d730e93"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "apply H_q3_q; omega.",
            "VernacExtend",
            "b8479f51ecd8cf605b96fbc95706b7d599836153"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "assert (expo r q < m) as Hq.",
            "VernacExtend",
            "fda222bdc660828ecd7a4689d06ea3d8b92c43f2"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "rewrite Hm1, H7.",
            "VernacExtend",
            "8b08cc69c2b49330905e3b0ad6db1accc7ba2aa4"
        ],
        [
            "do 2 rewrite Nat.mul_add_distr_r.",
            "VernacExtend",
            "4d497080aaad77d0f239c05a14255c0f836f6ea1"
        ],
        [
            "apply lt_le_trans with (a1*1+1).",
            "VernacExtend",
            "2f02457582c0c17b57df68a1fea18e2c7ee6f75e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite plus_comm, Nat.mul_1_r; apply le_n_S.",
            "VernacExtend",
            "1534fdba556264c136fd407dc8f75c2816c84892"
        ],
        [
            "destruct alpha_nat_power with (b_nat := q+4) (n := r) as (G1 & _); try omega.",
            "VernacExtend",
            "017a3ce330f628d91e914a4f540dddb57867c473"
        ],
        [
            "rewrite H2.",
            "VernacExtend",
            "c34b98a4ea7c987830199fe378bb7a145a0d652e"
        ],
        [
            "apply le_trans with (2 := G1), power_mono_r; omega.",
            "VernacExtend",
            "0f4df2550809571ccccf1029a4e6f9630be22644"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite <- Nat.sub_add_distr, <- plus_assoc, <- Nat.add_sub_assoc; try omega.",
            "VernacExtend",
            "ba9e4f273881550cad2dc0675325329d83b84393"
        ],
        [
            "apply plus_le_compat; try omega.",
            "VernacExtend",
            "14d9d99fb70a24ade392cd8806f443cf9449c410"
        ],
        [
            "apply mult_le_compat; omega.",
            "VernacExtend",
            "8ac3a3f99ad509125bddafbb87ddda0ca8ae181c"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "rewrite <- (rem_lt Hm H9), <- (rem_lt Hm Hq).",
            "VernacExtend",
            "91f8dc24c855bdf437f2270ac5bc2593bf0fd8c6"
        ],
        [
            "revert H10.",
            "VernacExtend",
            "1b68811e3442c503e18b39ddeab477e1427ac0f2"
        ],
        [
            "rewrite Hm1 in Hm |- *.",
            "VernacExtend",
            "c017c7ccf743bc4598517717beb24fdc4d431ca4"
        ],
        [
            "do 2 rewrite <- nat2Zp_inj with (Hp := Hm).",
            "VernacExtend",
            "aee59aa3e50f45e9cd9f62f2f43658abbc1402a8"
        ],
        [
            "do 2 rewrite nat2Zp_plus.",
            "VernacExtend",
            "6e4e7402f99be0433960f51b39eb81d89efe2971"
        ],
        [
            "rewrite H4, expo_congruence; auto; [ | omega ].",
            "VernacExtend",
            "6abf563b38c61fabfec372d6bc95c508f556325f"
        ],
        [
            "rewrite H6, nat2Zp_plus.",
            "VernacExtend",
            "c251b1091fe767202fedf5ecaccec9ef9e7c3d79"
        ],
        [
            "destruct r as [ | r' ]; [ omega | ].",
            "VernacExtend",
            "4cc4c9c8d13797f05cace693f552e3eb48a26810"
        ],
        [
            "replace (S r' -1) with r' by omega.",
            "VernacExtend",
            "724971a737d93acbeccc17898121c4d7dafae69b"
        ],
        [
            "simpl plus.",
            "VernacExtend",
            "302d59ec058a7878cc820c70eda2d0fdedc9da24"
        ],
        [
            "rewrite alpha_nat_fix_2, nat2Zp_minus.",
            "VernacExtend",
            "51c8a3aa7b07fabae0d82df061d080045af43bc0"
        ],
        [
            "2: apply alpha_nat_le; omega.",
            "VernacExtend",
            "6b02cf66b78644c36db7007c3dd0c40e58f3c99a"
        ],
        [
            "intros H; rewrite Zp_opp_plus_eq in H.",
            "VernacExtend",
            "39dc99e0af02dab0de421022d0379594dc3b7835"
        ],
        [
            "rewrite H.",
            "VernacExtend",
            "6192df8b89486a3ba89a78e26e0d70cae2dc94c2"
        ],
        [
            "rewrite (Zp_plus_comm _ \u301ab * _\u301b (\u2238 _)).",
            "VernacExtend",
            "b2e3668167e7e34ce7c9568bb1ff421487463d1e"
        ],
        [
            "repeat rewrite <- Zp_plus_assoc.",
            "VernacExtend",
            "0ce50fcd574baf7072b6719f597f96691127b38d"
        ],
        [
            "rewrite Zp_minus, Zp_plus_zero_r.",
            "VernacExtend",
            "206ff9354e7e28b2455c597f213c8df0e160fa93"
        ],
        [
            "rewrite Zp_plus_comm, <- Zp_plus_assoc.",
            "VernacExtend",
            "cc0569ad36391d5bb430cb7a6ddb9ccc21320f55"
        ],
        [
            "rewrite (Zp_plus_comm _ (\u2238 _)), Zp_minus, Zp_plus_zero_r.",
            "VernacExtend",
            "33540dc15de339c32168b1b7d363687583da453a"
        ],
        [
            "trivial.",
            "VernacExtend",
            "6704630005ea37c1f66f817f0d3cb83967ca08c5"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End expo_diophantine.",
            "VernacEndSegment",
            "fbf52e7ca5901ff86b8b709a426b89cc410fc7fb"
        ],
        [
            "Local Hint Resolve expo_sufficiency expo_necessity.",
            "VernacHints",
            "d869486f1af8067b4cc202bbafbb8fd61af6d2e3"
        ],
        [
            "Theorem expo_diophantine p q r : p = expo r q <-> expo_conditions p q r.",
            "VernacStartTheoremProof",
            "e74a2733e72cc2deab378f642b816ebd79063e25"
        ],
        [
            "split; auto.",
            "VernacExtend",
            "fcd44a714bd12fa54b1c7746996e44dbac16df06"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ]
    ],
    "proofs": [
        {
            "name": "H_q3_q",
            "line_nb": 7,
            "steps": [
                {
                    "command": [
                        "intros H.",
                        "VernacExtend",
                        "5cfae87a34fa7b59a257c9640f1b674f6e6d780b"
                    ]
                },
                {
                    "command": [
                        "apply plus_le_compat; try omega.",
                        "VernacExtend",
                        "14d9d99fb70a24ade392cd8806f443cf9449c410"
                    ]
                },
                {
                    "command": [
                        "replace q with (1+(q-1)) at 3 by omega.",
                        "VernacExtend",
                        "87ae2298cf45838b8a7aa0486960fcbbc178448f"
                    ]
                },
                {
                    "command": [
                        "rewrite <- mult_assoc, Nat.mul_add_distr_r, Nat.mul_1_l.",
                        "VernacExtend",
                        "e5d7667d9284007d7ff71c8070f9951bcfafee48"
                    ]
                },
                {
                    "command": [
                        "apply le_plus_l.",
                        "VernacExtend",
                        "30f3305f62c97c24af24578d88eaa888a0053ec1"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "expo_sufficiency",
            "line_nb": 14,
            "steps": [
                {
                    "command": [
                        "intros H.",
                        "VernacExtend",
                        "5cfae87a34fa7b59a257c9640f1b674f6e6d780b"
                    ]
                },
                {
                    "command": [
                        "destruct (le_lt_dec r 0) as [ Hr | Hr ]; red.",
                        "VernacExtend",
                        "05d45d82a48b9a585bf52abe158c437fcea8fd31"
                    ]
                },
                {
                    "command": [
                        "1: {",
                        "VernacSubproof",
                        "a147bdce532f4736a87d082ae6bf1b81b9fb6c46"
                    ]
                },
                {
                    "command": [
                        "left; revert H; replace r with 0 by omega; rewrite mscal_0; tauto.",
                        "VernacExtend",
                        "849110ee7eb7d56097c7aaf0345821d4e15274f6"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_nat_dec q 0) as [ Hq | Hq ].",
                        "VernacExtend",
                        "2147fd703288c3a0d5de5f64760e89d9e33479c0"
                    ]
                },
                {
                    "command": [
                        "1: {",
                        "VernacSubproof",
                        "a147bdce532f4736a87d082ae6bf1b81b9fb6c46"
                    ]
                },
                {
                    "command": [
                        "right; left; subst; rewrite power_of_0; auto.",
                        "VernacExtend",
                        "bfc899148e3452024f4aa9ab31e2682f6f0883e8"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "remember (alpha_nat (q+4) (S r)) as a1.",
                        "VernacExtend",
                        "a8ac6fab0453c5073e62172d70069821e1f5724e"
                    ]
                },
                {
                    "command": [
                        "remember (a1+q*q+2) as b.",
                        "VernacExtend",
                        "88e1849e8e30c523d7ad499769976c5162ee240a"
                    ]
                },
                {
                    "command": [
                        "remember (alpha_nat b r) as a2.",
                        "VernacExtend",
                        "8ad04bc9c26a9a83ce7725583b01eb0dccef671f"
                    ]
                },
                {
                    "command": [
                        "remember (alpha_nat b (1+r)) as a3.",
                        "VernacExtend",
                        "48b4b5e5da38e0764375a4b96a0fd42ad8c0b27f"
                    ]
                },
                {
                    "command": [
                        "remember (b*q-q*q-1) as m.",
                        "VernacExtend",
                        "12e5eee58c34aa1f5bfd30cdf4aab5aafe4ea0a5"
                    ]
                },
                {
                    "command": [
                        "right; right; split; auto; exists b, m, a1, a2, a3.",
                        "VernacExtend",
                        "16a0e99881f0cf152ae2039807065b5a1a329475"
                    ]
                },
                {
                    "command": [
                        "assert (3 < b) as Hb.",
                        "VernacExtend",
                        "4e022fd2ff7e5816fe36921d4ca73ff4101d9c61"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "rewrite Heqb.",
                        "VernacExtend",
                        "cbce3b46755fda19db8de2f22b05599c403be891"
                    ]
                },
                {
                    "command": [
                        "apply lt_le_trans with (1+(1*1)+2); try omega.",
                        "VernacExtend",
                        "4da202c2f2e05c6af483a68d0d0fe4248f435a28"
                    ]
                },
                {
                    "command": [
                        "repeat apply plus_le_compat; auto.",
                        "VernacExtend",
                        "ae65b4d27935ff0863d4b2aaf226b383e450c0d1"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite Heqa1.",
                        "VernacExtend",
                        "45e5d4e356ba922ba883c5778bf439990638e117"
                    ]
                },
                {
                    "command": [
                        "apply alpha_nat_mono with (i := 1); omega.",
                        "VernacExtend",
                        "45ec8769ddedd9994abebf48ff475e0547f4d9ba"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply mult_le_compat; omega.",
                        "VernacExtend",
                        "8ac3a3f99ad509125bddafbb87ddda0ca8ae181c"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "assert (2 <= b) as Hb' by omega.",
                        "VernacExtend",
                        "8d15498bdc95ff3079ece8442c6de483834796ee"
                    ]
                },
                {
                    "command": [
                        "destruct (@alpha_nat_power (q+4)) with (n := r) as (H1 & H2); try omega.",
                        "VernacExtend",
                        "b62e610c9c641fb7cc21f74d5ed7ef3c9f3cce9b"
                    ]
                },
                {
                    "command": [
                        "assert (q*q+2 <= q*q*q+2*q) as Hq'.",
                        "VernacExtend",
                        "80caeda56ae6121cc9379b6e225de8cc9d730e93"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "apply H_q3_q; omega.",
                        "VernacExtend",
                        "b8479f51ecd8cf605b96fbc95706b7d599836153"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "assert (m <> 0) as Hm.",
                        "VernacExtend",
                        "8de12fff00f3e7e4b1149be4f34d920a8dba1ec0"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "rewrite Heqm, Heqb.",
                        "VernacExtend",
                        "49827e591ef386fc173dbf8aa5a590b5682e981e"
                    ]
                },
                {
                    "command": [
                        "do 2 rewrite Nat.mul_add_distr_r.",
                        "VernacExtend",
                        "4d497080aaad77d0f239c05a14255c0f836f6ea1"
                    ]
                },
                {
                    "command": [
                        "assert (a1*q <> 0) as Ha1.",
                        "VernacExtend",
                        "dd2f384760e4b25286dc942adb21db17aa9da9b2"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "intros E; apply mult_is_O in E.",
                        "VernacExtend",
                        "8d1cc183bfb092a1a0fe2abea234377d6b54f537"
                    ]
                },
                {
                    "command": [
                        "destruct E as [ E | ]; try omega.",
                        "VernacExtend",
                        "4ed5bf8c407a04d4a653d0e52db656e4ae6f1866"
                    ]
                },
                {
                    "command": [
                        "revert E; rewrite Heqa1.",
                        "VernacExtend",
                        "6f7c873102d4fb4e9df1196c1b53a6326eeeb393"
                    ]
                },
                {
                    "command": [
                        "apply alpha_nat_gt_0; omega.",
                        "VernacExtend",
                        "ccb503cb139117149fdfa30bc5d0eedbece27dde"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "revert Ha1; generalize (a1*q); intros x Hx.",
                        "VernacExtend",
                        "1fd2ed69b8de10e4e39f9510f92ed642b28c4faf"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "assert (expo r q < m) as Hexpo.",
                        "VernacExtend",
                        "68fe04486379a50f0d05b96e123ac20e6af3bd6c"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "rewrite Heqm, Heqb.",
                        "VernacExtend",
                        "49827e591ef386fc173dbf8aa5a590b5682e981e"
                    ]
                },
                {
                    "command": [
                        "do 2 rewrite Nat.mul_add_distr_r.",
                        "VernacExtend",
                        "4d497080aaad77d0f239c05a14255c0f836f6ea1"
                    ]
                },
                {
                    "command": [
                        "rewrite <- Heqa1 in H1.",
                        "VernacExtend",
                        "dbe2c5cdad56e02227a11bbfaf2c1a5f46374e31"
                    ]
                },
                {
                    "command": [
                        "apply lt_le_trans with (a1*1+1).",
                        "VernacExtend",
                        "2f02457582c0c17b57df68a1fea18e2c7ee6f75e"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite plus_comm, Nat.mul_1_r; apply le_n_S.",
                        "VernacExtend",
                        "1534fdba556264c136fd407dc8f75c2816c84892"
                    ]
                },
                {
                    "command": [
                        "apply le_trans with (2 := H1).",
                        "VernacExtend",
                        "9cfab5f4f74f12e9b868659e8d665a8e86cbf4c5"
                    ]
                },
                {
                    "command": [
                        "apply power_mono_r; omega.",
                        "VernacExtend",
                        "69f99f4931490c538886ab840d038720108b9fce"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite <- Nat.sub_add_distr, <- plus_assoc, <- Nat.add_sub_assoc; try omega.",
                        "VernacExtend",
                        "ba9e4f273881550cad2dc0675325329d83b84393"
                    ]
                },
                {
                    "command": [
                        "apply plus_le_compat; try omega.",
                        "VernacExtend",
                        "14d9d99fb70a24ade392cd8806f443cf9449c410"
                    ]
                },
                {
                    "command": [
                        "apply mult_le_compat; omega.",
                        "VernacExtend",
                        "8ac3a3f99ad509125bddafbb87ddda0ca8ae181c"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "repeat (split; auto); try omega.",
                        "VernacExtend",
                        "85054cfa2be7f02efd9559f10a4dc689e9c9379b"
                    ]
                },
                {
                    "command": [
                        "rewrite <- nat2Zp_inj with (Hp := Hm).",
                        "VernacExtend",
                        "b405a7261340b578148cd139d916800870a718aa"
                    ]
                },
                {
                    "command": [
                        "do 2 rewrite nat2Zp_plus.",
                        "VernacExtend",
                        "6e4e7402f99be0433960f51b39eb81d89efe2971"
                    ]
                },
                {
                    "command": [
                        "rewrite Heqa2.",
                        "VernacExtend",
                        "fa17b986f19188af6b5fc009534f9924070737ea"
                    ]
                },
                {
                    "command": [
                        "revert Hm; rewrite Heqm; intros Hm.",
                        "VernacExtend",
                        "eae3ca7d9c130c5ad1bde037695d4c24a82a7e4f"
                    ]
                },
                {
                    "command": [
                        "rewrite expo_congruence; auto.",
                        "VernacExtend",
                        "e4da8b77390bbf2e61000f38afafab73639751b9"
                    ]
                },
                {
                    "command": [
                        "rewrite <- H, plus_comm, nat2Zp_plus, <- Zp_plus_assoc; f_equal.",
                        "VernacExtend",
                        "405b12f06d3171dcb69bd97621fa771534ba42c2"
                    ]
                },
                {
                    "command": [
                        "rewrite <- nat2Zp_plus; f_equal.",
                        "VernacExtend",
                        "c17426be2444c46833d323e2991896b2fa0725df"
                    ]
                },
                {
                    "command": [
                        "rewrite Heqa3.",
                        "VernacExtend",
                        "333e2df5515a06268fc9c39ac201210e6082a178"
                    ]
                },
                {
                    "command": [
                        "destruct r as [ | r' ]; try omega.",
                        "VernacExtend",
                        "843d6008ced2b4050cc214e056f6ae05068ff9dc"
                    ]
                },
                {
                    "command": [
                        "replace (S r' -1) with r' by omega.",
                        "VernacExtend",
                        "724971a737d93acbeccc17898121c4d7dafae69b"
                    ]
                },
                {
                    "command": [
                        "simpl plus at 2.",
                        "VernacExtend",
                        "d56a4696657c3869855f186b9d96997046d49841"
                    ]
                },
                {
                    "command": [
                        "rewrite alpha_nat_fix_2.",
                        "VernacExtend",
                        "04f06b1cfc20f1e095c8edf4e56676773fb95a7a"
                    ]
                },
                {
                    "command": [
                        "generalize (alpha_nat_le Hb' r'); omega.",
                        "VernacExtend",
                        "2f263b6a1ee1ef3d435078d58358aaf792c13aa6"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "expo_diophantine",
            "line_nb": 149,
            "steps": [
                {
                    "command": [
                        "split; auto.",
                        "VernacExtend",
                        "fcd44a714bd12fa54b1c7746996e44dbac16df06"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}