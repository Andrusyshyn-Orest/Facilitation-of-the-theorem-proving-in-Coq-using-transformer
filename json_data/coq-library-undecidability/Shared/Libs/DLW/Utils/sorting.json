{
    "filename": "Shared/Libs/DLW/Utils/sorting.v",
    "coq_project": "coq-library-undecidability",
    "vernac_cmds": [
        [
            "Require Import List Arith Omega.",
            "VernacRequire",
            "2384442a3f0b1bbc4c470e59943da44aa7d6ec91"
        ],
        [
            "Require Import utils_tac utils_list sums php.",
            "VernacRequire",
            "8c7d05c7bc5ea3e4f217455d48d913bf007180ae"
        ],
        [
            "Set Implicit Arguments.",
            "VernacSetOption",
            "9e84ff8896f028601d8aded48c1d4aebe60aa584"
        ],
        [
            "Local Notation \"\u2211\" := (msum plus 0).",
            "VernacNotation",
            "8f98a95121bbc665e0a33b5f6ea4163c4df1a03a"
        ],
        [
            "Section nat_swap.",
            "VernacBeginSection",
            "317caf130d4dafff651047244fdea0b8c5e54f75"
        ],
        [
            "Variables (i j : nat).",
            "VernacAssumption",
            "e585be17222ae872fe7c2616f72f10be82cb4424"
        ],
        [
            "Definition swap n := if eq_nat_dec n i then j else if eq_nat_dec n j then i else n.",
            "VernacDefinition",
            "deed07a8b649fd9df070626648d6e6963f0db764"
        ],
        [
            "Fact swap_spec_i : swap i = j.",
            "VernacStartTheoremProof",
            "559f0436da8708293790c95b6642cbd3ac85f8d5"
        ],
        [
            "unfold swap; destruct (eq_nat_dec i i); auto; omega.",
            "VernacExtend",
            "36f23a1f0fd73611d33de2bf5b327e8f005d427c"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fact swap_spec_j : swap j = i.",
            "VernacStartTheoremProof",
            "93161f7b68a3e7f103b1e521259991d4ffe990ae"
        ],
        [
            "unfold swap.",
            "VernacExtend",
            "98c96683f15378dbc01838ad0b6240e567564d9b"
        ],
        [
            "destruct (eq_nat_dec j i); auto.",
            "VernacExtend",
            "a439f2bbcc4a9fc0205550ed08d8a7613e5d7ea5"
        ],
        [
            "destruct (eq_nat_dec j j); auto; omega.",
            "VernacExtend",
            "54f34f2988e14354cafe414f1f4d8678662c3fd2"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fact swap_spec n : n <> i -> n <> j -> swap n = n.",
            "VernacStartTheoremProof",
            "a06989d0ef6b626eaaf0279a30085f65f008210e"
        ],
        [
            "unfold swap; intros.",
            "VernacExtend",
            "cea404508e80c33156483e6234384f65b40d7631"
        ],
        [
            "destruct (eq_nat_dec n i); try omega.",
            "VernacExtend",
            "0d6055b0ff2901ce16c039df0fb04c2b6b21eae5"
        ],
        [
            "destruct (eq_nat_dec n j); omega.",
            "VernacExtend",
            "cbff974781a23e5ec1067848d57bf1b5a4e048ce"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fact swap_involutive n : swap (swap n) = n.",
            "VernacStartTheoremProof",
            "19facb31e367a76b8d71bc0fe94a0306986a6866"
        ],
        [
            "destruct (eq_nat_dec n i).",
            "VernacExtend",
            "3e5cb07c3ec40e5c53a2a0cdec0401d8c65534fe"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "subst n; rewrite swap_spec_i, swap_spec_j; auto.",
            "VernacExtend",
            "16b39fe05a6dad4e6fbea64782f64e79bc53da11"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "destruct (eq_nat_dec n j).",
            "VernacExtend",
            "d32b64620ff6ca3fca63cb341c716c1ba3b3c785"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "subst n; rewrite swap_spec_j, swap_spec_i; auto.",
            "VernacExtend",
            "94524e3d0f7bb4717648d6e5bca250c66b1b5305"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "do 2 (rewrite swap_spec; auto).",
            "VernacExtend",
            "98e9ea1e893570c5d7f42b85db2ef277bf964248"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fact swap_inj n m : swap n = swap m -> n = m.",
            "VernacStartTheoremProof",
            "c7fc6ff92ecaf4430da841c3eba23defdf4173c1"
        ],
        [
            "intros; rewrite <- (swap_involutive n), H.",
            "VernacExtend",
            "04eddb277063bf67a349ebe82425bb79e7d46cd9"
        ],
        [
            "apply swap_involutive.",
            "VernacExtend",
            "b3cf49a54ce647fdbccd7c18cb1c58e11d906920"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End nat_swap.",
            "VernacEndSegment",
            "d5b61ebf8d17b6b43691f3e81113f6f82aa37ffe"
        ],
        [
            "Opaque swap.",
            "VernacSetOpacity",
            "d71312263ce30f803d460d8b5ef9fdf1020db1e6"
        ],
        [
            "Section php_fun.",
            "VernacBeginSection",
            "feef36bb362b94caa558f62bed0660ff736cf299"
        ],
        [
            "Variable (n : nat) (f : nat -> nat) (Hf : forall i, i <= n -> f i < n).",
            "VernacAssumption",
            "a02f5784b7179645c655d8b3e9f87850bc0d15e9"
        ],
        [
            "Theorem php_fun : exists i j, i < j <= n /\\ f i = f j.",
            "VernacStartTheoremProof",
            "81bf93830d53d1def4f6d3e4a15664e85b534c35"
        ],
        [
            "destruct PHP_rel with (S := fun x y => y = f x) (l := list_an 0 (S n)) (m := list_an 0 n) as (a & i & b & j & c & v & H1 & H2 & H3 & H4).",
            "VernacExtend",
            "9c7195396ca198d07e745dbd3678cb1958f6157e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "intros x; rewrite list_an_spec; simpl; intros [ _ H ].",
            "VernacExtend",
            "d62fb9ae95af3f3c1234cd1189349e4447affbc1"
        ],
        [
            "exists (f x); split; auto; rewrite list_an_spec; simpl; split; try omega.",
            "VernacExtend",
            "4243578d81cfa1ba580f99b87b7d04a9d291daf0"
        ],
        [
            "apply Hf; omega.",
            "VernacExtend",
            "a4dbb7d505b9ad91bbd29ff5fa0bec5000ffb968"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "do 2 rewrite list_an_length; auto.",
            "VernacExtend",
            "9d67380a3b0d9bde0e1716bf0cbea3e583d65432"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "exists i, j; split; try omega.",
            "VernacExtend",
            "0844301a38db17036e2ebf4e52b9a932a59e4021"
        ],
        [
            "generalize H1; intros G1.",
            "VernacExtend",
            "22c01d9e2929898bf639ba46fb8fdab789b8a03f"
        ],
        [
            "apply list_an_app_inv in G1.",
            "VernacExtend",
            "8dbf55170959d0f6404893fc7c080e93763f7efb"
        ],
        [
            "destruct G1 as (G0 & G1); simpl in G1.",
            "VernacExtend",
            "a27f0a6a54d4951b1458896c42d8723bcaaf8f96"
        ],
        [
            "injection G1; clear G1; intros G1 G2.",
            "VernacExtend",
            "c9492e8b49403c4a6294613f12a65d01cd4ad2c6"
        ],
        [
            "symmetry in G1; apply list_an_app_inv in G1.",
            "VernacExtend",
            "18377c79e07cd7b5133c0ce9f3b4fca0154b137b"
        ],
        [
            "destruct G1 as (G3 & G1); simpl in G1.",
            "VernacExtend",
            "ff2924fa76fc5e53a6a0c8899753dabb704c5dae"
        ],
        [
            "injection G1; clear G1; intros G4 G1.",
            "VernacExtend",
            "35a0cc76e092f99cc133ce000d6ffdde54239fc1"
        ],
        [
            "apply f_equal with (f := @length _) in H1.",
            "VernacExtend",
            "5b8e97ebded693497a667e067e54c46f8c4e1606"
        ],
        [
            "revert H1; rew length; intros H1.",
            "VernacExtend",
            "2f76a7aeda5978eab324cf16078e081793db60dc"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End php_fun.",
            "VernacEndSegment",
            "718ae60cfa3042212f7b7129d0c20ea7502a2b4a"
        ],
        [
            "Section split_interval.",
            "VernacBeginSection",
            "856bd6dd04bf0deb4875295fa7553d307a707aad"
        ],
        [
            "Variables (n i : nat) (Hi : i <= n).",
            "VernacAssumption",
            "0a05b6dd487668e24259275057ccd9d11314251f"
        ],
        [
            "Let g j := if le_lt_dec (S n) j then j else if le_lt_dec i j then if le_lt_dec j i then n else j-1 else j.",
            "VernacDefinition",
            "0d857248291b564c837abc0e6a67995e909a7363"
        ],
        [
            "Let h j := if le_lt_dec (S n) j then j else if le_lt_dec n j then i else if le_lt_dec i j then j+1 else j.",
            "VernacDefinition",
            "b94d7d55502736af6fda87738b34289769443acb"
        ],
        [
            "Let Hg1 : forall j, j <= n -> g j <= n.",
            "VernacDefinition",
            "6607035190b6dd45745f209144c6b553f7a01eaa"
        ],
        [
            "intros j Hj; unfold g.",
            "VernacExtend",
            "7354058a2c4597077ac8fe94acf478d20fa21461"
        ],
        [
            "destruct (le_lt_dec (S n) j); try omega.",
            "VernacExtend",
            "cff742d92cebff4931cd295bb77a1d47c472ba0e"
        ],
        [
            "destruct (le_lt_dec i j); try omega.",
            "VernacExtend",
            "3360688a13323cd035c27b9274fb54e46d3adee1"
        ],
        [
            "destruct (le_lt_dec j i); omega.",
            "VernacExtend",
            "c119d3f02175f10572547f6f1a786e8fe83bb97d"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Let Hg2 j : n < j -> g j = j.",
            "VernacDefinition",
            "96105792c0bf8ca37c1ef985d9c4fa2388325f85"
        ],
        [
            "unfold g; destruct (le_lt_dec (S n) j); intros; omega.",
            "VernacExtend",
            "a9c5446f720c76aad382701fc9ea14445aaa971d"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Let Hh1 : forall j, j <= n -> h j <= n.",
            "VernacDefinition",
            "ae20a2d2a29e087023cd38e7b42dcebf33c65672"
        ],
        [
            "intros j Hj; unfold h.",
            "VernacExtend",
            "fd910a39e00a1721ad778884911777ce22700967"
        ],
        [
            "destruct (le_lt_dec (S n) j); try omega.",
            "VernacExtend",
            "cff742d92cebff4931cd295bb77a1d47c472ba0e"
        ],
        [
            "destruct (le_lt_dec n j); try omega.",
            "VernacExtend",
            "f180534d4d235a1e4fc2cafadee0f2cc1d72fb16"
        ],
        [
            "destruct (le_lt_dec i j); omega.",
            "VernacExtend",
            "86f03d008d7d27a4070835002ff9ee39a55ae8b9"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Let Hh2 j : n < j -> h j = j.",
            "VernacDefinition",
            "2bfe0e46389c1f3e53dc45eab7a761f2d727e3ae"
        ],
        [
            "unfold h; destruct (le_lt_dec (S n) j); intros; omega.",
            "VernacExtend",
            "139b0decab33091d4cc451d8e25a54279a9ffa70"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Ltac mydestruct H := match goal with |- if ?c then _ else _ = _ => destruct c as [ H | H ]; try omega; auto end.",
            "VernacExtend",
            "9b864ae6014fb155096b18d6f90ab4fc05249c26"
        ],
        [
            "Theorem split_interval : { g : nat -> nat & { h | (forall j, j <= n -> g j <= n) /\\ (forall j, j <= n -> h j <= n) /\\ (forall j, g (h j) = j) /\\ (forall j, h (g j) = j) /\\ g i = n } }.",
            "VernacStartTheoremProof",
            "f03796492542695141a3a997bad798d923a4f5aa"
        ],
        [
            "exists g, h.",
            "VernacExtend",
            "4171d64dc837e4ba880daeddbc6cccb3b388498c"
        ],
        [
            "split; [ | split; [ | split; [ | split ] ] ]; auto.",
            "VernacExtend",
            "564e19f5c2c4dfb158e5ebfe4b4b00df9cbd89ff"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "intros j; unfold h.",
            "VernacExtend",
            "0c39cf6010abf0b35c6ca7874605fdd503479e1e"
        ],
        [
            "destruct (le_lt_dec (S n) j) as [ | H1 ]; auto.",
            "VernacExtend",
            "539a04eb63b6a2c00150c89694fca5ba33b2ffaf"
        ],
        [
            "destruct (le_lt_dec n j) as [ H2 | H2 ].",
            "VernacExtend",
            "4d2e8df3543cb29f872997c44805a6ef09c88798"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "unfold g.",
            "VernacExtend",
            "fd78415b188602b878d030c2cbc915af33ab1e1d"
        ],
        [
            "destruct (le_lt_dec (S n) i); try omega.",
            "VernacExtend",
            "77e57af25b3e8eaaa72607c58366471fdc1c449a"
        ],
        [
            "destruct (le_lt_dec i i); omega.",
            "VernacExtend",
            "dddbe08183e5278748552f47b4f97fb9dd623eb9"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "destruct (le_lt_dec i j) as [ H3 | H3 ].",
            "VernacExtend",
            "95fc991d6ab8be38e0c9a4d9472dd23d7ae4a794"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "unfold g.",
            "VernacExtend",
            "fd78415b188602b878d030c2cbc915af33ab1e1d"
        ],
        [
            "destruct (le_lt_dec (S n) (j+1)); try omega.",
            "VernacExtend",
            "c2836e19c1ad935ce8baed3c5d4b7f49db09b2cc"
        ],
        [
            "destruct (le_lt_dec i (j+1)); try omega.",
            "VernacExtend",
            "0fa0cfe8d61ae1eabfc395beba90247fab485a0a"
        ],
        [
            "destruct (le_lt_dec (j+1) i); omega.",
            "VernacExtend",
            "871a9faba5ee3ea650668256536eef12504fe643"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "unfold g.",
            "VernacExtend",
            "fd78415b188602b878d030c2cbc915af33ab1e1d"
        ],
        [
            "destruct (le_lt_dec (S n) j); try omega.",
            "VernacExtend",
            "cff742d92cebff4931cd295bb77a1d47c472ba0e"
        ],
        [
            "destruct (le_lt_dec i j); try omega.",
            "VernacExtend",
            "3360688a13323cd035c27b9274fb54e46d3adee1"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "intros j; unfold g.",
            "VernacExtend",
            "33ae6821f8e4c84a07dddff1e0bc19fdc822e402"
        ],
        [
            "destruct (le_lt_dec (S n) j) as [ | H1 ]; auto.",
            "VernacExtend",
            "539a04eb63b6a2c00150c89694fca5ba33b2ffaf"
        ],
        [
            "destruct (le_lt_dec i j) as [ H2 | H2 ].",
            "VernacExtend",
            "2f1b81858ed3db3beefe09eb281e157d11060377"
        ],
        [
            "destruct (le_lt_dec j i) as [ H3 | H3 ].",
            "VernacExtend",
            "3bca398bf6db3f4db5d1296ba185fd0ad98e75b4"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "unfold h.",
            "VernacExtend",
            "7c00b91fd2810f4ab655485683b5fa84338bdde5"
        ],
        [
            "destruct (le_lt_dec (S n) n); try omega.",
            "VernacExtend",
            "2e3a5d0c5cf1f77399d76c2a81cff7094b379059"
        ],
        [
            "destruct (le_lt_dec n n); omega.",
            "VernacExtend",
            "80f57f5234dfd8a3bca904eeadb718426958e0da"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "unfold h.",
            "VernacExtend",
            "7c00b91fd2810f4ab655485683b5fa84338bdde5"
        ],
        [
            "destruct (le_lt_dec (S n) (j-1)); try omega.",
            "VernacExtend",
            "96adf4c6cea7081508f25d4fe9d1278b82686c04"
        ],
        [
            "destruct (le_lt_dec n (j-1)); try omega.",
            "VernacExtend",
            "e08fbc62b86323e36ec625d20aaf20672fc8d020"
        ],
        [
            "destruct (le_lt_dec i (j-1)); omega.",
            "VernacExtend",
            "cb64194e51cc13042cebf82583fec618231714d3"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "unfold h.",
            "VernacExtend",
            "7c00b91fd2810f4ab655485683b5fa84338bdde5"
        ],
        [
            "destruct (le_lt_dec (S n) j); try omega.",
            "VernacExtend",
            "cff742d92cebff4931cd295bb77a1d47c472ba0e"
        ],
        [
            "destruct (le_lt_dec n j); try omega.",
            "VernacExtend",
            "f180534d4d235a1e4fc2cafadee0f2cc1d72fb16"
        ],
        [
            "destruct (le_lt_dec i j); omega.",
            "VernacExtend",
            "86f03d008d7d27a4070835002ff9ee39a55ae8b9"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold g.",
            "VernacExtend",
            "fd78415b188602b878d030c2cbc915af33ab1e1d"
        ],
        [
            "destruct (le_lt_dec (S n) i); try omega.",
            "VernacExtend",
            "77e57af25b3e8eaaa72607c58366471fdc1c449a"
        ],
        [
            "destruct (le_lt_dec i i); omega.",
            "VernacExtend",
            "dddbe08183e5278748552f47b4f97fb9dd623eb9"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End split_interval.",
            "VernacEndSegment",
            "48ce0934aae1187b2ae3be4d122b335ec954ec56"
        ],
        [
            "Definition find_max_fun n f : { i | i <= n /\\ forall j, j <= n -> f j <= f i }.",
            "VernacDefinition",
            "3d3ab07ddaad9f8b294f8c535404c44e02c7aae5"
        ],
        [
            "revert f; induction n as [ | n IHn ]; intros f.",
            "VernacExtend",
            "bcec758aba6f640ea4dfeb55f37c5002081973e1"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "exists 0; split; auto.",
            "VernacExtend",
            "9e684bc19db99861760a85ac9ae66ecf76dff3e2"
        ],
        [
            "intros [ | ]; auto; omega.",
            "VernacExtend",
            "cc071e19facddbe9f5ef13e99cdc402c701fb425"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (IHn f) as (i & H1 & H2).",
            "VernacExtend",
            "d7c084b59063b6a9d0422ffcfe3e921479ad5630"
        ],
        [
            "destruct (le_lt_dec (f i) (f (S n))) as [ H | H ].",
            "VernacExtend",
            "11389f4f6aa962a873161b151f60a4b1d0c24957"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "exists (S n); split; auto.",
            "VernacExtend",
            "ce370889c343e38db88860c137f2698c8adc4d01"
        ],
        [
            "intros j Hj.",
            "VernacExtend",
            "ac045f22fac04e8e40aff032a174e095b7eda154"
        ],
        [
            "destruct (le_lt_dec j n) as [ H0 | H0 ].",
            "VernacExtend",
            "2d6d964b02881ba294ca44f6ed72d741e486897d"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply le_trans with (2 := H); auto.",
            "VernacExtend",
            "e7b66cbaa4830c7498b0e3ba971862da1faf9804"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "cutrewrite (j = S n); auto; omega.",
            "VernacExtend",
            "ce91fbe84db4641fb3128004a54e8e260a486d24"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "exists i; split; auto.",
            "VernacExtend",
            "a2fd5123929d3e333f8e4d29574dfe99d0748534"
        ],
        [
            "intros j Hj.",
            "VernacExtend",
            "ac045f22fac04e8e40aff032a174e095b7eda154"
        ],
        [
            "destruct (le_lt_dec j n) as [ H0 | H0 ]; auto.",
            "VernacExtend",
            "81c1d177a12536d9009f093d9b8d8b406d95fa19"
        ],
        [
            "cutrewrite (j = S n); auto; omega.",
            "VernacExtend",
            "ce91fbe84db4641fb3128004a54e8e260a486d24"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Section sum_bounded_permutation.",
            "VernacBeginSection",
            "79736a762742eed47ef2e7e521348efc53109724"
        ],
        [
            "Let sigma_sum_split i n f : i < n -> \u2211 (S n) f = f i + f n + \u2211 i f + \u2211 (n-S i) (fun j => f (S i+j)).",
            "VernacDefinition",
            "b34c04741a696a430861ef72caf9e5f13c3a28ef"
        ],
        [
            "intros Hi.",
            "VernacExtend",
            "1760e50437fee0aca9b028404143ef4a8c472680"
        ],
        [
            "replace (S n) with (i+1+(n- S i)+1) by omega.",
            "VernacExtend",
            "43cefbbb6717442fc5e73407ea0a702ce2980c0f"
        ],
        [
            "repeat (rewrite msum_plus; auto).",
            "VernacExtend",
            "c7796d83890b798b76f611b05b628395cd172c4d"
        ],
        [
            "do 2 rewrite msum_S, msum_0.",
            "VernacExtend",
            "8c8c8072f4347cd0920ed05f71f9fc7c6eeb0551"
        ],
        [
            "repeat rewrite <- plus_assoc.",
            "VernacExtend",
            "8c172de6f33ce049efe66a18f277318a2183568e"
        ],
        [
            "rewrite (plus_comm).",
            "VernacExtend",
            "f2921c049c57ff33e3248947a1d6b2bcd1257393"
        ],
        [
            "repeat rewrite <- plus_assoc.",
            "VernacExtend",
            "8c172de6f33ce049efe66a18f277318a2183568e"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "f_equal; omega.",
            "VernacExtend",
            "3b812353131f9b9bebbd6410b3fa7c9d2e597ec3"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "rewrite (plus_comm).",
            "VernacExtend",
            "f2921c049c57ff33e3248947a1d6b2bcd1257393"
        ],
        [
            "repeat rewrite <- plus_assoc.",
            "VernacExtend",
            "8c172de6f33ce049efe66a18f277318a2183568e"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "f_equal; omega.",
            "VernacExtend",
            "3b812353131f9b9bebbd6410b3fa7c9d2e597ec3"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "apply msum_ext.",
            "VernacExtend",
            "7a532d138982edc9f28dc2ca93a6b8f4b4e334fc"
        ],
        [
            "intros; f_equal; omega.",
            "VernacExtend",
            "0f287c170839efd40edcf658a656dce480320ef9"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Let sum_permutation_1 n i j g f : i < j < n -> g i = j -> g j = i -> (forall k, k <> i -> k <> j -> k < n -> g k = k) -> \u2211 n f = \u2211 n (fun i => f (g i)).",
            "VernacDefinition",
            "1376fa9acf06cf5fab8ad67594e0c2e9f5bd7c6e"
        ],
        [
            "revert i j g; induction n as [ | n IHn ]; intros i j g (H1 & H2) H3 H4 H5.",
            "VernacExtend",
            "6c8c7190ea807e21071ccddd2dcb1a5ceb39bc7a"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "do 2 rewrite msum_0; auto.",
            "VernacExtend",
            "7134c673f48c9a7cabd3570c86c450d1e120e83a"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (eq_nat_dec j n) as [ H7 | H7 ].",
            "VernacExtend",
            "717e79bb2cc313f40d4d81d6ed565f8a4a729c03"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "rewrite H7 in *; clear j H7 H2.",
            "VernacExtend",
            "263bf72e584ebee7d9b2b7f18ac064bbaf2740e7"
        ],
        [
            "do 2 rewrite sigma_sum_split with (1 := H1).",
            "VernacExtend",
            "397d583643f0fabc0dfb220f6835e73a81a30a24"
        ],
        [
            "rewrite H3, H4; f_equal; [ f_equal | ]; try omega; apply msum_ext; intros; symmetry; f_equal; apply H5; omega.",
            "VernacExtend",
            "26715b9630c42406231ec3d1215a183e1bfefae7"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "do 2 (rewrite msum_plus1; auto); f_equal.",
            "VernacExtend",
            "d1d56cffba98fa200cb784830490ee25bb2e3dc2"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply IHn with i j; auto; split; auto; omega.",
            "VernacExtend",
            "a95ac1e77a004f11beb0a57fabc5133e4fad1b21"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "symmetry; f_equal; apply H5; omega.",
            "VernacExtend",
            "dc6e49315a4259efbf265ffb6ef2702df13839a8"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Inductive bounded_permut n (i j : nat) g : Prop := | in_nat_perm : i < n -> j < n -> g i = j -> g j = i -> (forall k, k <> i -> k <> j -> k < n -> g k = k) -> bounded_permut n i j g.",
            "VernacInductive",
            "d1516432584e28aa865f5730cf402304ab187257"
        ],
        [
            "Hint Resolve swap_spec_i swap_spec_j swap_spec.",
            "VernacHints",
            "96b839d3c124642bd5bcfe077601e99ea619f600"
        ],
        [
            "Fact swap_bounded_permut n i j : i < n -> j < n -> bounded_permut n i j (swap i j).",
            "VernacStartTheoremProof",
            "3196ad08215ca7df81a377725ef16872779867ad"
        ],
        [
            "constructor; auto.",
            "VernacExtend",
            "686f227fe0f57af60032eb35216aef1e62d0c0e5"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Inductive composed_permutation n g : Prop := | in_cp_0 : (forall i, i < n -> g i = i) -> composed_permutation n g | in_cp_1 : forall i j f h, bounded_permut n i j f -> composed_permutation n h -> (forall i, i < n -> g i = h (f i)) -> composed_permutation n g.",
            "VernacInductive",
            "f8890f60753b255e0594a221562b614d629b07a8"
        ],
        [
            "Fact composed_permutation_ext n f g : (forall i, i < n -> f i = g i) -> composed_permutation n f -> composed_permutation n g.",
            "VernacStartTheoremProof",
            "66f52b192e6b5b9116d8d02febafca3d3fa62d33"
        ],
        [
            "intros H1 H2; revert H2 g H1.",
            "VernacExtend",
            "e7df47789d48cf16489b8373bee03cb9a8e60385"
        ],
        [
            "induction 1 as [ f Hg | f i j p q H1 H2 IH2 H3 ]; intros g H4.",
            "VernacExtend",
            "36621dd692781b315c7745d63c2d9d4ac36424d1"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "constructor 1; intros; rewrite <- H4; auto.",
            "VernacExtend",
            "820c3b2b5e702b25dae5039df640e4e7d04f15c6"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "constructor 2 with i j p q; auto.",
            "VernacExtend",
            "ebb191b3d2ac9ac5fd4572bd806ac8ce96feff9d"
        ],
        [
            "intros; rewrite <- H4; auto.",
            "VernacExtend",
            "aa988979e653d9c7e1df672fd6a7a40455a3b929"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Let flat n f i := if le_lt_dec n i then n else f i.",
            "VernacDefinition",
            "f9b5ac077e428a1e00d000e6a66b248c5bcaa776"
        ],
        [
            "Let flat_left n f i : i < n -> flat n f i = f i.",
            "VernacDefinition",
            "22d9697b1282744f8b921a2906d38b8eb7034634"
        ],
        [
            "unfold flat; intro; destruct (le_lt_dec n i); auto; omega.",
            "VernacExtend",
            "ac469c25a8eafd61d55d207459a5df214752766c"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Let flat_right n f i : n <= i -> flat n f i = n.",
            "VernacDefinition",
            "16d9971f9bdb4c7091b86b83fa647ddbc7c145d4"
        ],
        [
            "unfold flat; intro; destruct (le_lt_dec n i); auto; omega.",
            "VernacExtend",
            "ac469c25a8eafd61d55d207459a5df214752766c"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fact composed_permutation_extends n f g : (forall i, i < n -> f i = g i) -> g n = n -> composed_permutation n f -> composed_permutation (S n) g.",
            "VernacStartTheoremProof",
            "d00de2d0a9b2f0b8592a602cbee15f38e348196c"
        ],
        [
            "intros H1 H2 H3; revert H3 g H1 H2.",
            "VernacExtend",
            "4148fa1f6a410575cb144b4a9c8de675d2a58bb6"
        ],
        [
            "induction 1 as [ f Hg | f i j p q H1 H2 IH2 H3 ]; intros g H4 H5.",
            "VernacExtend",
            "779485526981d70e671e4f17bd939d2b89e5f060"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "constructor 1; intros j Hj.",
            "VernacExtend",
            "cb02f201e058477c56d649da07b53e3e0a6c189a"
        ],
        [
            "destruct (eq_nat_dec j n); subst; auto.",
            "VernacExtend",
            "e9c59b285b751fe0deebcb0cbe4f4709a6b07680"
        ],
        [
            "rewrite <- H4, Hg; auto; omega.",
            "VernacExtend",
            "c912578fc24e25f77b4caecfe3d18a8814ad267d"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "constructor 2 with i j (flat n p) (flat n q).",
            "VernacExtend",
            "711155fd67bafbccaf2916b4d46f2aab2b87320a"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "destruct H1 as [ G1 G2 G3 G4 G5 ]; constructor; try omega.",
            "VernacExtend",
            "c6e2afd1af54fd99f03c41f527c2aefa3d240c75"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "rewrite flat_left; auto; omega.",
            "VernacExtend",
            "7ca509f75f9f9d1bf0b85fb0cc0aa6267754f145"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "rewrite flat_left; auto; omega.",
            "VernacExtend",
            "7ca509f75f9f9d1bf0b85fb0cc0aa6267754f145"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros k ? ? ?.",
            "VernacExtend",
            "01a7810032db943acf2995493e73d0b013d98327"
        ],
        [
            "destruct (eq_nat_dec k n); subst.",
            "VernacExtend",
            "e1e85230135ed1bee3f2d993d86a1a2fa3a79c22"
        ],
        [
            "++",
            "VernacBullet",
            "cac3e4fa1e090b315e8d0c45d2700cf7c59ed246"
        ],
        [
            "rewrite flat_right; auto.",
            "VernacExtend",
            "e6dddd1b9645188ecfb666ff198c826753ad3360"
        ],
        [
            "++",
            "VernacBullet",
            "cac3e4fa1e090b315e8d0c45d2700cf7c59ed246"
        ],
        [
            "rewrite flat_left, G5; omega.",
            "VernacExtend",
            "b5396877f35c69655837b4139c3b9a2c71418c7c"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "apply IH2.",
            "VernacExtend",
            "58b082fcc19ce3ec20cbb8fd80f36f46a578c9fb"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros l Hl; rewrite flat_left; auto.",
            "VernacExtend",
            "5c4680f8a895e3cbc2bdc9e4ac3fa38df932bbd4"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "rewrite flat_right; omega.",
            "VernacExtend",
            "a5af0081d3306665c705915a972bab0d0a4e6b53"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "intros k Hk.",
            "VernacExtend",
            "341b086248172f5c94f8f482bb5f483619b45197"
        ],
        [
            "destruct (eq_nat_dec k n); subst.",
            "VernacExtend",
            "e1e85230135ed1bee3f2d993d86a1a2fa3a79c22"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "rewrite (flat_right p), flat_right; omega.",
            "VernacExtend",
            "ce0fec5f3e9c963aa29c9d7a9630141c8a4784a5"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "rewrite (flat_left p); try omega.",
            "VernacExtend",
            "f7e4dea055df6ee11eac88fede1edcdc9d123762"
        ],
        [
            "rewrite flat_left, <- H4; try omega.",
            "VernacExtend",
            "049a2febaac433dcb05b518240467dd3cfbad1c3"
        ],
        [
            "++",
            "VernacBullet",
            "cac3e4fa1e090b315e8d0c45d2700cf7c59ed246"
        ],
        [
            "apply H3; omega.",
            "VernacExtend",
            "9be13c44c14fc2850fbacc316b0d5ebbe3b1057d"
        ],
        [
            "++",
            "VernacBullet",
            "cac3e4fa1e090b315e8d0c45d2700cf7c59ed246"
        ],
        [
            "destruct H1 as [ G1 G2 G3 G4 G5 ].",
            "VernacExtend",
            "50c16964e1d157cd7e2c27804df9c5a559698e8e"
        ],
        [
            "destruct (eq_nat_dec k i).",
            "VernacExtend",
            "ed798ffa02d611be2d34e3b2760cd4d971b53a91"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "subst; auto.",
            "VernacExtend",
            "0dfc636d3b0c9fb40074fb6c1c1b90bf77fecdc8"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "destruct (eq_nat_dec k j).",
            "VernacExtend",
            "d6f34ca3889f6766afd4ff5c6c34bd9a6f059c07"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "subst k; omega.",
            "VernacExtend",
            "431fef764e7162ba839da63bd9f80ad74747949d"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "rewrite G5; omega.",
            "VernacExtend",
            "d0bff3e2b0ca691135417734a0f8d352001bda6f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fact composed_permutation_S n g : g n = n -> composed_permutation n g -> composed_permutation (S n) g.",
            "VernacStartTheoremProof",
            "2383e393df7caab561346997681fad16cad7a5d3"
        ],
        [
            "intro; apply composed_permutation_extends; auto.",
            "VernacExtend",
            "c20f1f1450d0b614e3b559137fcaf28001a5cbda"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Inductive bounded_injective n f : Prop := | in_bounded_inj : (forall i, i < n -> f i < n) -> (forall i j, i < n -> j < n -> f i = f j -> i = j) -> bounded_injective n f.",
            "VernacInductive",
            "57a49aad6765baf1ccbf1b11ad14cbe0c3cf43b2"
        ],
        [
            "Fact injective_composed_permutation n f : bounded_injective n f -> composed_permutation n f.",
            "VernacStartTheoremProof",
            "398c9b22cfc6aa2ed2ac6490ec47358796b34aaa"
        ],
        [
            "intros [ H1 H2 ].",
            "VernacExtend",
            "0ae6198f19882a3028e7ce40d84662e28da622ee"
        ],
        [
            "revert f H1 H2; induction n as [ | n IHn ]; intros f H1 H2.",
            "VernacExtend",
            "1d2715437587921050735050987257bbdb23134d"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "constructor 1; intros; omega.",
            "VernacExtend",
            "5789a30b7e1cbddbb7853a2bbbb579707a8b357e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (find_max_fun n f) as (i & H3 & H4).",
            "VernacExtend",
            "451d1b713dfad9da3b04ffec2e41bffe0cbc96a0"
        ],
        [
            "destruct (le_lt_dec n (f i)) as [ C | C ].",
            "VernacExtend",
            "123c5519ce0d0d0706b398882cc4f13595aa9165"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "assert (f i = n) as Hf1.",
            "VernacExtend",
            "703f2eb399fe8ce57a382576f5bdf9f703c585e8"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "apply le_antisym; auto; apply le_S_n, H1; omega.",
            "VernacExtend",
            "39de5496c19fc165cfbfbab9ac1c22e5b06ab8a8"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "assert (forall j, j <= n -> j <> i -> f j < n) as Hf2.",
            "VernacExtend",
            "c1d2e058f8da0afbe9f876ee9e6e04c3442f15f3"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intros j G1 G2.",
            "VernacExtend",
            "d60ee2ff03a2256f6aae1d47903710acf57aa5f1"
        ],
        [
            "destruct (eq_nat_dec (f j) n).",
            "VernacExtend",
            "5be8627421e0ec66b645657efb71deb7498a3cf2"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "contradict G2; apply H2; omega.",
            "VernacExtend",
            "98fb353fbd86feeba2598704b5129c2b6210b2da"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "specialize (H1 j); omega.",
            "VernacExtend",
            "f8671cdbad5a502f33b1e8249853d74437156d8b"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "specialize (IHn (fun x => f (swap i n x))).",
            "VernacExtend",
            "f3ad75039797048eb642e79007f229c45eeb9a37"
        ],
        [
            "spec in IHn.",
            "VernacExtend",
            "fc6e37a00801ff8700694ef8f817570607c5ea23"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intros j Hj.",
            "VernacExtend",
            "ac045f22fac04e8e40aff032a174e095b7eda154"
        ],
        [
            "destruct (eq_nat_dec j i).",
            "VernacExtend",
            "f5388f7fd38bc89181d771dfeaffe6f657399e71"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "subst j; rewrite swap_spec_i; apply Hf2; omega.",
            "VernacExtend",
            "34f33ba107b9c8e08ec602b12c4229bc739a55f5"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite swap_spec; try omega; apply Hf2; omega.",
            "VernacExtend",
            "17926bf537cdbf7e2ecd3ab3bef07a6b2388f19d"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "spec in IHn.",
            "VernacExtend",
            "fc6e37a00801ff8700694ef8f817570607c5ea23"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intros u v G1 G2 G3.",
            "VernacExtend",
            "b17387f8da0d144ab6f3f66d42d8d780e773ccdc"
        ],
        [
            "apply H2 in G3.",
            "VernacExtend",
            "49c8d1c6b94c7b0c94f4992b92e9d6ed4c5100e7"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "revert G3; apply swap_inj.",
            "VernacExtend",
            "4e65fcf143cd5a4881c5f1b7819e2d8b13871f1e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (eq_nat_dec u i).",
            "VernacExtend",
            "8e831ca9732e30bdff97190606fafdf0975af9b6"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "subst; rewrite swap_spec_i; omega.",
            "VernacExtend",
            "a444e13ad9536439d4251d5ab49095486b9dd436"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "rewrite swap_spec; omega.",
            "VernacExtend",
            "9040eae65c0acbcc896bcdf893ef7432ea86728d"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (eq_nat_dec v i).",
            "VernacExtend",
            "ccbe94ffb6c11947adb64028f5610e7cca648ae8"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "subst; rewrite swap_spec_i; omega.",
            "VernacExtend",
            "a444e13ad9536439d4251d5ab49095486b9dd436"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "rewrite swap_spec; omega.",
            "VernacExtend",
            "9040eae65c0acbcc896bcdf893ef7432ea86728d"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "apply composed_permutation_S in IHn.",
            "VernacExtend",
            "5d2c98155873586d96eb3f5693a45ce77bcbdc64"
        ],
        [
            "2: rewrite swap_spec_j, Hf1; auto.",
            "VernacExtend",
            "5b80167eb0a665ce3e835676b54cf97f15c2a7d3"
        ],
        [
            "generalize (@swap_bounded_permut (S n) i n); intros G.",
            "VernacExtend",
            "1f92df045d3f3a546b37e48dae969dad8d6a9dd9"
        ],
        [
            "do 2 (spec in G; try omega).",
            "VernacExtend",
            "342140c94cd6ff1556649c6e7bcf1b0941b590ed"
        ],
        [
            "constructor 2 with (1 := G) (2 := IHn).",
            "VernacExtend",
            "0d41a45b8a8a26c1037c0a75af97dec48cbe381e"
        ],
        [
            "intros; rewrite swap_involutive; auto.",
            "VernacExtend",
            "192af5bd554010925d3668a03334eb4a7f6aea78"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct (@php_fun n f) as (u & v & G1 & G2).",
            "VernacExtend",
            "28fdad52bcd79109769705d49f8bec4ecab64b40"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intros; apply le_lt_trans with (2 := C); auto.",
            "VernacExtend",
            "ee7d58b4a0f7dbbf3a5a3603ad80b084dfcff7f6"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "apply H2 in G2; omega.",
            "VernacExtend",
            "7666ba927301c70a1959782c0d772b5313c6dcae"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem sum_bounded_permutation n i j g f : bounded_permut n i j g -> \u2211 n f = \u2211 n (fun i => f (g i)).",
            "VernacStartTheoremProof",
            "9cc586a327dced9deaa7092110b21e3acbcb4887"
        ],
        [
            "intros [ H1 H2 H3 H4 H5 ].",
            "VernacExtend",
            "081e07bac4105e876fcc95f0a5c649813ddcba02"
        ],
        [
            "destruct (lt_eq_lt_dec i j) as [ [ G1 | G1 ] | G1 ].",
            "VernacExtend",
            "3edcbb58af570ee561ceb57cd24362e7680af1ae"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply sum_permutation_1 with i j; auto; split; auto.",
            "VernacExtend",
            "3b53c14cc1d540fbf1723910755dfeeb8a6e5b45"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply msum_ext; rewrite <- G1 in *; clear j G1.",
            "VernacExtend",
            "4a41206450634a488cbfd864d14a52a75ccd4089"
        ],
        [
            "intros j Hj; f_equal.",
            "VernacExtend",
            "6ca30fe6bf13a8b21485a52521e9389e0d0bb201"
        ],
        [
            "destruct (eq_nat_dec j i); subst; auto.",
            "VernacExtend",
            "5d9167eebe7b54a005f5a2e67aa71a7a4a609bc4"
        ],
        [
            "rewrite H5; auto.",
            "VernacExtend",
            "b21071c2373ca254f86470b0d9b124cb25551839"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply sum_permutation_1 with j i; auto; split; auto.",
            "VernacExtend",
            "2db4451973a0bd1b278469110539a0391876617f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem sum_composed_permutation n f g : composed_permutation n g -> \u2211 n f = \u2211 n (fun i => f (g i)).",
            "VernacStartTheoremProof",
            "14d34f1a9e27de1993e98aa1df8c31869c194cea"
        ],
        [
            "induction 1 as [ g Hg | g i j p q H1 H2 IH2 H3 ].",
            "VernacExtend",
            "d65089086de4effe583bb6b22164dc7f50734596"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "symmetry; apply msum_ext; intros; f_equal; apply Hg; auto.",
            "VernacExtend",
            "23e13cd2654b5f6fa0db57c73531daa6c05623f1"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite IH2, sum_bounded_permutation with (1 := H1).",
            "VernacExtend",
            "d8c8d08267055aeef5175c5de6ec3d8ee2d3d57f"
        ],
        [
            "symmetry; apply msum_ext; intros; f_equal; auto.",
            "VernacExtend",
            "a9ba1d6022a5bf791632a7af17d034e641ae2454"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem sum_injective n f g : bounded_injective n g -> \u2211 n f = \u2211 n (fun i => f (g i)).",
            "VernacStartTheoremProof",
            "5a736f02688e8c4aa975f59615c3245860bca2e7"
        ],
        [
            "intros; apply sum_composed_permutation, injective_composed_permutation; trivial.",
            "VernacExtend",
            "72d0e5fd72a088ee85235d355ef495705890a6ae"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End sum_bounded_permutation.",
            "VernacEndSegment",
            "8ee1cf14b2c6a5ca4e1d38cea5704e5913472187"
        ],
        [
            "Section sum_bijection.",
            "VernacBeginSection",
            "4f6918a46ea4e42af5e41931b008e35d3e41183a"
        ],
        [
            "Inductive bijection n g h : Type := | in_bij : (forall i, i < n -> g i < n) -> (forall i, i < n -> h i < n) -> (forall i, i < n -> g (h i) = i) -> (forall i, i < n -> h (g i) = i) -> bijection n g h.",
            "VernacInductive",
            "0c5116b17045310b43d61bbb16a8897f41afd54a"
        ],
        [
            "Theorem sum_bijection n f g h : bijection n g h -> \u2211 n f = \u2211 n (fun i => f (g i)).",
            "VernacStartTheoremProof",
            "300a26ce014e765f2f0e02057fbb2c49f0931d01"
        ],
        [
            "intros [ H1 H2 H3 H4 ].",
            "VernacExtend",
            "14f7b5932a744e14360492141d920050220bd03a"
        ],
        [
            "apply sum_injective.",
            "VernacExtend",
            "0e2fe0594f1067189077685bb3ca1a024c09c66e"
        ],
        [
            "constructor; auto.",
            "VernacExtend",
            "686f227fe0f57af60032eb35216aef1e62d0c0e5"
        ],
        [
            "intros i j G1 G2 G3; rewrite <- (H4 i), G3; auto.",
            "VernacExtend",
            "9e110fe70d16db15b4ef2dbbcb6b663066ba838b"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Inductive triangle_bijection n k g h : Prop := | in_tb : (forall i j, j < i < n -> h (i,j) < k /\\ g (h (i,j)) = (i,j)) -> (forall q, q < k -> snd (g q) < fst (g q) < n /\\ h (g q) = q) -> triangle_bijection n k g h.",
            "VernacInductive",
            "4e7714fc6a86fa21c2f05e258e866eea0900aa21"
        ],
        [
            "Fact sum_triangle_bijection n f k g h : triangle_bijection n k g h -> \u2211 n (fun i => \u2211 i (fun j => f i j)) = \u2211 k (fun i => f (fst (g i)) (snd (g i))).",
            "VernacStartTheoremProof",
            "cac3fae9028e78cb000c9dae54006d1914e3fd64"
        ],
        [
            "Admitted.",
            "VernacEndProof",
            "b273df2a612833d7cae3ad881c7303cec72f8651"
        ],
        [
            "End sum_bijection.",
            "VernacEndSegment",
            "95feab64afb7697f8930bed6f729efde8d52defb"
        ]
    ],
    "proofs": [
        {
            "name": "swap_spec_i",
            "line_nb": 7,
            "steps": [
                {
                    "command": [
                        "unfold swap; destruct (eq_nat_dec i i); auto; omega.",
                        "VernacExtend",
                        "36f23a1f0fd73611d33de2bf5b327e8f005d427c"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "swap_spec_j",
            "line_nb": 10,
            "steps": [
                {
                    "command": [
                        "unfold swap.",
                        "VernacExtend",
                        "98c96683f15378dbc01838ad0b6240e567564d9b"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_nat_dec j i); auto.",
                        "VernacExtend",
                        "a439f2bbcc4a9fc0205550ed08d8a7613e5d7ea5"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_nat_dec j j); auto; omega.",
                        "VernacExtend",
                        "54f34f2988e14354cafe414f1f4d8678662c3fd2"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "swap_spec",
            "line_nb": 15,
            "steps": [
                {
                    "command": [
                        "unfold swap; intros.",
                        "VernacExtend",
                        "cea404508e80c33156483e6234384f65b40d7631"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_nat_dec n i); try omega.",
                        "VernacExtend",
                        "0d6055b0ff2901ce16c039df0fb04c2b6b21eae5"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_nat_dec n j); omega.",
                        "VernacExtend",
                        "cbff974781a23e5ec1067848d57bf1b5a4e048ce"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "swap_involutive",
            "line_nb": 20,
            "steps": [
                {
                    "command": [
                        "destruct (eq_nat_dec n i).",
                        "VernacExtend",
                        "3e5cb07c3ec40e5c53a2a0cdec0401d8c65534fe"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "subst n; rewrite swap_spec_i, swap_spec_j; auto.",
                        "VernacExtend",
                        "16b39fe05a6dad4e6fbea64782f64e79bc53da11"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_nat_dec n j).",
                        "VernacExtend",
                        "d32b64620ff6ca3fca63cb341c716c1ba3b3c785"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "subst n; rewrite swap_spec_j, swap_spec_i; auto.",
                        "VernacExtend",
                        "94524e3d0f7bb4717648d6e5bca250c66b1b5305"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "do 2 (rewrite swap_spec; auto).",
                        "VernacExtend",
                        "98e9ea1e893570c5d7f42b85db2ef277bf964248"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "swap_inj",
            "line_nb": 33,
            "steps": [
                {
                    "command": [
                        "intros; rewrite <- (swap_involutive n), H.",
                        "VernacExtend",
                        "04eddb277063bf67a349ebe82425bb79e7d46cd9"
                    ]
                },
                {
                    "command": [
                        "apply swap_involutive.",
                        "VernacExtend",
                        "b3cf49a54ce647fdbccd7c18cb1c58e11d906920"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "php_fun",
            "line_nb": 41,
            "steps": [
                {
                    "command": [
                        "destruct PHP_rel with (S := fun x y => y = f x) (l := list_an 0 (S n)) (m := list_an 0 n) as (a & i & b & j & c & v & H1 & H2 & H3 & H4).",
                        "VernacExtend",
                        "9c7195396ca198d07e745dbd3678cb1958f6157e"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "intros x; rewrite list_an_spec; simpl; intros [ _ H ].",
                        "VernacExtend",
                        "d62fb9ae95af3f3c1234cd1189349e4447affbc1"
                    ]
                },
                {
                    "command": [
                        "exists (f x); split; auto; rewrite list_an_spec; simpl; split; try omega.",
                        "VernacExtend",
                        "4243578d81cfa1ba580f99b87b7d04a9d291daf0"
                    ]
                },
                {
                    "command": [
                        "apply Hf; omega.",
                        "VernacExtend",
                        "a4dbb7d505b9ad91bbd29ff5fa0bec5000ffb968"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "do 2 rewrite list_an_length; auto.",
                        "VernacExtend",
                        "9d67380a3b0d9bde0e1716bf0cbea3e583d65432"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "exists i, j; split; try omega.",
                        "VernacExtend",
                        "0844301a38db17036e2ebf4e52b9a932a59e4021"
                    ]
                },
                {
                    "command": [
                        "generalize H1; intros G1.",
                        "VernacExtend",
                        "22c01d9e2929898bf639ba46fb8fdab789b8a03f"
                    ]
                },
                {
                    "command": [
                        "apply list_an_app_inv in G1.",
                        "VernacExtend",
                        "8dbf55170959d0f6404893fc7c080e93763f7efb"
                    ]
                },
                {
                    "command": [
                        "destruct G1 as (G0 & G1); simpl in G1.",
                        "VernacExtend",
                        "a27f0a6a54d4951b1458896c42d8723bcaaf8f96"
                    ]
                },
                {
                    "command": [
                        "injection G1; clear G1; intros G1 G2.",
                        "VernacExtend",
                        "c9492e8b49403c4a6294613f12a65d01cd4ad2c6"
                    ]
                },
                {
                    "command": [
                        "symmetry in G1; apply list_an_app_inv in G1.",
                        "VernacExtend",
                        "18377c79e07cd7b5133c0ce9f3b4fca0154b137b"
                    ]
                },
                {
                    "command": [
                        "destruct G1 as (G3 & G1); simpl in G1.",
                        "VernacExtend",
                        "ff2924fa76fc5e53a6a0c8899753dabb704c5dae"
                    ]
                },
                {
                    "command": [
                        "injection G1; clear G1; intros G4 G1.",
                        "VernacExtend",
                        "35a0cc76e092f99cc133ce000d6ffdde54239fc1"
                    ]
                },
                {
                    "command": [
                        "apply f_equal with (f := @length _) in H1.",
                        "VernacExtend",
                        "5b8e97ebded693497a667e067e54c46f8c4e1606"
                    ]
                },
                {
                    "command": [
                        "revert H1; rew length; intros H1.",
                        "VernacExtend",
                        "2f76a7aeda5978eab324cf16078e081793db60dc"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Hg1",
            "line_nb": 67,
            "steps": [
                {
                    "command": [
                        "intros j Hj; unfold g.",
                        "VernacExtend",
                        "7354058a2c4597077ac8fe94acf478d20fa21461"
                    ]
                },
                {
                    "command": [
                        "destruct (le_lt_dec (S n) j); try omega.",
                        "VernacExtend",
                        "cff742d92cebff4931cd295bb77a1d47c472ba0e"
                    ]
                },
                {
                    "command": [
                        "destruct (le_lt_dec i j); try omega.",
                        "VernacExtend",
                        "3360688a13323cd035c27b9274fb54e46d3adee1"
                    ]
                },
                {
                    "command": [
                        "destruct (le_lt_dec j i); omega.",
                        "VernacExtend",
                        "c119d3f02175f10572547f6f1a786e8fe83bb97d"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Hg2",
            "line_nb": 73,
            "steps": [
                {
                    "command": [
                        "unfold g; destruct (le_lt_dec (S n) j); intros; omega.",
                        "VernacExtend",
                        "a9c5446f720c76aad382701fc9ea14445aaa971d"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Hh1",
            "line_nb": 76,
            "steps": [
                {
                    "command": [
                        "intros j Hj; unfold h.",
                        "VernacExtend",
                        "fd910a39e00a1721ad778884911777ce22700967"
                    ]
                },
                {
                    "command": [
                        "destruct (le_lt_dec (S n) j); try omega.",
                        "VernacExtend",
                        "cff742d92cebff4931cd295bb77a1d47c472ba0e"
                    ]
                },
                {
                    "command": [
                        "destruct (le_lt_dec n j); try omega.",
                        "VernacExtend",
                        "f180534d4d235a1e4fc2cafadee0f2cc1d72fb16"
                    ]
                },
                {
                    "command": [
                        "destruct (le_lt_dec i j); omega.",
                        "VernacExtend",
                        "86f03d008d7d27a4070835002ff9ee39a55ae8b9"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Hh2",
            "line_nb": 82,
            "steps": [
                {
                    "command": [
                        "unfold h; destruct (le_lt_dec (S n) j); intros; omega.",
                        "VernacExtend",
                        "139b0decab33091d4cc451d8e25a54279a9ffa70"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "find_max_fun",
            "line_nb": 138,
            "steps": [
                {
                    "command": [
                        "revert f; induction n as [ | n IHn ]; intros f.",
                        "VernacExtend",
                        "bcec758aba6f640ea4dfeb55f37c5002081973e1"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "exists 0; split; auto.",
                        "VernacExtend",
                        "9e684bc19db99861760a85ac9ae66ecf76dff3e2"
                    ]
                },
                {
                    "command": [
                        "intros [ | ]; auto; omega.",
                        "VernacExtend",
                        "cc071e19facddbe9f5ef13e99cdc402c701fb425"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct (IHn f) as (i & H1 & H2).",
                        "VernacExtend",
                        "d7c084b59063b6a9d0422ffcfe3e921479ad5630"
                    ]
                },
                {
                    "command": [
                        "destruct (le_lt_dec (f i) (f (S n))) as [ H | H ].",
                        "VernacExtend",
                        "11389f4f6aa962a873161b151f60a4b1d0c24957"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "exists (S n); split; auto.",
                        "VernacExtend",
                        "ce370889c343e38db88860c137f2698c8adc4d01"
                    ]
                },
                {
                    "command": [
                        "intros j Hj.",
                        "VernacExtend",
                        "ac045f22fac04e8e40aff032a174e095b7eda154"
                    ]
                },
                {
                    "command": [
                        "destruct (le_lt_dec j n) as [ H0 | H0 ].",
                        "VernacExtend",
                        "2d6d964b02881ba294ca44f6ed72d741e486897d"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply le_trans with (2 := H); auto.",
                        "VernacExtend",
                        "e7b66cbaa4830c7498b0e3ba971862da1faf9804"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "cutrewrite (j = S n); auto; omega.",
                        "VernacExtend",
                        "ce91fbe84db4641fb3128004a54e8e260a486d24"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "exists i; split; auto.",
                        "VernacExtend",
                        "a2fd5123929d3e333f8e4d29574dfe99d0748534"
                    ]
                },
                {
                    "command": [
                        "intros j Hj.",
                        "VernacExtend",
                        "ac045f22fac04e8e40aff032a174e095b7eda154"
                    ]
                },
                {
                    "command": [
                        "destruct (le_lt_dec j n) as [ H0 | H0 ]; auto.",
                        "VernacExtend",
                        "81c1d177a12536d9009f093d9b8d8b406d95fa19"
                    ]
                },
                {
                    "command": [
                        "cutrewrite (j = S n); auto; omega.",
                        "VernacExtend",
                        "ce91fbe84db4641fb3128004a54e8e260a486d24"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "sigma_sum_split",
            "line_nb": 161,
            "steps": [
                {
                    "command": [
                        "intros Hi.",
                        "VernacExtend",
                        "1760e50437fee0aca9b028404143ef4a8c472680"
                    ]
                },
                {
                    "command": [
                        "replace (S n) with (i+1+(n- S i)+1) by omega.",
                        "VernacExtend",
                        "43cefbbb6717442fc5e73407ea0a702ce2980c0f"
                    ]
                },
                {
                    "command": [
                        "repeat (rewrite msum_plus; auto).",
                        "VernacExtend",
                        "c7796d83890b798b76f611b05b628395cd172c4d"
                    ]
                },
                {
                    "command": [
                        "do 2 rewrite msum_S, msum_0.",
                        "VernacExtend",
                        "8c8c8072f4347cd0920ed05f71f9fc7c6eeb0551"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite <- plus_assoc.",
                        "VernacExtend",
                        "8c172de6f33ce049efe66a18f277318a2183568e"
                    ]
                },
                {
                    "command": [
                        "rewrite (plus_comm).",
                        "VernacExtend",
                        "f2921c049c57ff33e3248947a1d6b2bcd1257393"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite <- plus_assoc.",
                        "VernacExtend",
                        "8c172de6f33ce049efe66a18f277318a2183568e"
                    ]
                },
                {
                    "command": [
                        "f_equal.",
                        "VernacExtend",
                        "dfce814d1efcef60f8330516ad88155a3a5ec317"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "f_equal; omega.",
                        "VernacExtend",
                        "3b812353131f9b9bebbd6410b3fa7c9d2e597ec3"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "rewrite (plus_comm).",
                        "VernacExtend",
                        "f2921c049c57ff33e3248947a1d6b2bcd1257393"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite <- plus_assoc.",
                        "VernacExtend",
                        "8c172de6f33ce049efe66a18f277318a2183568e"
                    ]
                },
                {
                    "command": [
                        "f_equal.",
                        "VernacExtend",
                        "dfce814d1efcef60f8330516ad88155a3a5ec317"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "f_equal; omega.",
                        "VernacExtend",
                        "3b812353131f9b9bebbd6410b3fa7c9d2e597ec3"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "f_equal.",
                        "VernacExtend",
                        "dfce814d1efcef60f8330516ad88155a3a5ec317"
                    ]
                },
                {
                    "command": [
                        "apply msum_ext.",
                        "VernacExtend",
                        "7a532d138982edc9f28dc2ca93a6b8f4b4e334fc"
                    ]
                },
                {
                    "command": [
                        "intros; f_equal; omega.",
                        "VernacExtend",
                        "0f287c170839efd40edcf658a656dce480320ef9"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "sum_permutation_1",
            "line_nb": 184,
            "steps": [
                {
                    "command": [
                        "revert i j g; induction n as [ | n IHn ]; intros i j g (H1 & H2) H3 H4 H5.",
                        "VernacExtend",
                        "6c8c7190ea807e21071ccddd2dcb1a5ceb39bc7a"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "do 2 rewrite msum_0; auto.",
                        "VernacExtend",
                        "7134c673f48c9a7cabd3570c86c450d1e120e83a"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_nat_dec j n) as [ H7 | H7 ].",
                        "VernacExtend",
                        "717e79bb2cc313f40d4d81d6ed565f8a4a729c03"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "rewrite H7 in *; clear j H7 H2.",
                        "VernacExtend",
                        "263bf72e584ebee7d9b2b7f18ac064bbaf2740e7"
                    ]
                },
                {
                    "command": [
                        "do 2 rewrite sigma_sum_split with (1 := H1).",
                        "VernacExtend",
                        "397d583643f0fabc0dfb220f6835e73a81a30a24"
                    ]
                },
                {
                    "command": [
                        "rewrite H3, H4; f_equal; [ f_equal | ]; try omega; apply msum_ext; intros; symmetry; f_equal; apply H5; omega.",
                        "VernacExtend",
                        "26715b9630c42406231ec3d1215a183e1bfefae7"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "do 2 (rewrite msum_plus1; auto); f_equal.",
                        "VernacExtend",
                        "d1d56cffba98fa200cb784830490ee25bb2e3dc2"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply IHn with i j; auto; split; auto; omega.",
                        "VernacExtend",
                        "a95ac1e77a004f11beb0a57fabc5133e4fad1b21"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "symmetry; f_equal; apply H5; omega.",
                        "VernacExtend",
                        "dc6e49315a4259efbf265ffb6ef2702df13839a8"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "swap_bounded_permut",
            "line_nb": 203,
            "steps": [
                {
                    "command": [
                        "constructor; auto.",
                        "VernacExtend",
                        "686f227fe0f57af60032eb35216aef1e62d0c0e5"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "composed_permutation_ext",
            "line_nb": 207,
            "steps": [
                {
                    "command": [
                        "intros H1 H2; revert H2 g H1.",
                        "VernacExtend",
                        "e7df47789d48cf16489b8373bee03cb9a8e60385"
                    ]
                },
                {
                    "command": [
                        "induction 1 as [ f Hg | f i j p q H1 H2 IH2 H3 ]; intros g H4.",
                        "VernacExtend",
                        "36621dd692781b315c7745d63c2d9d4ac36424d1"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "constructor 1; intros; rewrite <- H4; auto.",
                        "VernacExtend",
                        "820c3b2b5e702b25dae5039df640e4e7d04f15c6"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "constructor 2 with i j p q; auto.",
                        "VernacExtend",
                        "ebb191b3d2ac9ac5fd4572bd806ac8ce96feff9d"
                    ]
                },
                {
                    "command": [
                        "intros; rewrite <- H4; auto.",
                        "VernacExtend",
                        "aa988979e653d9c7e1df672fd6a7a40455a3b929"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "flat_left",
            "line_nb": 217,
            "steps": [
                {
                    "command": [
                        "unfold flat; intro; destruct (le_lt_dec n i); auto; omega.",
                        "VernacExtend",
                        "ac469c25a8eafd61d55d207459a5df214752766c"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "flat_right",
            "line_nb": 220,
            "steps": [
                {
                    "command": [
                        "unfold flat; intro; destruct (le_lt_dec n i); auto; omega.",
                        "VernacExtend",
                        "ac469c25a8eafd61d55d207459a5df214752766c"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "composed_permutation_extends",
            "line_nb": 223,
            "steps": [
                {
                    "command": [
                        "intros H1 H2 H3; revert H3 g H1 H2.",
                        "VernacExtend",
                        "4148fa1f6a410575cb144b4a9c8de675d2a58bb6"
                    ]
                },
                {
                    "command": [
                        "induction 1 as [ f Hg | f i j p q H1 H2 IH2 H3 ]; intros g H4 H5.",
                        "VernacExtend",
                        "779485526981d70e671e4f17bd939d2b89e5f060"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "constructor 1; intros j Hj.",
                        "VernacExtend",
                        "cb02f201e058477c56d649da07b53e3e0a6c189a"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_nat_dec j n); subst; auto.",
                        "VernacExtend",
                        "e9c59b285b751fe0deebcb0cbe4f4709a6b07680"
                    ]
                },
                {
                    "command": [
                        "rewrite <- H4, Hg; auto; omega.",
                        "VernacExtend",
                        "c912578fc24e25f77b4caecfe3d18a8814ad267d"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "constructor 2 with i j (flat n p) (flat n q).",
                        "VernacExtend",
                        "711155fd67bafbccaf2916b4d46f2aab2b87320a"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "destruct H1 as [ G1 G2 G3 G4 G5 ]; constructor; try omega.",
                        "VernacExtend",
                        "c6e2afd1af54fd99f03c41f527c2aefa3d240c75"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "rewrite flat_left; auto; omega.",
                        "VernacExtend",
                        "7ca509f75f9f9d1bf0b85fb0cc0aa6267754f145"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "rewrite flat_left; auto; omega.",
                        "VernacExtend",
                        "7ca509f75f9f9d1bf0b85fb0cc0aa6267754f145"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros k ? ? ?.",
                        "VernacExtend",
                        "01a7810032db943acf2995493e73d0b013d98327"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_nat_dec k n); subst.",
                        "VernacExtend",
                        "e1e85230135ed1bee3f2d993d86a1a2fa3a79c22"
                    ]
                },
                {
                    "command": [
                        "++",
                        "VernacBullet",
                        "cac3e4fa1e090b315e8d0c45d2700cf7c59ed246"
                    ]
                },
                {
                    "command": [
                        "rewrite flat_right; auto.",
                        "VernacExtend",
                        "e6dddd1b9645188ecfb666ff198c826753ad3360"
                    ]
                },
                {
                    "command": [
                        "++",
                        "VernacBullet",
                        "cac3e4fa1e090b315e8d0c45d2700cf7c59ed246"
                    ]
                },
                {
                    "command": [
                        "rewrite flat_left, G5; omega.",
                        "VernacExtend",
                        "b5396877f35c69655837b4139c3b9a2c71418c7c"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "apply IH2.",
                        "VernacExtend",
                        "58b082fcc19ce3ec20cbb8fd80f36f46a578c9fb"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros l Hl; rewrite flat_left; auto.",
                        "VernacExtend",
                        "5c4680f8a895e3cbc2bdc9e4ac3fa38df932bbd4"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "rewrite flat_right; omega.",
                        "VernacExtend",
                        "a5af0081d3306665c705915a972bab0d0a4e6b53"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "intros k Hk.",
                        "VernacExtend",
                        "341b086248172f5c94f8f482bb5f483619b45197"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_nat_dec k n); subst.",
                        "VernacExtend",
                        "e1e85230135ed1bee3f2d993d86a1a2fa3a79c22"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "rewrite (flat_right p), flat_right; omega.",
                        "VernacExtend",
                        "ce0fec5f3e9c963aa29c9d7a9630141c8a4784a5"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "rewrite (flat_left p); try omega.",
                        "VernacExtend",
                        "f7e4dea055df6ee11eac88fede1edcdc9d123762"
                    ]
                },
                {
                    "command": [
                        "rewrite flat_left, <- H4; try omega.",
                        "VernacExtend",
                        "049a2febaac433dcb05b518240467dd3cfbad1c3"
                    ]
                },
                {
                    "command": [
                        "++",
                        "VernacBullet",
                        "cac3e4fa1e090b315e8d0c45d2700cf7c59ed246"
                    ]
                },
                {
                    "command": [
                        "apply H3; omega.",
                        "VernacExtend",
                        "9be13c44c14fc2850fbacc316b0d5ebbe3b1057d"
                    ]
                },
                {
                    "command": [
                        "++",
                        "VernacBullet",
                        "cac3e4fa1e090b315e8d0c45d2700cf7c59ed246"
                    ]
                },
                {
                    "command": [
                        "destruct H1 as [ G1 G2 G3 G4 G5 ].",
                        "VernacExtend",
                        "50c16964e1d157cd7e2c27804df9c5a559698e8e"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_nat_dec k i).",
                        "VernacExtend",
                        "ed798ffa02d611be2d34e3b2760cd4d971b53a91"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "subst; auto.",
                        "VernacExtend",
                        "0dfc636d3b0c9fb40074fb6c1c1b90bf77fecdc8"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_nat_dec k j).",
                        "VernacExtend",
                        "d6f34ca3889f6766afd4ff5c6c34bd9a6f059c07"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "subst k; omega.",
                        "VernacExtend",
                        "431fef764e7162ba839da63bd9f80ad74747949d"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "rewrite G5; omega.",
                        "VernacExtend",
                        "d0bff3e2b0ca691135417734a0f8d352001bda6f"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "composed_permutation_S",
            "line_nb": 273,
            "steps": [
                {
                    "command": [
                        "intro; apply composed_permutation_extends; auto.",
                        "VernacExtend",
                        "c20f1f1450d0b614e3b559137fcaf28001a5cbda"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "sum_bounded_permutation",
            "line_nb": 341,
            "steps": [
                {
                    "command": [
                        "intros [ H1 H2 H3 H4 H5 ].",
                        "VernacExtend",
                        "081e07bac4105e876fcc95f0a5c649813ddcba02"
                    ]
                },
                {
                    "command": [
                        "destruct (lt_eq_lt_dec i j) as [ [ G1 | G1 ] | G1 ].",
                        "VernacExtend",
                        "3edcbb58af570ee561ceb57cd24362e7680af1ae"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply sum_permutation_1 with i j; auto; split; auto.",
                        "VernacExtend",
                        "3b53c14cc1d540fbf1723910755dfeeb8a6e5b45"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply msum_ext; rewrite <- G1 in *; clear j G1.",
                        "VernacExtend",
                        "4a41206450634a488cbfd864d14a52a75ccd4089"
                    ]
                },
                {
                    "command": [
                        "intros j Hj; f_equal.",
                        "VernacExtend",
                        "6ca30fe6bf13a8b21485a52521e9389e0d0bb201"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_nat_dec j i); subst; auto.",
                        "VernacExtend",
                        "5d9167eebe7b54a005f5a2e67aa71a7a4a609bc4"
                    ]
                },
                {
                    "command": [
                        "rewrite H5; auto.",
                        "VernacExtend",
                        "b21071c2373ca254f86470b0d9b124cb25551839"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply sum_permutation_1 with j i; auto; split; auto.",
                        "VernacExtend",
                        "2db4451973a0bd1b278469110539a0391876617f"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "sum_composed_permutation",
            "line_nb": 354,
            "steps": [
                {
                    "command": [
                        "induction 1 as [ g Hg | g i j p q H1 H2 IH2 H3 ].",
                        "VernacExtend",
                        "d65089086de4effe583bb6b22164dc7f50734596"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "symmetry; apply msum_ext; intros; f_equal; apply Hg; auto.",
                        "VernacExtend",
                        "23e13cd2654b5f6fa0db57c73531daa6c05623f1"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite IH2, sum_bounded_permutation with (1 := H1).",
                        "VernacExtend",
                        "d8c8d08267055aeef5175c5de6ec3d8ee2d3d57f"
                    ]
                },
                {
                    "command": [
                        "symmetry; apply msum_ext; intros; f_equal; auto.",
                        "VernacExtend",
                        "a9ba1d6022a5bf791632a7af17d034e641ae2454"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "sum_injective",
            "line_nb": 362,
            "steps": [
                {
                    "command": [
                        "intros; apply sum_composed_permutation, injective_composed_permutation; trivial.",
                        "VernacExtend",
                        "72d0e5fd72a088ee85235d355ef495705890a6ae"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "sum_bijection",
            "line_nb": 368,
            "steps": [
                {
                    "command": [
                        "intros [ H1 H2 H3 H4 ].",
                        "VernacExtend",
                        "14f7b5932a744e14360492141d920050220bd03a"
                    ]
                },
                {
                    "command": [
                        "apply sum_injective.",
                        "VernacExtend",
                        "0e2fe0594f1067189077685bb3ca1a024c09c66e"
                    ]
                },
                {
                    "command": [
                        "constructor; auto.",
                        "VernacExtend",
                        "686f227fe0f57af60032eb35216aef1e62d0c0e5"
                    ]
                },
                {
                    "command": [
                        "intros i j G1 G2 G3; rewrite <- (H4 i), G3; auto.",
                        "VernacExtend",
                        "9e110fe70d16db15b4ef2dbbcb6b663066ba838b"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}