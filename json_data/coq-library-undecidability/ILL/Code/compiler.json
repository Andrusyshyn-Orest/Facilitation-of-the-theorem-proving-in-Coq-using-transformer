{
    "filename": "ILL/Code/compiler.v",
    "coq_project": "coq-library-undecidability",
    "vernac_cmds": [
        [
            "Require Import List Arith Omega.",
            "VernacRequire",
            "2384442a3f0b1bbc4c470e59943da44aa7d6ec91"
        ],
        [
            "Require Import utils subcode.",
            "VernacRequire",
            "3954977247e043215ee92502b7e1dd4e1b12c888"
        ],
        [
            "Set Implicit Arguments.",
            "VernacSetOption",
            "9e84ff8896f028601d8aded48c1d4aebe60aa584"
        ],
        [
            "Tactic Notation \"dest\" \"eq\" \"nat\" \"dec\" \"as\" intropattern(H) := match goal with |- context[eq_nat_dec ?x ?y] => destruct (eq_nat_dec x y) as H end; auto.",
            "VernacExtend",
            "9262c11b528af47b33851a54fa7526605b51bc28"
        ],
        [
            "Tactic Notation \"solve\" \"eq\" \"nat\" \"dec\" := match goal with |- context[eq_nat_dec ?x ?x] => destruct (eq_nat_dec x x) as [ | [] ]; [ | reflexivity ] end; auto.",
            "VernacExtend",
            "1e83a88f47502bdcdc07e2b3339ebf0dfb38e9b0"
        ],
        [
            "Section linker.",
            "VernacBeginSection",
            "c05347cff40b074a6dca982d71b8ffe45a68edb4"
        ],
        [
            "Variable (X Y : Type) (c : (nat -> nat) -> nat -> X -> list Y) (lc : X -> nat) (Hc : forall f n x, length (c f n x) = lc x).",
            "VernacAssumption",
            "4b01807fa6ea20ad8192278702de35f661b616de"
        ],
        [
            "Fixpoint length_compiler lx := match lx with | nil => 0 | x::lx => lc x+length_compiler lx end.",
            "VernacFixpoint",
            "10425bf8714710b3770c75f9c00214650a61cd31"
        ],
        [
            "Fact length_compiler_app ll mm : length_compiler (ll++mm) = length_compiler ll + length_compiler mm.",
            "VernacStartTheoremProof",
            "4102db57daf54130fa862ced5b618a22a9c3a245"
        ],
        [
            "induction ll as [ | x ll IH ]; simpl; auto.",
            "VernacExtend",
            "7e3bb6ab86519580a64ab19929beb147e0046cb0"
        ],
        [
            "rewrite IH; omega.",
            "VernacExtend",
            "77313cf02196855cc596837d9bdf7f3608aac885"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Notation lsum := length_compiler.",
            "VernacSyntacticDefinition",
            "e89210e34a1f7f869f9a6744f127cab3860ba53a"
        ],
        [
            "Fixpoint link i ll j : list (nat*nat) := match ll with | nil => nil | x::ll => (i,j)::link (S i) ll (lc x+j) end.",
            "VernacFixpoint",
            "c2bd05d66b122204d517a72f40e72fbb165b6897"
        ],
        [
            "Fact link_app i ll mm j : link i (ll++mm) j = link i ll j ++ link (length ll+i) mm (lsum ll+j).",
            "VernacStartTheoremProof",
            "4e9fba72e3dae028b4699d425d8071de25fdd347"
        ],
        [
            "revert i j; induction ll as [ | x ll IH ]; simpl; intros i j; f_equal.",
            "VernacExtend",
            "7ebe36140127510d8e1a0e3087fb9bffe36eb6ee"
        ],
        [
            "rewrite IH; do 2 f_equal; omega.",
            "VernacExtend",
            "1070abd6ea6643e98d0d838bf19c0dad1b0783c3"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fact link_fst i ll j : map fst (link i ll j) = list_an i (length ll).",
            "VernacStartTheoremProof",
            "9077960684a3587fc01c9e3710cc6a22ac76db17"
        ],
        [
            "revert i j; induction ll; simpl; intros; f_equal; auto.",
            "VernacExtend",
            "9c07b72fac174fe8073f231facbea14deaa83078"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Section comp.",
            "VernacBeginSection",
            "9d300dcc4d32dd645c2bca2a8ed9a342a9b46811"
        ],
        [
            "Variable lnk : nat -> nat.",
            "VernacAssumption",
            "c78989bd2e820c06cd1b4c6e922950b57f8c88e5"
        ],
        [
            "Fixpoint comp i ll j := match ll with | nil => nil | x::ll => c lnk i x ++ comp (S i) ll (lc x+j) end.",
            "VernacFixpoint",
            "729617366ab6ccb5db01ced80812416991281708"
        ],
        [
            "Fact comp_app i ll mm j : comp i (ll++mm) j = comp i ll j ++ comp (length ll+i) mm (lsum ll+j).",
            "VernacStartTheoremProof",
            "8e0a452aad0a4df84779e1148660b3a4e80853ee"
        ],
        [
            "revert i j; induction ll as [ | x ll IH ]; simpl; intros i j; auto.",
            "VernacExtend",
            "cc85172521a38d776435203cc189b927a666ce69"
        ],
        [
            "rewrite IH; solve list eq; do 3 f_equal; omega.",
            "VernacExtend",
            "a960cd1870fdce7956474f87b6b1e544eefba5d1"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fact comp_length i ll j : length (comp i ll j) = lsum ll.",
            "VernacStartTheoremProof",
            "f137d6c7c0f9a2b74043e81a4c8553dd7cd136db"
        ],
        [
            "revert i j; induction ll as [ | x ll IH ]; simpl; intros i j; auto.",
            "VernacExtend",
            "cc85172521a38d776435203cc189b927a666ce69"
        ],
        [
            "rew length; rewrite IH, Hc; trivial.",
            "VernacExtend",
            "ec233aa9a5d9de4e043e8c281cb0ec01f55c301e"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End comp.",
            "VernacEndSegment",
            "c1eacf6901e2e8d775a297ece47c274ea45744fd"
        ],
        [
            "Variable (P : nat * list X) (i : nat) (err : nat).",
            "VernacAssumption",
            "bf325296ba35d63c15cc8a0c116748dcff8a2ded"
        ],
        [
            "Definition linker := let ll := (length (snd P) + fst P,lsum (snd P)+i)::link (fst P) (snd P) i in fun j => match list_assoc eq_nat_dec j ll with | None => err | Some p => p end.",
            "VernacDefinition",
            "e911e45b006b4584e86b3980f63d0d26265c8edb"
        ],
        [
            "Fact linker_app ll mm : snd P = ll++mm -> linker (length ll+fst P) = lsum ll + i.",
            "VernacStartTheoremProof",
            "6f66f59780aa0973db9c68ae4a48906c01c15f37"
        ],
        [
            "intros H; unfold linker.",
            "VernacExtend",
            "6e8f8aea9ee9069f55f54f4da09d202e045d340d"
        ],
        [
            "destruct P as (iP,lP).",
            "VernacExtend",
            "46a96c05af56383a082dc83e7c3574fb5892899a"
        ],
        [
            "rewrite H; simpl in H |- *.",
            "VernacExtend",
            "9023a6ce25872bbf3f2736da32249c51aa840737"
        ],
        [
            "destruct mm as [ | x mm ].",
            "VernacExtend",
            "02bc9bc22bc40f6c3eec05028dece0e6a8c42099"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "rewrite <- app_nil_end.",
            "VernacExtend",
            "7a5afb73f1079eefc4f038825f65236213f003d9"
        ],
        [
            "solve eq nat dec.",
            "VernacExtend",
            "499115d813fac4008de9456ccdb5828e55ad3e70"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "rew length.",
            "VernacExtend",
            "027365decd8cc42224119f4dc1667299cb445f48"
        ],
        [
            "dest eq nat dec as [ H1 | H1 ]; [ omega | clear H1 ].",
            "VernacExtend",
            "5f627ae55a09c25321edadfe822b5fca0dba61a2"
        ],
        [
            "rewrite link_app, list_assoc_app.",
            "VernacExtend",
            "3c215154c24f81e6092c94a3afa20a4a27986a34"
        ],
        [
            "generalize (list_assoc_In eq_nat_dec (length ll + iP) (link iP ll i)).",
            "VernacExtend",
            "605d99813747116f2fd3fa90c8da009522505ca2"
        ],
        [
            "destruct (list_assoc eq_nat_dec (length ll + iP) (link iP ll i)) as [ j | ].",
            "VernacExtend",
            "3d0643f4f4b3e2403cdbc432001637f33d2c36cc"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros H1.",
            "VernacExtend",
            "ba8e6c21eb83603690828b8ea37ea25a6f2962f3"
        ],
        [
            "apply in_map with (f := @fst _ _) in H1.",
            "VernacExtend",
            "66a999ef1463cbaab46a9b4b953ce92c89a07f74"
        ],
        [
            "rewrite link_fst, list_an_spec in H1; simpl in H1; omega.",
            "VernacExtend",
            "d5b6a5e053598e4aaef881306b4ef7e5cd0ee7c0"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros; simpl; solve eq nat dec.",
            "VernacExtend",
            "44dbb55eecc2eea7b3b0fa1d7179b90564539189"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fact linker_err_code j : j < fst P \\/ length (snd P) + fst P < j -> linker j = err.",
            "VernacStartTheoremProof",
            "78f9d9e6dd0d1a57c4d4a286429948a1d022445c"
        ],
        [
            "unfold linker.",
            "VernacExtend",
            "ce42cbcab4d13fe63158bb0460e6e81fb7f27e15"
        ],
        [
            "destruct P as (iP,lP); simpl; intros H.",
            "VernacExtend",
            "eada0541932b02d62307a853376f8587194b3d42"
        ],
        [
            "dest eq nat dec as [ H1 | _ ]; [ omega | ].",
            "VernacExtend",
            "42d7d62c1a0f0237f9972d6936dce77bc9a3ae06"
        ],
        [
            "generalize (list_assoc_In eq_nat_dec j (link iP lP i)).",
            "VernacExtend",
            "c74f6fad5df1309f9e027b3c6385cbb58e0709cc"
        ],
        [
            "destruct (list_assoc eq_nat_dec j (link iP lP i)); auto.",
            "VernacExtend",
            "f5b61c04e51fd32d97dd67cb73c2983dbd467cec"
        ],
        [
            "intros H1.",
            "VernacExtend",
            "ba8e6c21eb83603690828b8ea37ea25a6f2962f3"
        ],
        [
            "apply in_map with (f := @fst _ _) in H1.",
            "VernacExtend",
            "66a999ef1463cbaab46a9b4b953ce92c89a07f74"
        ],
        [
            "rewrite link_fst, list_an_spec in H1; simpl in H1; omega.",
            "VernacExtend",
            "d5b6a5e053598e4aaef881306b4ef7e5cd0ee7c0"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition compiler := comp linker (fst P) (snd P) i.",
            "VernacDefinition",
            "915ac201db5fd2e4c6f8253aafc71f68f70abf5c"
        ],
        [
            "Fact compiler_length : length compiler = length_compiler (snd P).",
            "VernacStartTheoremProof",
            "9685235030bdb00f3661fc6bce965166ed81b6f6"
        ],
        [
            "apply comp_length.",
            "VernacExtend",
            "fdaf8f14ab320c1e4b8407dad986dcab2d96e24f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Section linker_in_code.",
            "VernacBeginSection",
            "c3cd1f1d4df976b574f0b448983ccd608720270b"
        ],
        [
            "Hypothesis (Hlc : forall x, 1 <= lc x).",
            "VernacAssumption",
            "e18deed468cbd2830e5ca2390fe4c9da773fe003"
        ],
        [
            "Fact linker_in_code j : in_code j P -> in_code (linker j) (i,compiler).",
            "VernacStartTheoremProof",
            "b4525256b4b48840e27904781bf287f58b47935e"
        ],
        [
            "intros H; red in H; simpl in H.",
            "VernacExtend",
            "987f1bb97348c6a0d8feeb0eeeaf48df76141147"
        ],
        [
            "destruct (@list_split_length _ (snd P) (j - fst P)) as (ll & mm & H1 & H2); try omega.",
            "VernacExtend",
            "78164509fe3bb86e921bf34ef8f72d24ab4d3382"
        ],
        [
            "replace j with (length ll+fst P) by omega.",
            "VernacExtend",
            "732f1401ee893beb8f5aa06d05a9a7c710079649"
        ],
        [
            "rewrite (linker_app _ _ H1).",
            "VernacExtend",
            "8739ddd442924b6831f2b0aeb444e55adcd098fd"
        ],
        [
            "red; simpl; rewrite compiler_length, H1, length_compiler_app.",
            "VernacExtend",
            "b4bd85d39776a2ec8dff1fb50cb153630207abf3"
        ],
        [
            "rewrite H1, app_length in H.",
            "VernacExtend",
            "606a8c2e9ec79939355d1a7fec9cb1a0aa70bb9e"
        ],
        [
            "destruct mm.",
            "VernacExtend",
            "ede305fb69ecde0119c7fba72c432635ea9e57a3"
        ],
        [
            "simpl in H; omega.",
            "VernacExtend",
            "a3f8f3574d2944d9b2cb80520d46db840a082829"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "generalize (Hlc x); omega.",
            "VernacExtend",
            "77fe4123c765739664bd3a94c811991e3b94dfb5"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End linker_in_code.",
            "VernacEndSegment",
            "4141da838794ee0ff95ae5bbdd88812d1fd16175"
        ],
        [
            "Fact compiler_subcode j x : (j,x::nil) <sc P -> (linker j, c linker j x) <sc (i,compiler) /\\ linker (1+j) = lc x + linker j.",
            "VernacStartTheoremProof",
            "935cb089cc212e66a404b2e56cc005796c329ce2"
        ],
        [
            "case_eq P; intros iP lP HP (l & r & H1 & H2); simpl in H1.",
            "VernacExtend",
            "d6da7857ca038f6fe447c60d0b47c2a61cc68568"
        ],
        [
            "assert (linker j = lsum l + i) as Hj.",
            "VernacExtend",
            "0cb3fc4094051dd656dd68e0c80906da2cfa228f"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "generalize (linker_app l (x::r)).",
            "VernacExtend",
            "113ee4c0eb662e2e0639e87731668317c9377dd7"
        ],
        [
            "rewrite HP; simpl; intros E.",
            "VernacExtend",
            "6b6d00440f76042c56f4e1884ff3ca7a267dd37d"
        ],
        [
            "rewrite <- E; auto; f_equal; omega.",
            "VernacExtend",
            "d407e1efb19731c2afbd2200eaf747934d40d73d"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "assert (linker (1+j) = lc x + linker j) as HSj.",
            "VernacExtend",
            "c1d3df93a72fa3648c73e612dfc6d3992eb136e6"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "generalize (linker_app (l++x::nil) r).",
            "VernacExtend",
            "f37a4e9afb8887951aba589bea49dbdf13855c4c"
        ],
        [
            "rewrite HP, app_ass; simpl; intros H3.",
            "VernacExtend",
            "8d5a89e761287d4a5645523e265be1bddc85a130"
        ],
        [
            "specialize (H3 H1).",
            "VernacExtend",
            "e32646b264366615219e6032b9eaf5389896fcf5"
        ],
        [
            "eq goal H3; f_equal.",
            "VernacExtend",
            "fe57ecff8d2e74c92b8891d57e09024d56dfa46f"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "rew length; omega.",
            "VernacExtend",
            "4c1755317b15e1d79d75400aa81165e719c47339"
        ],
        [
            "rewrite length_compiler_app; simpl; omega.",
            "VernacExtend",
            "f5cf7d26739bb62f3f7cf24b0c60acd101d7abd6"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "split; auto.",
            "VernacExtend",
            "fcd44a714bd12fa54b1c7746996e44dbac16df06"
        ],
        [
            "unfold compiler; rewrite HP, H1; simpl.",
            "VernacExtend",
            "ee9003b65b6ec38fd62e3fd4fb8b27605ec5f6bc"
        ],
        [
            "exists (comp linker iP l i), (comp linker (1+length l+iP) r (lc x+lsum l+i)); split.",
            "VernacExtend",
            "c645157301db67ea9cb0f9b7a009428d93469f87"
        ],
        [
            "rewrite comp_app; simpl; do 3 f_equal; omega.",
            "VernacExtend",
            "f4a398be20414843b876e8fdabcdefcd846828ec"
        ],
        [
            "rewrite comp_length; omega.",
            "VernacExtend",
            "09c9dc092f609908e568c76f0f79c72320069f4f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fact linker_code_start : linker (code_start P) = i.",
            "VernacStartTheoremProof",
            "e62dc5d20d0f00830897cef59eab8d6d4e1df091"
        ],
        [
            "apply (linker_app nil (snd P)); auto.",
            "VernacExtend",
            "faa0622a08783acf6183b14ef1ec88ac35f57bfc"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fact linker_middle ll x mm : snd P = ll++x::mm -> linker (length ll+fst P) = lsum ll+i.",
            "VernacStartTheoremProof",
            "4e1340007aadbf7d4b96c326beba9f9aa626d9e7"
        ],
        [
            "apply linker_app.",
            "VernacExtend",
            "e9ef4ddbcc6230aa19f6cbde8f63aea4a0de909e"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fact linker_code_end : linker (code_end P) = lsum (snd P)+i.",
            "VernacStartTheoremProof",
            "d83bf1f5174bc451a96a7efcd957d15e5ffc8bcb"
        ],
        [
            "unfold code_end; rewrite plus_comm.",
            "VernacExtend",
            "a35c24091fc17de019d3739ae1efe506a393e23d"
        ],
        [
            "apply (linker_app _ nil), app_nil_end.",
            "VernacExtend",
            "a2f7f5c11c82ced27c6a2b426c12853c2fb69a5a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fact linker_out_code j : err < i \\/ length_compiler (snd P) + i <= err -> out_code j P -> out_code (linker j) (i,compiler).",
            "VernacStartTheoremProof",
            "8aa25274d657bee5053f1761f127ba84d614d3fa"
        ],
        [
            "intros H1 H2.",
            "VernacExtend",
            "1a279bc44908e178ace5c31cb5040905c4829477"
        ],
        [
            "red in H2.",
            "VernacExtend",
            "5bba02de869f074af7f0a372976a9a820f412047"
        ],
        [
            "destruct (eq_nat_dec j (code_end P)) as [ H | H ].",
            "VernacExtend",
            "db8b12a792c514b2d2a633ba528264dc07869b42"
        ],
        [
            "rewrite H, linker_code_end; simpl.",
            "VernacExtend",
            "d457dc44e77cc341ac46bb6fa2e5fe1bb4479c52"
        ],
        [
            "rewrite compiler_length; omega.",
            "VernacExtend",
            "e7f63597c8c4e0207bd58f28d88f46440486b908"
        ],
        [
            "rewrite linker_err_code.",
            "VernacExtend",
            "0b2c6459b60e7833c04e78ad98640579c64d4dcd"
        ],
        [
            "simpl; rewrite compiler_length; omega.",
            "VernacExtend",
            "1d2452ed5f495a54ecb51266a499030920f54fcb"
        ],
        [
            "simpl in H2, H; omega.",
            "VernacExtend",
            "674858438251d127315baa8a92a2f4559267fbb1"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fact linker_out_err j : err = lsum (snd P) + i -> out_code j P -> linker j = err.",
            "VernacStartTheoremProof",
            "cd1976eb76d754684686c8cff0f1e9854014bde3"
        ],
        [
            "intros H1 H2.",
            "VernacExtend",
            "1a279bc44908e178ace5c31cb5040905c4829477"
        ],
        [
            "destruct (eq_nat_dec j (code_end P)) as [ H | H ].",
            "VernacExtend",
            "db8b12a792c514b2d2a633ba528264dc07869b42"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite H1, H; unfold code_end.",
            "VernacExtend",
            "e00cce2c1df2b61c2e94bef4f944d2140489eb9e"
        ],
        [
            "rewrite plus_comm, linker_app with (mm := nil); auto.",
            "VernacExtend",
            "64723e2a9856acf3568099b113ccd59f1ff51202"
        ],
        [
            "rewrite <- app_nil_end; auto.",
            "VernacExtend",
            "0e69b58a1955028f4b5bd87ee75b43021168bc7c"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply linker_err_code; red in H2; unfold code_end, code_start in *; omega.",
            "VernacExtend",
            "f2ca755fa419e36dc6c31915be7279f7f49dade4"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End linker.",
            "VernacEndSegment",
            "e7520e4fc0c49a3317a0a3b7f9265b663246f890"
        ]
    ],
    "proofs": [
        {
            "name": "length_compiler_app",
            "line_nb": 8,
            "steps": [
                {
                    "command": [
                        "induction ll as [ | x ll IH ]; simpl; auto.",
                        "VernacExtend",
                        "7e3bb6ab86519580a64ab19929beb147e0046cb0"
                    ]
                },
                {
                    "command": [
                        "rewrite IH; omega.",
                        "VernacExtend",
                        "77313cf02196855cc596837d9bdf7f3608aac885"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "link_app",
            "line_nb": 14,
            "steps": [
                {
                    "command": [
                        "revert i j; induction ll as [ | x ll IH ]; simpl; intros i j; f_equal.",
                        "VernacExtend",
                        "7ebe36140127510d8e1a0e3087fb9bffe36eb6ee"
                    ]
                },
                {
                    "command": [
                        "rewrite IH; do 2 f_equal; omega.",
                        "VernacExtend",
                        "1070abd6ea6643e98d0d838bf19c0dad1b0783c3"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "link_fst",
            "line_nb": 18,
            "steps": [
                {
                    "command": [
                        "revert i j; induction ll; simpl; intros; f_equal; auto.",
                        "VernacExtend",
                        "9c07b72fac174fe8073f231facbea14deaa83078"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "comp_app",
            "line_nb": 24,
            "steps": [
                {
                    "command": [
                        "revert i j; induction ll as [ | x ll IH ]; simpl; intros i j; auto.",
                        "VernacExtend",
                        "cc85172521a38d776435203cc189b927a666ce69"
                    ]
                },
                {
                    "command": [
                        "rewrite IH; solve list eq; do 3 f_equal; omega.",
                        "VernacExtend",
                        "a960cd1870fdce7956474f87b6b1e544eefba5d1"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "comp_length",
            "line_nb": 28,
            "steps": [
                {
                    "command": [
                        "revert i j; induction ll as [ | x ll IH ]; simpl; intros i j; auto.",
                        "VernacExtend",
                        "cc85172521a38d776435203cc189b927a666ce69"
                    ]
                },
                {
                    "command": [
                        "rew length; rewrite IH, Hc; trivial.",
                        "VernacExtend",
                        "ec233aa9a5d9de4e043e8c281cb0ec01f55c301e"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "linker_app",
            "line_nb": 35,
            "steps": [
                {
                    "command": [
                        "intros H; unfold linker.",
                        "VernacExtend",
                        "6e8f8aea9ee9069f55f54f4da09d202e045d340d"
                    ]
                },
                {
                    "command": [
                        "destruct P as (iP,lP).",
                        "VernacExtend",
                        "46a96c05af56383a082dc83e7c3574fb5892899a"
                    ]
                },
                {
                    "command": [
                        "rewrite H; simpl in H |- *.",
                        "VernacExtend",
                        "9023a6ce25872bbf3f2736da32249c51aa840737"
                    ]
                },
                {
                    "command": [
                        "destruct mm as [ | x mm ].",
                        "VernacExtend",
                        "02bc9bc22bc40f6c3eec05028dece0e6a8c42099"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "rewrite <- app_nil_end.",
                        "VernacExtend",
                        "7a5afb73f1079eefc4f038825f65236213f003d9"
                    ]
                },
                {
                    "command": [
                        "solve eq nat dec.",
                        "VernacExtend",
                        "499115d813fac4008de9456ccdb5828e55ad3e70"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "rew length.",
                        "VernacExtend",
                        "027365decd8cc42224119f4dc1667299cb445f48"
                    ]
                },
                {
                    "command": [
                        "dest eq nat dec as [ H1 | H1 ]; [ omega | clear H1 ].",
                        "VernacExtend",
                        "5f627ae55a09c25321edadfe822b5fca0dba61a2"
                    ]
                },
                {
                    "command": [
                        "rewrite link_app, list_assoc_app.",
                        "VernacExtend",
                        "3c215154c24f81e6092c94a3afa20a4a27986a34"
                    ]
                },
                {
                    "command": [
                        "generalize (list_assoc_In eq_nat_dec (length ll + iP) (link iP ll i)).",
                        "VernacExtend",
                        "605d99813747116f2fd3fa90c8da009522505ca2"
                    ]
                },
                {
                    "command": [
                        "destruct (list_assoc eq_nat_dec (length ll + iP) (link iP ll i)) as [ j | ].",
                        "VernacExtend",
                        "3d0643f4f4b3e2403cdbc432001637f33d2c36cc"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros H1.",
                        "VernacExtend",
                        "ba8e6c21eb83603690828b8ea37ea25a6f2962f3"
                    ]
                },
                {
                    "command": [
                        "apply in_map with (f := @fst _ _) in H1.",
                        "VernacExtend",
                        "66a999ef1463cbaab46a9b4b953ce92c89a07f74"
                    ]
                },
                {
                    "command": [
                        "rewrite link_fst, list_an_spec in H1; simpl in H1; omega.",
                        "VernacExtend",
                        "d5b6a5e053598e4aaef881306b4ef7e5cd0ee7c0"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros; simpl; solve eq nat dec.",
                        "VernacExtend",
                        "44dbb55eecc2eea7b3b0fa1d7179b90564539189"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "linker_err_code",
            "line_nb": 56,
            "steps": [
                {
                    "command": [
                        "unfold linker.",
                        "VernacExtend",
                        "ce42cbcab4d13fe63158bb0460e6e81fb7f27e15"
                    ]
                },
                {
                    "command": [
                        "destruct P as (iP,lP); simpl; intros H.",
                        "VernacExtend",
                        "eada0541932b02d62307a853376f8587194b3d42"
                    ]
                },
                {
                    "command": [
                        "dest eq nat dec as [ H1 | _ ]; [ omega | ].",
                        "VernacExtend",
                        "42d7d62c1a0f0237f9972d6936dce77bc9a3ae06"
                    ]
                },
                {
                    "command": [
                        "generalize (list_assoc_In eq_nat_dec j (link iP lP i)).",
                        "VernacExtend",
                        "c74f6fad5df1309f9e027b3c6385cbb58e0709cc"
                    ]
                },
                {
                    "command": [
                        "destruct (list_assoc eq_nat_dec j (link iP lP i)); auto.",
                        "VernacExtend",
                        "f5b61c04e51fd32d97dd67cb73c2983dbd467cec"
                    ]
                },
                {
                    "command": [
                        "intros H1.",
                        "VernacExtend",
                        "ba8e6c21eb83603690828b8ea37ea25a6f2962f3"
                    ]
                },
                {
                    "command": [
                        "apply in_map with (f := @fst _ _) in H1.",
                        "VernacExtend",
                        "66a999ef1463cbaab46a9b4b953ce92c89a07f74"
                    ]
                },
                {
                    "command": [
                        "rewrite link_fst, list_an_spec in H1; simpl in H1; omega.",
                        "VernacExtend",
                        "d5b6a5e053598e4aaef881306b4ef7e5cd0ee7c0"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "compiler_length",
            "line_nb": 67,
            "steps": [
                {
                    "command": [
                        "apply comp_length.",
                        "VernacExtend",
                        "fdaf8f14ab320c1e4b8407dad986dcab2d96e24f"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "linker_in_code",
            "line_nb": 72,
            "steps": [
                {
                    "command": [
                        "intros H; red in H; simpl in H.",
                        "VernacExtend",
                        "987f1bb97348c6a0d8feeb0eeeaf48df76141147"
                    ]
                },
                {
                    "command": [
                        "destruct (@list_split_length _ (snd P) (j - fst P)) as (ll & mm & H1 & H2); try omega.",
                        "VernacExtend",
                        "78164509fe3bb86e921bf34ef8f72d24ab4d3382"
                    ]
                },
                {
                    "command": [
                        "replace j with (length ll+fst P) by omega.",
                        "VernacExtend",
                        "732f1401ee893beb8f5aa06d05a9a7c710079649"
                    ]
                },
                {
                    "command": [
                        "rewrite (linker_app _ _ H1).",
                        "VernacExtend",
                        "8739ddd442924b6831f2b0aeb444e55adcd098fd"
                    ]
                },
                {
                    "command": [
                        "red; simpl; rewrite compiler_length, H1, length_compiler_app.",
                        "VernacExtend",
                        "b4bd85d39776a2ec8dff1fb50cb153630207abf3"
                    ]
                },
                {
                    "command": [
                        "rewrite H1, app_length in H.",
                        "VernacExtend",
                        "606a8c2e9ec79939355d1a7fec9cb1a0aa70bb9e"
                    ]
                },
                {
                    "command": [
                        "destruct mm.",
                        "VernacExtend",
                        "ede305fb69ecde0119c7fba72c432635ea9e57a3"
                    ]
                },
                {
                    "command": [
                        "simpl in H; omega.",
                        "VernacExtend",
                        "a3f8f3574d2944d9b2cb80520d46db840a082829"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "generalize (Hlc x); omega.",
                        "VernacExtend",
                        "77fe4123c765739664bd3a94c811991e3b94dfb5"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "compiler_subcode",
            "line_nb": 85,
            "steps": [
                {
                    "command": [
                        "case_eq P; intros iP lP HP (l & r & H1 & H2); simpl in H1.",
                        "VernacExtend",
                        "d6da7857ca038f6fe447c60d0b47c2a61cc68568"
                    ]
                },
                {
                    "command": [
                        "assert (linker j = lsum l + i) as Hj.",
                        "VernacExtend",
                        "0cb3fc4094051dd656dd68e0c80906da2cfa228f"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "generalize (linker_app l (x::r)).",
                        "VernacExtend",
                        "113ee4c0eb662e2e0639e87731668317c9377dd7"
                    ]
                },
                {
                    "command": [
                        "rewrite HP; simpl; intros E.",
                        "VernacExtend",
                        "6b6d00440f76042c56f4e1884ff3ca7a267dd37d"
                    ]
                },
                {
                    "command": [
                        "rewrite <- E; auto; f_equal; omega.",
                        "VernacExtend",
                        "d407e1efb19731c2afbd2200eaf747934d40d73d"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "assert (linker (1+j) = lc x + linker j) as HSj.",
                        "VernacExtend",
                        "c1d3df93a72fa3648c73e612dfc6d3992eb136e6"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "generalize (linker_app (l++x::nil) r).",
                        "VernacExtend",
                        "f37a4e9afb8887951aba589bea49dbdf13855c4c"
                    ]
                },
                {
                    "command": [
                        "rewrite HP, app_ass; simpl; intros H3.",
                        "VernacExtend",
                        "8d5a89e761287d4a5645523e265be1bddc85a130"
                    ]
                },
                {
                    "command": [
                        "specialize (H3 H1).",
                        "VernacExtend",
                        "e32646b264366615219e6032b9eaf5389896fcf5"
                    ]
                },
                {
                    "command": [
                        "eq goal H3; f_equal.",
                        "VernacExtend",
                        "fe57ecff8d2e74c92b8891d57e09024d56dfa46f"
                    ]
                },
                {
                    "command": [
                        "f_equal.",
                        "VernacExtend",
                        "dfce814d1efcef60f8330516ad88155a3a5ec317"
                    ]
                },
                {
                    "command": [
                        "rew length; omega.",
                        "VernacExtend",
                        "4c1755317b15e1d79d75400aa81165e719c47339"
                    ]
                },
                {
                    "command": [
                        "rewrite length_compiler_app; simpl; omega.",
                        "VernacExtend",
                        "f5cf7d26739bb62f3f7cf24b0c60acd101d7abd6"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "split; auto.",
                        "VernacExtend",
                        "fcd44a714bd12fa54b1c7746996e44dbac16df06"
                    ]
                },
                {
                    "command": [
                        "unfold compiler; rewrite HP, H1; simpl.",
                        "VernacExtend",
                        "ee9003b65b6ec38fd62e3fd4fb8b27605ec5f6bc"
                    ]
                },
                {
                    "command": [
                        "exists (comp linker iP l i), (comp linker (1+length l+iP) r (lc x+lsum l+i)); split.",
                        "VernacExtend",
                        "c645157301db67ea9cb0f9b7a009428d93469f87"
                    ]
                },
                {
                    "command": [
                        "rewrite comp_app; simpl; do 3 f_equal; omega.",
                        "VernacExtend",
                        "f4a398be20414843b876e8fdabcdefcd846828ec"
                    ]
                },
                {
                    "command": [
                        "rewrite comp_length; omega.",
                        "VernacExtend",
                        "09c9dc092f609908e568c76f0f79c72320069f4f"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "linker_code_start",
            "line_nb": 109,
            "steps": [
                {
                    "command": [
                        "apply (linker_app nil (snd P)); auto.",
                        "VernacExtend",
                        "faa0622a08783acf6183b14ef1ec88ac35f57bfc"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "linker_middle",
            "line_nb": 112,
            "steps": [
                {
                    "command": [
                        "apply linker_app.",
                        "VernacExtend",
                        "e9ef4ddbcc6230aa19f6cbde8f63aea4a0de909e"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "linker_code_end",
            "line_nb": 115,
            "steps": [
                {
                    "command": [
                        "unfold code_end; rewrite plus_comm.",
                        "VernacExtend",
                        "a35c24091fc17de019d3739ae1efe506a393e23d"
                    ]
                },
                {
                    "command": [
                        "apply (linker_app _ nil), app_nil_end.",
                        "VernacExtend",
                        "a2f7f5c11c82ced27c6a2b426c12853c2fb69a5a"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "linker_out_code",
            "line_nb": 119,
            "steps": [
                {
                    "command": [
                        "intros H1 H2.",
                        "VernacExtend",
                        "1a279bc44908e178ace5c31cb5040905c4829477"
                    ]
                },
                {
                    "command": [
                        "red in H2.",
                        "VernacExtend",
                        "5bba02de869f074af7f0a372976a9a820f412047"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_nat_dec j (code_end P)) as [ H | H ].",
                        "VernacExtend",
                        "db8b12a792c514b2d2a633ba528264dc07869b42"
                    ]
                },
                {
                    "command": [
                        "rewrite H, linker_code_end; simpl.",
                        "VernacExtend",
                        "d457dc44e77cc341ac46bb6fa2e5fe1bb4479c52"
                    ]
                },
                {
                    "command": [
                        "rewrite compiler_length; omega.",
                        "VernacExtend",
                        "e7f63597c8c4e0207bd58f28d88f46440486b908"
                    ]
                },
                {
                    "command": [
                        "rewrite linker_err_code.",
                        "VernacExtend",
                        "0b2c6459b60e7833c04e78ad98640579c64d4dcd"
                    ]
                },
                {
                    "command": [
                        "simpl; rewrite compiler_length; omega.",
                        "VernacExtend",
                        "1d2452ed5f495a54ecb51266a499030920f54fcb"
                    ]
                },
                {
                    "command": [
                        "simpl in H2, H; omega.",
                        "VernacExtend",
                        "674858438251d127315baa8a92a2f4559267fbb1"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "linker_out_err",
            "line_nb": 129,
            "steps": [
                {
                    "command": [
                        "intros H1 H2.",
                        "VernacExtend",
                        "1a279bc44908e178ace5c31cb5040905c4829477"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_nat_dec j (code_end P)) as [ H | H ].",
                        "VernacExtend",
                        "db8b12a792c514b2d2a633ba528264dc07869b42"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite H1, H; unfold code_end.",
                        "VernacExtend",
                        "e00cce2c1df2b61c2e94bef4f944d2140489eb9e"
                    ]
                },
                {
                    "command": [
                        "rewrite plus_comm, linker_app with (mm := nil); auto.",
                        "VernacExtend",
                        "64723e2a9856acf3568099b113ccd59f1ff51202"
                    ]
                },
                {
                    "command": [
                        "rewrite <- app_nil_end; auto.",
                        "VernacExtend",
                        "0e69b58a1955028f4b5bd87ee75b43021168bc7c"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply linker_err_code; red in H2; unfold code_end, code_start in *; omega.",
                        "VernacExtend",
                        "f2ca755fa419e36dc6c31915be7279f7f49dade4"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}