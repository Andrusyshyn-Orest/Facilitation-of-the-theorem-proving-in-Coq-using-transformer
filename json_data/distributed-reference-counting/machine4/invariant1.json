{
    "filename": "machine4/invariant1.v",
    "coq_project": "distributed-reference-counting",
    "vernac_cmds": [
        [
            "Require Export DistributedReferenceCounting.machine4.machine.",
            "VernacRequire",
            "c684cb24654436172fff90a4b2e32999cab4a68e"
        ],
        [
            "Require Export DistributedReferenceCounting.machine4.cardinal.",
            "VernacRequire",
            "edd6cd0e259f7f899db4cbf00b40a4a74684a762"
        ],
        [
            "Require Export DistributedReferenceCounting.machine4.comm.",
            "VernacRequire",
            "8e715d1db96f5d1c3befecc8c5440c54f0061727"
        ],
        [
            "Unset Standard Proposition Elimination Names.",
            "VernacUnsetOption",
            "911574cdf91989455d0d3d11c7a9b0ca10fd1ae6"
        ],
        [
            "Section INVARIANT1.",
            "VernacBeginSection",
            "3249e1d36e13850eac92abc986a04fdd22cd21ee"
        ],
        [
            "Remark add_reduce1 : forall x1 x2 y : Z, x1 = x2 -> (y + x1 - 1)%Z = (y + x2 - 1)%Z.",
            "VernacStartTheoremProof",
            "a3e5386468e5509e8af61b5e82bfb88a1898976f"
        ],
        [
            "intros; omega.",
            "VernacExtend",
            "af1ac7136db4b1640d87fb7f4ca1a6f91608cf4b"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma invariant1_init : sigma_send_table send_init = (sigma_receive_table rec_init + sigma_weight bag_init - 1)%Z.",
            "VernacStartTheoremProof",
            "eac3140c1f05307895e2dec37a568fc4ba85179d"
        ],
        [
            "unfold send_init, rec_init, bag_init in |- *.",
            "VernacExtend",
            "8c8276791ca94907054ec35c1acf36223d8931fd"
        ],
        [
            "unfold sigma_send_table, sigma_receive_table, sigma_weight in |- *.",
            "VernacExtend",
            "76b04ad53e2a42a425dbf33a6fc34eb9507f4b7c"
        ],
        [
            "unfold sigma_table in |- *.",
            "VernacExtend",
            "f8f0c4f3275b88a0373c9c017ff6a4aea9f3eebc"
        ],
        [
            "simpl in |- *.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "rewrite sigma_null.",
            "VernacExtend",
            "17926eef6e884f25b35051db55eac6faf525bf18"
        ],
        [
            "replace (sigma2_table Site LS LS (queue Message) (fun _ _ : Site => cardinal) (fun _ _ : Site => empty Message)) with 0%Z.",
            "VernacExtend",
            "eeea928e61fd7263881cd964079f5765a363f897"
        ],
        [
            "rewrite (sigma_sigma_but Site owner eq_site_dec).",
            "VernacExtend",
            "a97bf6ca0a96ab9cd31c9ea5f908a7488c76e3f5"
        ],
        [
            "case (eq_site_dec owner owner); intro.",
            "VernacExtend",
            "0a9be49300ed7c909087fafb33af023f1a32cf04"
        ],
        [
            "unfold Int in |- *.",
            "VernacExtend",
            "6fb4e9ac49bc7716f6e7613137a4be99378265d5"
        ],
        [
            "rewrite sigma_but_null.",
            "VernacExtend",
            "7a1b483d1f52a16fe4dcca3f4e5b36c2cfd600b3"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "case (eq_site_dec s owner).",
            "VernacExtend",
            "5e0df9ead7235c7614a5029eeaa3576d64174788"
        ],
        [
            "intro; elim H; auto.",
            "VernacExtend",
            "c80a30a6581846219ac984e159fce925b431e932"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "elim n; auto.",
            "VernacExtend",
            "3a8caa8ad55d0caef05cad9a8edac9567ac3fef6"
        ],
        [
            "apply finite_site.",
            "VernacExtend",
            "fdf26cd988bca1255dc3b5cd9db36d473e2f0c07"
        ],
        [
            "unfold sigma2_table in |- *.",
            "VernacExtend",
            "cb53a264bc78ac9469cde303756ebe82c29a19a3"
        ],
        [
            "unfold sigma_table in |- *.",
            "VernacExtend",
            "f8f0c4f3275b88a0373c9c017ff6a4aea9f3eebc"
        ],
        [
            "symmetry in |- *.",
            "VernacExtend",
            "dc33a39a53e296ef5e59fd831d55212be2a42f22"
        ],
        [
            "simpl in |- *.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "rewrite sigma_null.",
            "VernacExtend",
            "17926eef6e884f25b35051db55eac6faf525bf18"
        ],
        [
            "apply sigma_null.",
            "VernacExtend",
            "6ea401876aa14d540a2b62656a25ed42ff8b27bf"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma invariant1_inductive : forall (c : Config) (t : class_trans c), legal c -> sigma_send_table (st c) = (sigma_receive_table (rt c) + sigma_weight (bm c) - 1)%Z -> sigma_send_table (st (transition c t)) = (sigma_receive_table (rt (transition c t)) + sigma_weight (bm (transition c t)) - 1)%Z.",
            "VernacStartTheoremProof",
            "377c145ec24e90cbec173441954e6786030a99d9"
        ],
        [
            "simple induction t.",
            "VernacExtend",
            "ed99ea08a11cb71b621c4562818ea87e52158a3d"
        ],
        [
            "intros; simpl in |- *.",
            "VernacExtend",
            "3da5a0bf1c6e40c602010ee4543b1d990c82e623"
        ],
        [
            "rewrite sigma_weight_post_message.",
            "VernacExtend",
            "f2af676295223d0a7b7eb6b15a764bc87188baa8"
        ],
        [
            "rewrite sigma_inc_send_table.",
            "VernacExtend",
            "9061d5e1c0c4314a3b5b620058c5a5059a7aa05e"
        ],
        [
            "unfold cardinal_count in |- *; unfold fun_sum in |- *; simpl in |- *.",
            "VernacExtend",
            "70434927c800dc511dd48535623957579d9629fb"
        ],
        [
            "rewrite H0; omega.",
            "VernacExtend",
            "45f904a1651e4991970333cfb8f4098fc77b8af4"
        ],
        [
            "intros; simpl in |- *.",
            "VernacExtend",
            "3da5a0bf1c6e40c602010ee4543b1d990c82e623"
        ],
        [
            "rewrite (sigma_weight_collect_message dec).",
            "VernacExtend",
            "e36d7fa21cd70ab7a1a400f6b04721332e03f2cc"
        ],
        [
            "rewrite sigma_dec_send_table.",
            "VernacExtend",
            "5970c35d857ec27ec616f1edca8db61599b76b95"
        ],
        [
            "unfold cardinal_count in |- *; unfold fun_sum in |- *; simpl in |- *.",
            "VernacExtend",
            "70434927c800dc511dd48535623957579d9629fb"
        ],
        [
            "rewrite H0; omega.",
            "VernacExtend",
            "45f904a1651e4991970333cfb8f4098fc77b8af4"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "intros; simpl in |- *.",
            "VernacExtend",
            "3da5a0bf1c6e40c602010ee4543b1d990c82e623"
        ],
        [
            "rewrite sigma_weight_post_message.",
            "VernacExtend",
            "f2af676295223d0a7b7eb6b15a764bc87188baa8"
        ],
        [
            "rewrite sigma_inc_send_table.",
            "VernacExtend",
            "9061d5e1c0c4314a3b5b620058c5a5059a7aa05e"
        ],
        [
            "rewrite sigma_weight_collect_message with (m := inc_dec s3).",
            "VernacExtend",
            "c720d5a26ddd81a46462f07895ea9acb323f4ef9"
        ],
        [
            "unfold cardinal_count in |- *; unfold fun_sum in |- *; simpl in |- *.",
            "VernacExtend",
            "70434927c800dc511dd48535623957579d9629fb"
        ],
        [
            "rewrite H0; omega.",
            "VernacExtend",
            "45f904a1651e4991970333cfb8f4098fc77b8af4"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "intros; simpl in |- *.",
            "VernacExtend",
            "3da5a0bf1c6e40c602010ee4543b1d990c82e623"
        ],
        [
            "rewrite sigma_weight_post_message.",
            "VernacExtend",
            "f2af676295223d0a7b7eb6b15a764bc87188baa8"
        ],
        [
            "rewrite sigma_weight_collect_message with (m := copy).",
            "VernacExtend",
            "2c1db9606416301950b6e4274d24de5a97e697a0"
        ],
        [
            "unfold cardinal_count in |- *; unfold fun_sum in |- *; simpl in |- *.",
            "VernacExtend",
            "70434927c800dc511dd48535623957579d9629fb"
        ],
        [
            "rewrite H0; omega.",
            "VernacExtend",
            "45f904a1651e4991970333cfb8f4098fc77b8af4"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "intros; simpl in |- *.",
            "VernacExtend",
            "3da5a0bf1c6e40c602010ee4543b1d990c82e623"
        ],
        [
            "rewrite sigma_weight_collect_message with (m := copy).",
            "VernacExtend",
            "2c1db9606416301950b6e4274d24de5a97e697a0"
        ],
        [
            "rewrite sigma_set_receive_table.",
            "VernacExtend",
            "b4c8cf734687ba08fa8177a3d1e9b00607f7d4c5"
        ],
        [
            "unfold cardinal_count in |- *; unfold fun_sum in |- *; simpl in |- *.",
            "VernacExtend",
            "70434927c800dc511dd48535623957579d9629fb"
        ],
        [
            "rewrite H0; omega.",
            "VernacExtend",
            "45f904a1651e4991970333cfb8f4098fc77b8af4"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "intros; simpl in |- *.",
            "VernacExtend",
            "3da5a0bf1c6e40c602010ee4543b1d990c82e623"
        ],
        [
            "rewrite sigma_weight_post_message.",
            "VernacExtend",
            "f2af676295223d0a7b7eb6b15a764bc87188baa8"
        ],
        [
            "rewrite sigma_weight_collect_message with (m := copy).",
            "VernacExtend",
            "2c1db9606416301950b6e4274d24de5a97e697a0"
        ],
        [
            "rewrite sigma_set_receive_table.",
            "VernacExtend",
            "b4c8cf734687ba08fa8177a3d1e9b00607f7d4c5"
        ],
        [
            "unfold cardinal_count in |- *; unfold fun_sum in |- *; simpl in |- *.",
            "VernacExtend",
            "70434927c800dc511dd48535623957579d9629fb"
        ],
        [
            "rewrite H0; omega.",
            "VernacExtend",
            "45f904a1651e4991970333cfb8f4098fc77b8af4"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "intros; simpl in |- *.",
            "VernacExtend",
            "3da5a0bf1c6e40c602010ee4543b1d990c82e623"
        ],
        [
            "rewrite sigma_weight_post_message.",
            "VernacExtend",
            "f2af676295223d0a7b7eb6b15a764bc87188baa8"
        ],
        [
            "rewrite sigma_reset_receive_table.",
            "VernacExtend",
            "a7a307325814d8c2ee08c0f46e95b84467a38825"
        ],
        [
            "unfold cardinal_count in |- *; unfold fun_sum in |- *; simpl in |- *.",
            "VernacExtend",
            "70434927c800dc511dd48535623957579d9629fb"
        ],
        [
            "rewrite H0; omega.",
            "VernacExtend",
            "45f904a1651e4991970333cfb8f4098fc77b8af4"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "intros; simpl in |- *.",
            "VernacExtend",
            "3da5a0bf1c6e40c602010ee4543b1d990c82e623"
        ],
        [
            "rewrite sigma_weight_post_message.",
            "VernacExtend",
            "f2af676295223d0a7b7eb6b15a764bc87188baa8"
        ],
        [
            "rewrite sigma_weight_change_queue with (s3 := s2).",
            "VernacExtend",
            "ab933b7d47307f83040309046ac7cf3d8784316b"
        ],
        [
            "unfold cardinal_count in |- *; unfold fun_sum in |- *; simpl in |- *.",
            "VernacExtend",
            "70434927c800dc511dd48535623957579d9629fb"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "simpl in |- *; intros.",
            "VernacExtend",
            "429a59199da524088af55673600740ccc58db31e"
        ],
        [
            "rewrite H0.",
            "VernacExtend",
            "1a54b13ac1654793174947eafd5c41a3f024eb49"
        ],
        [
            "apply add_reduce1.",
            "VernacExtend",
            "5ec73caf356b271b8003cb943c24f166342d2e10"
        ],
        [
            "unfold sigma_weight in |- *.",
            "VernacExtend",
            "6b8d19da9c7f3bd34b5382186490cd0a24eafeb6"
        ],
        [
            "unfold sigma2_table in |- *.",
            "VernacExtend",
            "cb53a264bc78ac9469cde303756ebe82c29a19a3"
        ],
        [
            "apply sigma_table_simpl.",
            "VernacExtend",
            "dbd0f0c1b3063c1f1c40a53e589655dc8713cd58"
        ],
        [
            "apply funct_eq.",
            "VernacExtend",
            "f3f5dd70bc1c54c3542241b6ef6e977a73cf719e"
        ],
        [
            "intro.",
            "VernacExtend",
            "3999be354c758ba0d1866e0fcc78a7288779a224"
        ],
        [
            "unfold sigma_table in |- *.",
            "VernacExtend",
            "f8f0c4f3275b88a0373c9c017ff6a4aea9f3eebc"
        ],
        [
            "apply sigma_simpl.",
            "VernacExtend",
            "bb8bf8db01f9a419cf900f6276a9a4284cb2ad03"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "case (eq_queue_dec e1 s1 x s2); intro.",
            "VernacExtend",
            "34f1d2512925aa943841de21eb155fd6f23e07f3"
        ],
        [
            "decompose [and] a.",
            "VernacExtend",
            "70befa15a8813c279ab9c11f3f1c3e867150edbb"
        ],
        [
            "rewrite H2; rewrite H3.",
            "VernacExtend",
            "dc2389a94e8993cae1a9ae43675116199b27d8aa"
        ],
        [
            "rewrite that_queue.",
            "VernacExtend",
            "43b801874f28228f9e60cb849c99a4ff97b4f4a4"
        ],
        [
            "rewrite e.",
            "VernacExtend",
            "1896cbdbda80ea761a6be423aaedd9d6b23173b0"
        ],
        [
            "cut (cardinal (append Message q1 q2) = cardinal (append Message q3 q4)).",
            "VernacExtend",
            "77de2775861f0fed6dd47d0dee4328826122541e"
        ],
        [
            "unfold cardinal in |- *.",
            "VernacExtend",
            "bc68d98c5d76cd12bc39bbbc7814d3b1a3923282"
        ],
        [
            "rewrite reduce_append.",
            "VernacExtend",
            "e9acddc73fc921b30c8bccfee4b00057339cda68"
        ],
        [
            "rewrite reduce_append.",
            "VernacExtend",
            "e9acddc73fc921b30c8bccfee4b00057339cda68"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "rewrite e0; auto.",
            "VernacExtend",
            "7c47b890fd226ddef9c350bcb95a97d7ef613c8a"
        ],
        [
            "rewrite other_queue.",
            "VernacExtend",
            "d81ba8f872daff3994807ccecbdfdc3b1be6aebe"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma invariant1 : forall c : Config, legal c -> sigma_send_table (st c) = (sigma_receive_table (rt c) + sigma_weight (bm c) - 1)%Z.",
            "VernacStartTheoremProof",
            "79e8be96caa26c20f0f5d1f92c74356bce7372c1"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "elim H.",
            "VernacExtend",
            "853aa440c3a3810be05f0f87d0e688c05b92253d"
        ],
        [
            "apply invariant1_init.",
            "VernacExtend",
            "a529d76f64b897f223c0d02f707cb37ea7cd0836"
        ],
        [
            "exact invariant1_inductive.",
            "VernacExtend",
            "bab61f59846b7af0c79baea9661ffb84495145e6"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End INVARIANT1.",
            "VernacEndSegment",
            "62545e3eb9703af1d2635e1d2cd4ee9738cd93de"
        ]
    ],
    "proofs": [
        {
            "name": "add_reduce1",
            "line_nb": 5,
            "steps": [
                {
                    "command": [
                        "intros; omega.",
                        "VernacExtend",
                        "af1ac7136db4b1640d87fb7f4ca1a6f91608cf4b"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "invariant1_init",
            "line_nb": 8,
            "steps": [
                {
                    "command": [
                        "unfold send_init, rec_init, bag_init in |- *.",
                        "VernacExtend",
                        "8c8276791ca94907054ec35c1acf36223d8931fd"
                    ]
                },
                {
                    "command": [
                        "unfold sigma_send_table, sigma_receive_table, sigma_weight in |- *.",
                        "VernacExtend",
                        "76b04ad53e2a42a425dbf33a6fc34eb9507f4b7c"
                    ]
                },
                {
                    "command": [
                        "unfold sigma_table in |- *.",
                        "VernacExtend",
                        "f8f0c4f3275b88a0373c9c017ff6a4aea9f3eebc"
                    ]
                },
                {
                    "command": [
                        "simpl in |- *.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_null.",
                        "VernacExtend",
                        "17926eef6e884f25b35051db55eac6faf525bf18"
                    ]
                },
                {
                    "command": [
                        "replace (sigma2_table Site LS LS (queue Message) (fun _ _ : Site => cardinal) (fun _ _ : Site => empty Message)) with 0%Z.",
                        "VernacExtend",
                        "eeea928e61fd7263881cd964079f5765a363f897"
                    ]
                },
                {
                    "command": [
                        "rewrite (sigma_sigma_but Site owner eq_site_dec).",
                        "VernacExtend",
                        "a97bf6ca0a96ab9cd31c9ea5f908a7488c76e3f5"
                    ]
                },
                {
                    "command": [
                        "case (eq_site_dec owner owner); intro.",
                        "VernacExtend",
                        "0a9be49300ed7c909087fafb33af023f1a32cf04"
                    ]
                },
                {
                    "command": [
                        "unfold Int in |- *.",
                        "VernacExtend",
                        "6fb4e9ac49bc7716f6e7613137a4be99378265d5"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_but_null.",
                        "VernacExtend",
                        "7a1b483d1f52a16fe4dcca3f4e5b36c2cfd600b3"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "case (eq_site_dec s owner).",
                        "VernacExtend",
                        "5e0df9ead7235c7614a5029eeaa3576d64174788"
                    ]
                },
                {
                    "command": [
                        "intro; elim H; auto.",
                        "VernacExtend",
                        "c80a30a6581846219ac984e159fce925b431e932"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "elim n; auto.",
                        "VernacExtend",
                        "3a8caa8ad55d0caef05cad9a8edac9567ac3fef6"
                    ]
                },
                {
                    "command": [
                        "apply finite_site.",
                        "VernacExtend",
                        "fdf26cd988bca1255dc3b5cd9db36d473e2f0c07"
                    ]
                },
                {
                    "command": [
                        "unfold sigma2_table in |- *.",
                        "VernacExtend",
                        "cb53a264bc78ac9469cde303756ebe82c29a19a3"
                    ]
                },
                {
                    "command": [
                        "unfold sigma_table in |- *.",
                        "VernacExtend",
                        "f8f0c4f3275b88a0373c9c017ff6a4aea9f3eebc"
                    ]
                },
                {
                    "command": [
                        "symmetry in |- *.",
                        "VernacExtend",
                        "dc33a39a53e296ef5e59fd831d55212be2a42f22"
                    ]
                },
                {
                    "command": [
                        "simpl in |- *.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_null.",
                        "VernacExtend",
                        "17926eef6e884f25b35051db55eac6faf525bf18"
                    ]
                },
                {
                    "command": [
                        "apply sigma_null.",
                        "VernacExtend",
                        "6ea401876aa14d540a2b62656a25ed42ff8b27bf"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "invariant1_inductive",
            "line_nb": 33,
            "steps": [
                {
                    "command": [
                        "simple induction t.",
                        "VernacExtend",
                        "ed99ea08a11cb71b621c4562818ea87e52158a3d"
                    ]
                },
                {
                    "command": [
                        "intros; simpl in |- *.",
                        "VernacExtend",
                        "3da5a0bf1c6e40c602010ee4543b1d990c82e623"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_weight_post_message.",
                        "VernacExtend",
                        "f2af676295223d0a7b7eb6b15a764bc87188baa8"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_inc_send_table.",
                        "VernacExtend",
                        "9061d5e1c0c4314a3b5b620058c5a5059a7aa05e"
                    ]
                },
                {
                    "command": [
                        "unfold cardinal_count in |- *; unfold fun_sum in |- *; simpl in |- *.",
                        "VernacExtend",
                        "70434927c800dc511dd48535623957579d9629fb"
                    ]
                },
                {
                    "command": [
                        "rewrite H0; omega.",
                        "VernacExtend",
                        "45f904a1651e4991970333cfb8f4098fc77b8af4"
                    ]
                },
                {
                    "command": [
                        "intros; simpl in |- *.",
                        "VernacExtend",
                        "3da5a0bf1c6e40c602010ee4543b1d990c82e623"
                    ]
                },
                {
                    "command": [
                        "rewrite (sigma_weight_collect_message dec).",
                        "VernacExtend",
                        "e36d7fa21cd70ab7a1a400f6b04721332e03f2cc"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_dec_send_table.",
                        "VernacExtend",
                        "5970c35d857ec27ec616f1edca8db61599b76b95"
                    ]
                },
                {
                    "command": [
                        "unfold cardinal_count in |- *; unfold fun_sum in |- *; simpl in |- *.",
                        "VernacExtend",
                        "70434927c800dc511dd48535623957579d9629fb"
                    ]
                },
                {
                    "command": [
                        "rewrite H0; omega.",
                        "VernacExtend",
                        "45f904a1651e4991970333cfb8f4098fc77b8af4"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "intros; simpl in |- *.",
                        "VernacExtend",
                        "3da5a0bf1c6e40c602010ee4543b1d990c82e623"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_weight_post_message.",
                        "VernacExtend",
                        "f2af676295223d0a7b7eb6b15a764bc87188baa8"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_inc_send_table.",
                        "VernacExtend",
                        "9061d5e1c0c4314a3b5b620058c5a5059a7aa05e"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_weight_collect_message with (m := inc_dec s3).",
                        "VernacExtend",
                        "c720d5a26ddd81a46462f07895ea9acb323f4ef9"
                    ]
                },
                {
                    "command": [
                        "unfold cardinal_count in |- *; unfold fun_sum in |- *; simpl in |- *.",
                        "VernacExtend",
                        "70434927c800dc511dd48535623957579d9629fb"
                    ]
                },
                {
                    "command": [
                        "rewrite H0; omega.",
                        "VernacExtend",
                        "45f904a1651e4991970333cfb8f4098fc77b8af4"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "intros; simpl in |- *.",
                        "VernacExtend",
                        "3da5a0bf1c6e40c602010ee4543b1d990c82e623"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_weight_post_message.",
                        "VernacExtend",
                        "f2af676295223d0a7b7eb6b15a764bc87188baa8"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_weight_collect_message with (m := copy).",
                        "VernacExtend",
                        "2c1db9606416301950b6e4274d24de5a97e697a0"
                    ]
                },
                {
                    "command": [
                        "unfold cardinal_count in |- *; unfold fun_sum in |- *; simpl in |- *.",
                        "VernacExtend",
                        "70434927c800dc511dd48535623957579d9629fb"
                    ]
                },
                {
                    "command": [
                        "rewrite H0; omega.",
                        "VernacExtend",
                        "45f904a1651e4991970333cfb8f4098fc77b8af4"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "intros; simpl in |- *.",
                        "VernacExtend",
                        "3da5a0bf1c6e40c602010ee4543b1d990c82e623"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_weight_collect_message with (m := copy).",
                        "VernacExtend",
                        "2c1db9606416301950b6e4274d24de5a97e697a0"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_set_receive_table.",
                        "VernacExtend",
                        "b4c8cf734687ba08fa8177a3d1e9b00607f7d4c5"
                    ]
                },
                {
                    "command": [
                        "unfold cardinal_count in |- *; unfold fun_sum in |- *; simpl in |- *.",
                        "VernacExtend",
                        "70434927c800dc511dd48535623957579d9629fb"
                    ]
                },
                {
                    "command": [
                        "rewrite H0; omega.",
                        "VernacExtend",
                        "45f904a1651e4991970333cfb8f4098fc77b8af4"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "intros; simpl in |- *.",
                        "VernacExtend",
                        "3da5a0bf1c6e40c602010ee4543b1d990c82e623"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_weight_post_message.",
                        "VernacExtend",
                        "f2af676295223d0a7b7eb6b15a764bc87188baa8"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_weight_collect_message with (m := copy).",
                        "VernacExtend",
                        "2c1db9606416301950b6e4274d24de5a97e697a0"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_set_receive_table.",
                        "VernacExtend",
                        "b4c8cf734687ba08fa8177a3d1e9b00607f7d4c5"
                    ]
                },
                {
                    "command": [
                        "unfold cardinal_count in |- *; unfold fun_sum in |- *; simpl in |- *.",
                        "VernacExtend",
                        "70434927c800dc511dd48535623957579d9629fb"
                    ]
                },
                {
                    "command": [
                        "rewrite H0; omega.",
                        "VernacExtend",
                        "45f904a1651e4991970333cfb8f4098fc77b8af4"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "intros; simpl in |- *.",
                        "VernacExtend",
                        "3da5a0bf1c6e40c602010ee4543b1d990c82e623"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_weight_post_message.",
                        "VernacExtend",
                        "f2af676295223d0a7b7eb6b15a764bc87188baa8"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_reset_receive_table.",
                        "VernacExtend",
                        "a7a307325814d8c2ee08c0f46e95b84467a38825"
                    ]
                },
                {
                    "command": [
                        "unfold cardinal_count in |- *; unfold fun_sum in |- *; simpl in |- *.",
                        "VernacExtend",
                        "70434927c800dc511dd48535623957579d9629fb"
                    ]
                },
                {
                    "command": [
                        "rewrite H0; omega.",
                        "VernacExtend",
                        "45f904a1651e4991970333cfb8f4098fc77b8af4"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "intros; simpl in |- *.",
                        "VernacExtend",
                        "3da5a0bf1c6e40c602010ee4543b1d990c82e623"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_weight_post_message.",
                        "VernacExtend",
                        "f2af676295223d0a7b7eb6b15a764bc87188baa8"
                    ]
                },
                {
                    "command": [
                        "rewrite sigma_weight_change_queue with (s3 := s2).",
                        "VernacExtend",
                        "ab933b7d47307f83040309046ac7cf3d8784316b"
                    ]
                },
                {
                    "command": [
                        "unfold cardinal_count in |- *; unfold fun_sum in |- *; simpl in |- *.",
                        "VernacExtend",
                        "70434927c800dc511dd48535623957579d9629fb"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "simpl in |- *; intros.",
                        "VernacExtend",
                        "429a59199da524088af55673600740ccc58db31e"
                    ]
                },
                {
                    "command": [
                        "rewrite H0.",
                        "VernacExtend",
                        "1a54b13ac1654793174947eafd5c41a3f024eb49"
                    ]
                },
                {
                    "command": [
                        "apply add_reduce1.",
                        "VernacExtend",
                        "5ec73caf356b271b8003cb943c24f166342d2e10"
                    ]
                },
                {
                    "command": [
                        "unfold sigma_weight in |- *.",
                        "VernacExtend",
                        "6b8d19da9c7f3bd34b5382186490cd0a24eafeb6"
                    ]
                },
                {
                    "command": [
                        "unfold sigma2_table in |- *.",
                        "VernacExtend",
                        "cb53a264bc78ac9469cde303756ebe82c29a19a3"
                    ]
                },
                {
                    "command": [
                        "apply sigma_table_simpl.",
                        "VernacExtend",
                        "dbd0f0c1b3063c1f1c40a53e589655dc8713cd58"
                    ]
                },
                {
                    "command": [
                        "apply funct_eq.",
                        "VernacExtend",
                        "f3f5dd70bc1c54c3542241b6ef6e977a73cf719e"
                    ]
                },
                {
                    "command": [
                        "intro.",
                        "VernacExtend",
                        "3999be354c758ba0d1866e0fcc78a7288779a224"
                    ]
                },
                {
                    "command": [
                        "unfold sigma_table in |- *.",
                        "VernacExtend",
                        "f8f0c4f3275b88a0373c9c017ff6a4aea9f3eebc"
                    ]
                },
                {
                    "command": [
                        "apply sigma_simpl.",
                        "VernacExtend",
                        "bb8bf8db01f9a419cf900f6276a9a4284cb2ad03"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "case (eq_queue_dec e1 s1 x s2); intro.",
                        "VernacExtend",
                        "34f1d2512925aa943841de21eb155fd6f23e07f3"
                    ]
                },
                {
                    "command": [
                        "decompose [and] a.",
                        "VernacExtend",
                        "70befa15a8813c279ab9c11f3f1c3e867150edbb"
                    ]
                },
                {
                    "command": [
                        "rewrite H2; rewrite H3.",
                        "VernacExtend",
                        "dc2389a94e8993cae1a9ae43675116199b27d8aa"
                    ]
                },
                {
                    "command": [
                        "rewrite that_queue.",
                        "VernacExtend",
                        "43b801874f28228f9e60cb849c99a4ff97b4f4a4"
                    ]
                },
                {
                    "command": [
                        "rewrite e.",
                        "VernacExtend",
                        "1896cbdbda80ea761a6be423aaedd9d6b23173b0"
                    ]
                },
                {
                    "command": [
                        "cut (cardinal (append Message q1 q2) = cardinal (append Message q3 q4)).",
                        "VernacExtend",
                        "77de2775861f0fed6dd47d0dee4328826122541e"
                    ]
                },
                {
                    "command": [
                        "unfold cardinal in |- *.",
                        "VernacExtend",
                        "bc68d98c5d76cd12bc39bbbc7814d3b1a3923282"
                    ]
                },
                {
                    "command": [
                        "rewrite reduce_append.",
                        "VernacExtend",
                        "e9acddc73fc921b30c8bccfee4b00057339cda68"
                    ]
                },
                {
                    "command": [
                        "rewrite reduce_append.",
                        "VernacExtend",
                        "e9acddc73fc921b30c8bccfee4b00057339cda68"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "rewrite e0; auto.",
                        "VernacExtend",
                        "7c47b890fd226ddef9c350bcb95a97d7ef613c8a"
                    ]
                },
                {
                    "command": [
                        "rewrite other_queue.",
                        "VernacExtend",
                        "d81ba8f872daff3994807ccecbdfdc3b1be6aebe"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "invariant1",
            "line_nb": 112,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "elim H.",
                        "VernacExtend",
                        "853aa440c3a3810be05f0f87d0e688c05b92253d"
                    ]
                },
                {
                    "command": [
                        "apply invariant1_init.",
                        "VernacExtend",
                        "a529d76f64b897f223c0d02f707cb37ea7cd0836"
                    ]
                },
                {
                    "command": [
                        "exact invariant1_inductive.",
                        "VernacExtend",
                        "bab61f59846b7af0c79baea9661ffb84495145e6"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}