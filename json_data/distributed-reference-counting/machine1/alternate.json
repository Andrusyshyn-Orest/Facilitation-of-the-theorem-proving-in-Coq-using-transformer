{
    "filename": "machine1/alternate.v",
    "coq_project": "distributed-reference-counting",
    "vernac_cmds": [
        [
            "Require Export DistributedReferenceCounting.machine1.machine.",
            "VernacRequire",
            "19a6294e04ecc669365cb9a04caefd915f0ef005"
        ],
        [
            "Require Export DistributedReferenceCounting.machine1.cardinal.",
            "VernacRequire",
            "7b113de2b73836c916bd7dc1b7d66dede9c51d3a"
        ],
        [
            "Require Export DistributedReferenceCounting.machine1.comm.",
            "VernacRequire",
            "4bdf604e24acad3a3fd5131e5615258287ad5249"
        ],
        [
            "Unset Standard Proposition Elimination Names.",
            "VernacUnsetOption",
            "911574cdf91989455d0d3d11c7a9b0ca10fd1ae6"
        ],
        [
            "Section ALTERNATE.",
            "VernacBeginSection",
            "c606396029b5791dc03429ec9bc524452e6e6561"
        ],
        [
            "Inductive D_queue : queue Message -> Prop := | D_empty : D_queue (empty Message) | D_dec : forall qm : queue Message, D_queue (input Message dec qm).",
            "VernacInductive",
            "6a0b8ed3ae440b4ba5441fa960a21b466b7aae66"
        ],
        [
            "Inductive alternate : queue Message -> Prop := | alt_null : alternate (empty Message) | alt_single_inc : forall s0 : Site, alternate (input Message (inc_dec s0) (empty Message)) | alt_any_alt : forall (qm : queue Message) (m : Message), (forall s : Site, m <> inc_dec s) -> alternate qm -> alternate (input Message m qm) | alt_inc_dec : forall (qm : queue Message) (s0 : Site), alternate qm -> alternate (input Message (inc_dec s0) (input Message dec qm)).",
            "VernacInductive",
            "85122a45c0c9bc89b0b4902f21a449b2c7f4c2ca"
        ],
        [
            "Lemma not_D_queue : forall (q0 : queue Message) (m : Message), m <> dec -> ~ D_queue (input Message m q0).",
            "VernacStartTheoremProof",
            "063f06951e33e7fd39687e6437cef34690d7f15b"
        ],
        [
            "intros; red in |- *; intro.",
            "VernacExtend",
            "8efb0e8eb13e9c212c108e6c3da452eb08ee81d1"
        ],
        [
            "inversion H0.",
            "VernacExtend",
            "38a13882efcff2ae2c6c07fc8055d56c6c1776f2"
        ],
        [
            "elim H; auto.",
            "VernacExtend",
            "93275a139e0a54467a849c9ab468d4fd7beb5813"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma D_first_out : forall q0 : queue Message, D_queue q0 -> D_queue (first_out Message q0).",
            "VernacStartTheoremProof",
            "3cfcedc6f55727daf497202b5009582ff638ce1b"
        ],
        [
            "intros; elim H; simpl in |- *.",
            "VernacExtend",
            "2ef132a2d18e61b4d3aa135ab5851aa0061f2802"
        ],
        [
            "apply D_empty.",
            "VernacExtend",
            "b2f80f16e7e50c5837da9888403ee3f17ff33118"
        ],
        [
            "simple destruct qm.",
            "VernacExtend",
            "0df8a9e450b2843c14da9717c26f15f66a3b6866"
        ],
        [
            "apply D_empty.",
            "VernacExtend",
            "b2f80f16e7e50c5837da9888403ee3f17ff33118"
        ],
        [
            "intros; apply D_dec.",
            "VernacExtend",
            "f8d9dbc12d471f791b58e7a25dbdf4c57bc0e8cc"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma alt_first_out : forall q0 : queue Message, alternate q0 -> alternate (first_out Message q0).",
            "VernacStartTheoremProof",
            "28f337e2773642c01fbb035e153875746190edbf"
        ],
        [
            "intros; elim H; simpl in |- *.",
            "VernacExtend",
            "2ef132a2d18e61b4d3aa135ab5851aa0061f2802"
        ],
        [
            "apply alt_null.",
            "VernacExtend",
            "4339aeb9057509357fe733f4e53cf87570cb95a3"
        ],
        [
            "intro; apply alt_null.",
            "VernacExtend",
            "d77c8e010cfb7f16f01eae5a7be71e0dbd0e8ba4"
        ],
        [
            "simple induction qm; intros.",
            "VernacExtend",
            "6b6cebb49c52ec1f967c59635f187fb4feb89eca"
        ],
        [
            "apply alt_null.",
            "VernacExtend",
            "4339aeb9057509357fe733f4e53cf87570cb95a3"
        ],
        [
            "apply alt_any_alt; trivial.",
            "VernacExtend",
            "a156386a8659968bca37e9ebf383a5cb223455b4"
        ],
        [
            "simple induction qm; intros.",
            "VernacExtend",
            "6b6cebb49c52ec1f967c59635f187fb4feb89eca"
        ],
        [
            "apply alt_single_inc.",
            "VernacExtend",
            "475d7ca61283d9832167ff09c2d7089549742f0b"
        ],
        [
            "apply alt_inc_dec; trivial.",
            "VernacExtend",
            "b21029372df9068922d1c2cfa0e34264e9493147"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End ALTERNATE.",
            "VernacEndSegment",
            "1fb5b4b100156564cd73f4060a96e95d1b146e5b"
        ],
        [
            "Section MESS_ALT.",
            "VernacBeginSection",
            "e04c36e426a0cf9636091bec8bdf4682dc9441da"
        ],
        [
            "Variable b0 : Bag_of_Data Message.",
            "VernacAssumption",
            "37b66506f156c916f9d35b0911c4031e9d2bf322"
        ],
        [
            "Variable s0 : Site.",
            "VernacAssumption",
            "0a02227b4f29783d409fcef0d1a1c1d730e7c8f0"
        ],
        [
            "Lemma D_collect : forall s1 s2 : Site, D_queue (b0 s0 owner) -> D_queue (Collect_message Message b0 s1 s2 s0 owner).",
            "VernacStartTheoremProof",
            "9d4a4ba496aa7a87944ec2bb2695cdb7053ccd13"
        ],
        [
            "intros; case (eq_queue_dec s1 s0 s2 owner); intro.",
            "VernacExtend",
            "5d682d1b84236751270fbbadb5dbf4c1ef8e617c"
        ],
        [
            "decompose [and] a; rewrite H0; rewrite H1.",
            "VernacExtend",
            "9c539e512b3b49bdc7548bf7ae0775dee872d600"
        ],
        [
            "rewrite collect_here; apply D_first_out; trivial.",
            "VernacExtend",
            "acb138fd175f7b2af2274d056256ade667576912"
        ],
        [
            "rewrite collect_elsewhere; auto.",
            "VernacExtend",
            "eb9ff4676b9a20898f6ba50eba0a8125ab95d0b1"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma D_post_elsewhere : forall (s1 s2 : Site) (m : Message), s1 <> s0 \\/ s2 <> owner -> D_queue (b0 s0 owner) -> D_queue (Post_message Message m b0 s1 s2 s0 owner).",
            "VernacStartTheoremProof",
            "58bdc36b8aad3a4d87bfb4c7fde90400edd0cb4d"
        ],
        [
            "intros; rewrite post_elsewhere; trivial.",
            "VernacExtend",
            "66fbb8818ae5144d5a4f3f92461fae3787ce8ea7"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma D_post_dec : D_queue (Post_message Message dec b0 s0 owner s0 owner).",
            "VernacStartTheoremProof",
            "8fda0cada9439ebb945b2cf334dc9ca9ab54c85a"
        ],
        [
            "intros; rewrite post_here; apply D_dec; trivial.",
            "VernacExtend",
            "0e082e530bda750b029fd925790615771fa4fc0d"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma alt_collect : forall s1 s2 : Site, alternate (b0 s0 owner) -> alternate (Collect_message Message b0 s1 s2 s0 owner).",
            "VernacStartTheoremProof",
            "ca8d5de7bfb9df91ca319fc167bb621d3e14cad4"
        ],
        [
            "intros; case (eq_queue_dec s1 s0 s2 owner); intro.",
            "VernacExtend",
            "5d682d1b84236751270fbbadb5dbf4c1ef8e617c"
        ],
        [
            "decompose [and] a; rewrite H0; rewrite H1.",
            "VernacExtend",
            "9c539e512b3b49bdc7548bf7ae0775dee872d600"
        ],
        [
            "rewrite collect_here; apply alt_first_out; trivial.",
            "VernacExtend",
            "5e2941940321e59a892aa8f66c39253e2823b7fb"
        ],
        [
            "rewrite collect_elsewhere; auto.",
            "VernacExtend",
            "eb9ff4676b9a20898f6ba50eba0a8125ab95d0b1"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma alt_post_elsewhere : forall (s1 s2 : Site) (m : Message), s1 <> s0 \\/ s2 <> owner -> alternate (b0 s0 owner) -> alternate (Post_message Message m b0 s1 s2 s0 owner).",
            "VernacStartTheoremProof",
            "7f4403820d029f9a83c8ea798463ca44a95ecf76"
        ],
        [
            "intros; rewrite post_elsewhere; trivial.",
            "VernacExtend",
            "66fbb8818ae5144d5a4f3f92461fae3787ce8ea7"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma alt_post_any : forall m : Message, (forall s : Site, m <> inc_dec s) -> alternate (b0 s0 owner) -> alternate (Post_message Message m b0 s0 owner s0 owner).",
            "VernacStartTheoremProof",
            "c517fb77049da7546780301e61396d81a4e3104e"
        ],
        [
            "intros; rewrite post_here; apply alt_any_alt; auto.",
            "VernacExtend",
            "ba0e39a8b511a284009998099bb746900dc9371f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma alt_post_inc : forall s1 : Site, alternate (b0 s0 owner) -> b0 s0 owner = empty Message \\/ last Message (b0 s0 owner) = value Message dec -> alternate (Post_message Message (inc_dec s1) b0 s0 owner s0 owner).",
            "VernacStartTheoremProof",
            "017a0c3d05f89d36ac25540f329cefd720800c0b"
        ],
        [
            "intros s1 H; rewrite post_here; inversion H; simpl in |- *; intros.",
            "VernacExtend",
            "bb3eeaa4e1cb39aa3984bc7370591a88ab6ef233"
        ],
        [
            "apply alt_single_inc.",
            "VernacExtend",
            "475d7ca61283d9832167ff09c2d7089549742f0b"
        ],
        [
            "decompose [or] H0; discriminate H2.",
            "VernacExtend",
            "7edfb927c9db732d1940532c11fe105493796c81"
        ],
        [
            "elim H3.",
            "VernacExtend",
            "70fb843285201ec5a9b4d417b6f0002c41dde4c6"
        ],
        [
            "intro.",
            "VernacExtend",
            "3999be354c758ba0d1866e0fcc78a7288779a224"
        ],
        [
            "discriminate.",
            "VernacExtend",
            "66ca81b65e1a53372a2515fdfdd2a6b0677cb9c8"
        ],
        [
            "intro.",
            "VernacExtend",
            "3999be354c758ba0d1866e0fcc78a7288779a224"
        ],
        [
            "replace m with dec.",
            "VernacExtend",
            "bf8105f385537419ba4e36174c7c1e630f3d8501"
        ],
        [
            "apply alt_inc_dec.",
            "VernacExtend",
            "ec6037303d8a4de74440639f8cde193c50b212ea"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "inversion H4.",
            "VernacExtend",
            "184e412874313f14014d688ef3b69568302d00ff"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "decompose [or] H2; discriminate H3.",
            "VernacExtend",
            "138b67490f8eea799927337aadf1461626fbc145"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End MESS_ALT.",
            "VernacEndSegment",
            "f3eb38954e9387a5dd9f40fc540ba821f3bb41eb"
        ]
    ],
    "proofs": [
        {
            "name": "not_D_queue",
            "line_nb": 7,
            "steps": [
                {
                    "command": [
                        "intros; red in |- *; intro.",
                        "VernacExtend",
                        "8efb0e8eb13e9c212c108e6c3da452eb08ee81d1"
                    ]
                },
                {
                    "command": [
                        "inversion H0.",
                        "VernacExtend",
                        "38a13882efcff2ae2c6c07fc8055d56c6c1776f2"
                    ]
                },
                {
                    "command": [
                        "elim H; auto.",
                        "VernacExtend",
                        "93275a139e0a54467a849c9ab468d4fd7beb5813"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "D_first_out",
            "line_nb": 12,
            "steps": [
                {
                    "command": [
                        "intros; elim H; simpl in |- *.",
                        "VernacExtend",
                        "2ef132a2d18e61b4d3aa135ab5851aa0061f2802"
                    ]
                },
                {
                    "command": [
                        "apply D_empty.",
                        "VernacExtend",
                        "b2f80f16e7e50c5837da9888403ee3f17ff33118"
                    ]
                },
                {
                    "command": [
                        "simple destruct qm.",
                        "VernacExtend",
                        "0df8a9e450b2843c14da9717c26f15f66a3b6866"
                    ]
                },
                {
                    "command": [
                        "apply D_empty.",
                        "VernacExtend",
                        "b2f80f16e7e50c5837da9888403ee3f17ff33118"
                    ]
                },
                {
                    "command": [
                        "intros; apply D_dec.",
                        "VernacExtend",
                        "f8d9dbc12d471f791b58e7a25dbdf4c57bc0e8cc"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "alt_first_out",
            "line_nb": 19,
            "steps": [
                {
                    "command": [
                        "intros; elim H; simpl in |- *.",
                        "VernacExtend",
                        "2ef132a2d18e61b4d3aa135ab5851aa0061f2802"
                    ]
                },
                {
                    "command": [
                        "apply alt_null.",
                        "VernacExtend",
                        "4339aeb9057509357fe733f4e53cf87570cb95a3"
                    ]
                },
                {
                    "command": [
                        "intro; apply alt_null.",
                        "VernacExtend",
                        "d77c8e010cfb7f16f01eae5a7be71e0dbd0e8ba4"
                    ]
                },
                {
                    "command": [
                        "simple induction qm; intros.",
                        "VernacExtend",
                        "6b6cebb49c52ec1f967c59635f187fb4feb89eca"
                    ]
                },
                {
                    "command": [
                        "apply alt_null.",
                        "VernacExtend",
                        "4339aeb9057509357fe733f4e53cf87570cb95a3"
                    ]
                },
                {
                    "command": [
                        "apply alt_any_alt; trivial.",
                        "VernacExtend",
                        "a156386a8659968bca37e9ebf383a5cb223455b4"
                    ]
                },
                {
                    "command": [
                        "simple induction qm; intros.",
                        "VernacExtend",
                        "6b6cebb49c52ec1f967c59635f187fb4feb89eca"
                    ]
                },
                {
                    "command": [
                        "apply alt_single_inc.",
                        "VernacExtend",
                        "475d7ca61283d9832167ff09c2d7089549742f0b"
                    ]
                },
                {
                    "command": [
                        "apply alt_inc_dec; trivial.",
                        "VernacExtend",
                        "b21029372df9068922d1c2cfa0e34264e9493147"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "D_collect",
            "line_nb": 34,
            "steps": [
                {
                    "command": [
                        "intros; case (eq_queue_dec s1 s0 s2 owner); intro.",
                        "VernacExtend",
                        "5d682d1b84236751270fbbadb5dbf4c1ef8e617c"
                    ]
                },
                {
                    "command": [
                        "decompose [and] a; rewrite H0; rewrite H1.",
                        "VernacExtend",
                        "9c539e512b3b49bdc7548bf7ae0775dee872d600"
                    ]
                },
                {
                    "command": [
                        "rewrite collect_here; apply D_first_out; trivial.",
                        "VernacExtend",
                        "acb138fd175f7b2af2274d056256ade667576912"
                    ]
                },
                {
                    "command": [
                        "rewrite collect_elsewhere; auto.",
                        "VernacExtend",
                        "eb9ff4676b9a20898f6ba50eba0a8125ab95d0b1"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "D_post_elsewhere",
            "line_nb": 40,
            "steps": [
                {
                    "command": [
                        "intros; rewrite post_elsewhere; trivial.",
                        "VernacExtend",
                        "66fbb8818ae5144d5a4f3f92461fae3787ce8ea7"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "D_post_dec",
            "line_nb": 43,
            "steps": [
                {
                    "command": [
                        "intros; rewrite post_here; apply D_dec; trivial.",
                        "VernacExtend",
                        "0e082e530bda750b029fd925790615771fa4fc0d"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "alt_collect",
            "line_nb": 46,
            "steps": [
                {
                    "command": [
                        "intros; case (eq_queue_dec s1 s0 s2 owner); intro.",
                        "VernacExtend",
                        "5d682d1b84236751270fbbadb5dbf4c1ef8e617c"
                    ]
                },
                {
                    "command": [
                        "decompose [and] a; rewrite H0; rewrite H1.",
                        "VernacExtend",
                        "9c539e512b3b49bdc7548bf7ae0775dee872d600"
                    ]
                },
                {
                    "command": [
                        "rewrite collect_here; apply alt_first_out; trivial.",
                        "VernacExtend",
                        "5e2941940321e59a892aa8f66c39253e2823b7fb"
                    ]
                },
                {
                    "command": [
                        "rewrite collect_elsewhere; auto.",
                        "VernacExtend",
                        "eb9ff4676b9a20898f6ba50eba0a8125ab95d0b1"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "alt_post_elsewhere",
            "line_nb": 52,
            "steps": [
                {
                    "command": [
                        "intros; rewrite post_elsewhere; trivial.",
                        "VernacExtend",
                        "66fbb8818ae5144d5a4f3f92461fae3787ce8ea7"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "alt_post_any",
            "line_nb": 55,
            "steps": [
                {
                    "command": [
                        "intros; rewrite post_here; apply alt_any_alt; auto.",
                        "VernacExtend",
                        "ba0e39a8b511a284009998099bb746900dc9371f"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "alt_post_inc",
            "line_nb": 58,
            "steps": [
                {
                    "command": [
                        "intros s1 H; rewrite post_here; inversion H; simpl in |- *; intros.",
                        "VernacExtend",
                        "bb3eeaa4e1cb39aa3984bc7370591a88ab6ef233"
                    ]
                },
                {
                    "command": [
                        "apply alt_single_inc.",
                        "VernacExtend",
                        "475d7ca61283d9832167ff09c2d7089549742f0b"
                    ]
                },
                {
                    "command": [
                        "decompose [or] H0; discriminate H2.",
                        "VernacExtend",
                        "7edfb927c9db732d1940532c11fe105493796c81"
                    ]
                },
                {
                    "command": [
                        "elim H3.",
                        "VernacExtend",
                        "70fb843285201ec5a9b4d417b6f0002c41dde4c6"
                    ]
                },
                {
                    "command": [
                        "intro.",
                        "VernacExtend",
                        "3999be354c758ba0d1866e0fcc78a7288779a224"
                    ]
                },
                {
                    "command": [
                        "discriminate.",
                        "VernacExtend",
                        "66ca81b65e1a53372a2515fdfdd2a6b0677cb9c8"
                    ]
                },
                {
                    "command": [
                        "intro.",
                        "VernacExtend",
                        "3999be354c758ba0d1866e0fcc78a7288779a224"
                    ]
                },
                {
                    "command": [
                        "replace m with dec.",
                        "VernacExtend",
                        "bf8105f385537419ba4e36174c7c1e630f3d8501"
                    ]
                },
                {
                    "command": [
                        "apply alt_inc_dec.",
                        "VernacExtend",
                        "ec6037303d8a4de74440639f8cde193c50b212ea"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "inversion H4.",
                        "VernacExtend",
                        "184e412874313f14014d688ef3b69568302d00ff"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "decompose [or] H2; discriminate H3.",
                        "VernacExtend",
                        "138b67490f8eea799927337aadf1461626fbc145"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}