{
    "filename": "prime.v",
    "coq_project": "maths",
    "vernac_cmds": [
        [
            "Require Import ZArith.",
            "VernacRequire",
            "12e7bb35b490128f5b015cdb4af7d2255de07134"
        ],
        [
            "Require Import ZArithRing.",
            "VernacRequire",
            "1792ea5bd3f37db98704504fc8fd627a7843b280"
        ],
        [
            "Require Import divide.",
            "VernacRequire",
            "b7937496c183bd9709ce8988995120a5d6ad0855"
        ],
        [
            "Require Import gcd.",
            "VernacRequire",
            "774722661593593d4865c93674b0289904773e71"
        ],
        [
            "Definition rel_prime (a b : Z) : Prop := gcd a b 1.",
            "VernacDefinition",
            "10aba7a063c50bab4a5a9e62c1192a458e0816a9"
        ],
        [
            "Lemma rel_prime_bezout : forall a b : Z, rel_prime a b -> Bezout a b 1.",
            "VernacStartTheoremProof",
            "f84481bf8a6b5fd7ed7ace0caa1fd545aa7f50f3"
        ],
        [
            "intros a b; exact (gcd_bezout a b 1).",
            "VernacExtend",
            "77e3ab44b249680e0fd5f817da26d101c1d86aaa"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma bezout_rel_prime : forall a b : Z, Bezout a b 1 -> rel_prime a b.",
            "VernacStartTheoremProof",
            "609ed5c4467336d5fdacb323244038a14663ca95"
        ],
        [
            "simple induction 1; constructor; auto.",
            "VernacExtend",
            "74dd0ff5ad23bef413dac66f8595e824a21829c4"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "rewrite <- H0; auto.",
            "VernacExtend",
            "075413acf92795f866dc4a2ff39c7d41ef0fda3f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem Gauss : forall a b c : Z, (a | b * c)%Z -> rel_prime a b -> (a | c)%Z.",
            "VernacStartTheoremProof",
            "54538d3020e45399a00526d2c1e99712b1ae1830"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "elim (rel_prime_bezout a b H0); intros.",
            "VernacExtend",
            "4a54bfa9e2994d80fccddc38b03ace42ba1312bd"
        ],
        [
            "replace c with (c * 1)%Z; [ idtac | ring ].",
            "VernacExtend",
            "5f49d40efd9474e73de58f83b29318de81f7743f"
        ],
        [
            "rewrite <- H1.",
            "VernacExtend",
            "b8b417d956609d1854d18921f25bc0ffae73a74e"
        ],
        [
            "replace (c * (u * a + v * b))%Z with (c * u * a + v * (b * c))%Z; [ eauto | ring ].",
            "VernacExtend",
            "0ea7dceb224e1f25527a6e1560776313a6544747"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma rel_prime_mult : forall a b c : Z, rel_prime a b -> rel_prime a c -> rel_prime a (b * c).",
            "VernacStartTheoremProof",
            "4354831448ecbb4188cdf2c6276a4dc486eaab87"
        ],
        [
            "intros a b c Hb Hc.",
            "VernacExtend",
            "5c33b49905ded1b058d1aff1f0e75d630761bf37"
        ],
        [
            "elim (rel_prime_bezout a b Hb); intros.",
            "VernacExtend",
            "5089192459dcb09e2eef1d9881f16e1118ef2cd3"
        ],
        [
            "elim (rel_prime_bezout a c Hc); intros.",
            "VernacExtend",
            "6c8cebcae79805967158c720fd8610cced03ccf4"
        ],
        [
            "apply bezout_rel_prime.",
            "VernacExtend",
            "d63d307c1c3fba047c6bcce8cf5d2fbe50505116"
        ],
        [
            "apply Bezout_intro with (u := (u * u0 * a + v0 * c * u + u0 * v * b)%Z) (v := (v * v0)%Z).",
            "VernacExtend",
            "37e9fa0b7da7be5d5864a3ce1ea615cf6ab86911"
        ],
        [
            "rewrite <- H.",
            "VernacExtend",
            "95b84807b4afb2ef79b7cc04a1c91a4e3a502e47"
        ],
        [
            "replace (u * a + v * b)%Z with ((u * a + v * b) * 1)%Z; [ idtac | ring ].",
            "VernacExtend",
            "4933537aa051d54448b3bc8150554a7d2ef335f6"
        ],
        [
            "rewrite <- H0.",
            "VernacExtend",
            "f6718c09e494e327328e3c2003dd236939e231f9"
        ],
        [
            "ring.",
            "VernacExtend",
            "baadd9fc4c175005af409bb466fcea9fab25b4e6"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Inductive prime (p : Z) : Prop := prime_intro : (1 < p)%Z -> (forall n : Z, (1 <= n < p)%Z -> rel_prime n p) -> prime p.",
            "VernacInductive",
            "fa61a6e8e013ae6375d2a97327821f2989026243"
        ],
        [
            "Lemma prime_divisors : forall p : Z, prime p -> forall a : Z, (a | p)%Z -> a = (-1)%Z \\/ a = 1%Z \\/ a = p \\/ a = (- p)%Z.",
            "VernacStartTheoremProof",
            "d6b37399347fadf8886215723579a414680e1e77"
        ],
        [
            "simple induction 1; intros.",
            "VernacExtend",
            "8b54c80df1b4890684639c3f84a62f176fb57476"
        ],
        [
            "assert (a = (- p)%Z \\/ (- p < a < -1)%Z \\/ a = (-1)%Z \\/ a = 0%Z \\/ a = 1%Z \\/ (1 < a < p)%Z \\/ a = p).",
            "VernacExtend",
            "80a0d94837553d89eff2159d89e435426c44d578"
        ],
        [
            "assert (Zabs a <= Zabs p)%Z.",
            "VernacExtend",
            "a436cb07b121b9e149e2c248c0d611800fe2889e"
        ],
        [
            "apply divide_bounds; [ assumption | omega ].",
            "VernacExtend",
            "f2503426a6c0c81b6a30038055dfa6c9ca955cc5"
        ],
        [
            "generalize H3.",
            "VernacExtend",
            "2c33e7d674e232e5704e4a9ccda6815a34148bd6"
        ],
        [
            "pattern (Zabs a) in |- *; apply Zabs_ind; pattern (Zabs p) in |- *; apply Zabs_ind; intros; omega.",
            "VernacExtend",
            "86b7e47cd2a6a5263cd814fb263bbe4570b54bb6"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "absurd (rel_prime (- a) p); intuition.",
            "VernacExtend",
            "7abb44b9e48a66b0c5678827ebc261839de9424c"
        ],
        [
            "inversion H3.",
            "VernacExtend",
            "129aa425681b58d2ed0d3637122128b1b28fd63b"
        ],
        [
            "assert (- a | - a)%Z; auto.",
            "VernacExtend",
            "7946cf32f13844310dd20de24805c7cf4c3df1b5"
        ],
        [
            "assert (- a | p)%Z; auto.",
            "VernacExtend",
            "72af7048da8e3099357bd8edf0ae89ea25605034"
        ],
        [
            "generalize (H8 (- a)%Z H9 H10); intuition.",
            "VernacExtend",
            "4a5e53115f097a2dc78e1953fee69f644bd4a369"
        ],
        [
            "generalize (divide_1 (- a) H11); intuition.",
            "VernacExtend",
            "783a7579ef5944c1ad7e1fbd7670305aa02e17fa"
        ],
        [
            "inversion H2.",
            "VernacExtend",
            "afdc959ca1f20d64005a6cd95d8f83134e6ae5f8"
        ],
        [
            "subst a; omega.",
            "VernacExtend",
            "53d4f6ec558b3c1365b51bacd4218992d7cd9300"
        ],
        [
            "absurd (rel_prime a p); intuition.",
            "VernacExtend",
            "9fbedb3357f2c9bef4bb5790e82fa12b69f17d5d"
        ],
        [
            "inversion H3.",
            "VernacExtend",
            "129aa425681b58d2ed0d3637122128b1b28fd63b"
        ],
        [
            "assert (a | a)%Z; auto.",
            "VernacExtend",
            "2a4f424d611ada28a83a4b9ae3eb0c3fdef15e58"
        ],
        [
            "assert (a | p)%Z; auto.",
            "VernacExtend",
            "85823effccea625836e73268282fb9e7c6852d4c"
        ],
        [
            "generalize (H8 a H9 H10); intuition.",
            "VernacExtend",
            "3642454a8af2460ec97bc248db656c6f82ea076e"
        ],
        [
            "generalize (divide_1 a H11); intuition.",
            "VernacExtend",
            "e8c18299a6948ec4b69d2e22dde0dbe16d53015b"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma prime_rel_prime : forall p : Z, prime p -> forall a : Z, ~ (p | a)%Z -> rel_prime p a.",
            "VernacStartTheoremProof",
            "4600e51de36cac91993f2b2c3a01b79e450a4bf7"
        ],
        [
            "simple induction 1; intros.",
            "VernacExtend",
            "8b54c80df1b4890684639c3f84a62f176fb57476"
        ],
        [
            "constructor; intuition.",
            "VernacExtend",
            "0de9fba06ed64a4a6272181ad1ebff0d6770f93e"
        ],
        [
            "elim (prime_divisors p H x H3); intuition; subst; auto.",
            "VernacExtend",
            "bc6612428075beed3e4c3c14a3497c3fb7651f8e"
        ],
        [
            "absurd (p | a)%Z; auto.",
            "VernacExtend",
            "dced5cd85c906d3fe892eb3dbfd39ec57faf17a9"
        ],
        [
            "absurd (p | a)%Z; intuition.",
            "VernacExtend",
            "e35366af4ac93a7e4a526f083b0616b8c7e0b29f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Hint Resolve prime_rel_prime.",
            "VernacHints",
            "7452197b25d0f20dc2fac7bcde998e5905752935"
        ],
        [
            "Axiom divide_dec : forall a b : Z, {(a | b)%Z} + {~ (a | b)%Z}.",
            "VernacAssumption",
            "8d9a58f348d863092f9f665aef26205b58212cac"
        ],
        [
            "Lemma prime_mult : forall p : Z, prime p -> forall a b : Z, (p | a * b)%Z -> (p | a)%Z \\/ (p | b)%Z.",
            "VernacStartTheoremProof",
            "2665609028856a981a48d49b0e8b0d8dcd793398"
        ],
        [
            "simple induction 1; intros.",
            "VernacExtend",
            "8b54c80df1b4890684639c3f84a62f176fb57476"
        ],
        [
            "case (divide_dec p a); intuition.",
            "VernacExtend",
            "7d71487938cc1192c45280534a34b17c23ee1e17"
        ],
        [
            "right; apply Gauss with a; auto.",
            "VernacExtend",
            "ba70156d1303b2f6530a27533684de2c7504ef02"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ]
    ],
    "proofs": [
        {
            "name": "rel_prime_bezout",
            "line_nb": 5,
            "steps": [
                {
                    "command": [
                        "intros a b; exact (gcd_bezout a b 1).",
                        "VernacExtend",
                        "77e3ab44b249680e0fd5f817da26d101c1d86aaa"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "bezout_rel_prime",
            "line_nb": 8,
            "steps": [
                {
                    "command": [
                        "simple induction 1; constructor; auto.",
                        "VernacExtend",
                        "74dd0ff5ad23bef413dac66f8595e824a21829c4"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "rewrite <- H0; auto.",
                        "VernacExtend",
                        "075413acf92795f866dc4a2ff39c7d41ef0fda3f"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Gauss",
            "line_nb": 13,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "elim (rel_prime_bezout a b H0); intros.",
                        "VernacExtend",
                        "4a54bfa9e2994d80fccddc38b03ace42ba1312bd"
                    ]
                },
                {
                    "command": [
                        "replace c with (c * 1)%Z; [ idtac | ring ].",
                        "VernacExtend",
                        "5f49d40efd9474e73de58f83b29318de81f7743f"
                    ]
                },
                {
                    "command": [
                        "rewrite <- H1.",
                        "VernacExtend",
                        "b8b417d956609d1854d18921f25bc0ffae73a74e"
                    ]
                },
                {
                    "command": [
                        "replace (c * (u * a + v * b))%Z with (c * u * a + v * (b * c))%Z; [ eauto | ring ].",
                        "VernacExtend",
                        "0ea7dceb224e1f25527a6e1560776313a6544747"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "rel_prime_mult",
            "line_nb": 20,
            "steps": [
                {
                    "command": [
                        "intros a b c Hb Hc.",
                        "VernacExtend",
                        "5c33b49905ded1b058d1aff1f0e75d630761bf37"
                    ]
                },
                {
                    "command": [
                        "elim (rel_prime_bezout a b Hb); intros.",
                        "VernacExtend",
                        "5089192459dcb09e2eef1d9881f16e1118ef2cd3"
                    ]
                },
                {
                    "command": [
                        "elim (rel_prime_bezout a c Hc); intros.",
                        "VernacExtend",
                        "6c8cebcae79805967158c720fd8610cced03ccf4"
                    ]
                },
                {
                    "command": [
                        "apply bezout_rel_prime.",
                        "VernacExtend",
                        "d63d307c1c3fba047c6bcce8cf5d2fbe50505116"
                    ]
                },
                {
                    "command": [
                        "apply Bezout_intro with (u := (u * u0 * a + v0 * c * u + u0 * v * b)%Z) (v := (v * v0)%Z).",
                        "VernacExtend",
                        "37e9fa0b7da7be5d5864a3ce1ea615cf6ab86911"
                    ]
                },
                {
                    "command": [
                        "rewrite <- H.",
                        "VernacExtend",
                        "95b84807b4afb2ef79b7cc04a1c91a4e3a502e47"
                    ]
                },
                {
                    "command": [
                        "replace (u * a + v * b)%Z with ((u * a + v * b) * 1)%Z; [ idtac | ring ].",
                        "VernacExtend",
                        "4933537aa051d54448b3bc8150554a7d2ef335f6"
                    ]
                },
                {
                    "command": [
                        "rewrite <- H0.",
                        "VernacExtend",
                        "f6718c09e494e327328e3c2003dd236939e231f9"
                    ]
                },
                {
                    "command": [
                        "ring.",
                        "VernacExtend",
                        "baadd9fc4c175005af409bb466fcea9fab25b4e6"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "prime_divisors",
            "line_nb": 32,
            "steps": [
                {
                    "command": [
                        "simple induction 1; intros.",
                        "VernacExtend",
                        "8b54c80df1b4890684639c3f84a62f176fb57476"
                    ]
                },
                {
                    "command": [
                        "assert (a = (- p)%Z \\/ (- p < a < -1)%Z \\/ a = (-1)%Z \\/ a = 0%Z \\/ a = 1%Z \\/ (1 < a < p)%Z \\/ a = p).",
                        "VernacExtend",
                        "80a0d94837553d89eff2159d89e435426c44d578"
                    ]
                },
                {
                    "command": [
                        "assert (Zabs a <= Zabs p)%Z.",
                        "VernacExtend",
                        "a436cb07b121b9e149e2c248c0d611800fe2889e"
                    ]
                },
                {
                    "command": [
                        "apply divide_bounds; [ assumption | omega ].",
                        "VernacExtend",
                        "f2503426a6c0c81b6a30038055dfa6c9ca955cc5"
                    ]
                },
                {
                    "command": [
                        "generalize H3.",
                        "VernacExtend",
                        "2c33e7d674e232e5704e4a9ccda6815a34148bd6"
                    ]
                },
                {
                    "command": [
                        "pattern (Zabs a) in |- *; apply Zabs_ind; pattern (Zabs p) in |- *; apply Zabs_ind; intros; omega.",
                        "VernacExtend",
                        "86b7e47cd2a6a5263cd814fb263bbe4570b54bb6"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "absurd (rel_prime (- a) p); intuition.",
                        "VernacExtend",
                        "7abb44b9e48a66b0c5678827ebc261839de9424c"
                    ]
                },
                {
                    "command": [
                        "inversion H3.",
                        "VernacExtend",
                        "129aa425681b58d2ed0d3637122128b1b28fd63b"
                    ]
                },
                {
                    "command": [
                        "assert (- a | - a)%Z; auto.",
                        "VernacExtend",
                        "7946cf32f13844310dd20de24805c7cf4c3df1b5"
                    ]
                },
                {
                    "command": [
                        "assert (- a | p)%Z; auto.",
                        "VernacExtend",
                        "72af7048da8e3099357bd8edf0ae89ea25605034"
                    ]
                },
                {
                    "command": [
                        "generalize (H8 (- a)%Z H9 H10); intuition.",
                        "VernacExtend",
                        "4a5e53115f097a2dc78e1953fee69f644bd4a369"
                    ]
                },
                {
                    "command": [
                        "generalize (divide_1 (- a) H11); intuition.",
                        "VernacExtend",
                        "783a7579ef5944c1ad7e1fbd7670305aa02e17fa"
                    ]
                },
                {
                    "command": [
                        "inversion H2.",
                        "VernacExtend",
                        "afdc959ca1f20d64005a6cd95d8f83134e6ae5f8"
                    ]
                },
                {
                    "command": [
                        "subst a; omega.",
                        "VernacExtend",
                        "53d4f6ec558b3c1365b51bacd4218992d7cd9300"
                    ]
                },
                {
                    "command": [
                        "absurd (rel_prime a p); intuition.",
                        "VernacExtend",
                        "9fbedb3357f2c9bef4bb5790e82fa12b69f17d5d"
                    ]
                },
                {
                    "command": [
                        "inversion H3.",
                        "VernacExtend",
                        "129aa425681b58d2ed0d3637122128b1b28fd63b"
                    ]
                },
                {
                    "command": [
                        "assert (a | a)%Z; auto.",
                        "VernacExtend",
                        "2a4f424d611ada28a83a4b9ae3eb0c3fdef15e58"
                    ]
                },
                {
                    "command": [
                        "assert (a | p)%Z; auto.",
                        "VernacExtend",
                        "85823effccea625836e73268282fb9e7c6852d4c"
                    ]
                },
                {
                    "command": [
                        "generalize (H8 a H9 H10); intuition.",
                        "VernacExtend",
                        "3642454a8af2460ec97bc248db656c6f82ea076e"
                    ]
                },
                {
                    "command": [
                        "generalize (divide_1 a H11); intuition.",
                        "VernacExtend",
                        "e8c18299a6948ec4b69d2e22dde0dbe16d53015b"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "prime_rel_prime",
            "line_nb": 55,
            "steps": [
                {
                    "command": [
                        "simple induction 1; intros.",
                        "VernacExtend",
                        "8b54c80df1b4890684639c3f84a62f176fb57476"
                    ]
                },
                {
                    "command": [
                        "constructor; intuition.",
                        "VernacExtend",
                        "0de9fba06ed64a4a6272181ad1ebff0d6770f93e"
                    ]
                },
                {
                    "command": [
                        "elim (prime_divisors p H x H3); intuition; subst; auto.",
                        "VernacExtend",
                        "bc6612428075beed3e4c3c14a3497c3fb7651f8e"
                    ]
                },
                {
                    "command": [
                        "absurd (p | a)%Z; auto.",
                        "VernacExtend",
                        "dced5cd85c906d3fe892eb3dbfd39ec57faf17a9"
                    ]
                },
                {
                    "command": [
                        "absurd (p | a)%Z; intuition.",
                        "VernacExtend",
                        "e35366af4ac93a7e4a526f083b0616b8c7e0b29f"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "prime_mult",
            "line_nb": 64,
            "steps": [
                {
                    "command": [
                        "simple induction 1; intros.",
                        "VernacExtend",
                        "8b54c80df1b4890684639c3f84a62f176fb57476"
                    ]
                },
                {
                    "command": [
                        "case (divide_dec p a); intuition.",
                        "VernacExtend",
                        "7d71487938cc1192c45280534a34b17c23ee1e17"
                    ]
                },
                {
                    "command": [
                        "right; apply Gauss with a; auto.",
                        "VernacExtend",
                        "ba70156d1303b2f6530a27533684de2c7504ef02"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}