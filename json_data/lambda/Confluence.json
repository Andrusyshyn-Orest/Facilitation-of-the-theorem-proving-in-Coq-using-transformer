{
    "filename": "Confluence.v",
    "coq_project": "lambda",
    "vernac_cmds": [
        [
            "Require Import Arith.",
            "VernacRequire",
            "7f40051ec5b363eee0bbfd802b43ad2f8b97479f"
        ],
        [
            "Require Import Terms.",
            "VernacRequire",
            "84a2699be631f67e3ce8456022a355bf1cfc7856"
        ],
        [
            "Require Import Reduction.",
            "VernacRequire",
            "b4f31534e0a3ec0c7960d4eda541335d22352b95"
        ],
        [
            "Require Import Redexes.",
            "VernacRequire",
            "64724c7a420c41e5e7652fe4ce5703399964b229"
        ],
        [
            "Require Import Test.",
            "VernacRequire",
            "5d9a9d7838cb3bc0d54a1d604cb6990cc3adaa06"
        ],
        [
            "Require Import Marks.",
            "VernacRequire",
            "e8bf0ceebc2e73640920c1cf72fff9ab5ef73f0d"
        ],
        [
            "Require Import Substitution.",
            "VernacRequire",
            "cde1d31d77f0276f1ffaf3fb1ad453514c732366"
        ],
        [
            "Require Import Residuals.",
            "VernacRequire",
            "09f8d147ba42278996427e8138be72501dd98d2d"
        ],
        [
            "Require Import Simulation.",
            "VernacRequire",
            "5c038fde842c8c8938e063b5f52d48f227aec28d"
        ],
        [
            "Require Import Cube.",
            "VernacRequire",
            "f32df3b61e329db96d4f1845c1820e4c32cd1c80"
        ],
        [
            "Definition confluence (A : Set) (R : A -> A -> Prop) := forall x y : A, R x y -> forall z : A, R x z -> exists u : A, R y u /\\ R z u.",
            "VernacDefinition",
            "2aaa4116fe4fec0d14fb6f591bc837cfcdd95af8"
        ],
        [
            "Lemma lemma1 : confluence lambda par_red -> confluence lambda red.",
            "VernacStartTheoremProof",
            "0c7ac932e5bd2cf13b472a5f5d5c83adb7b09c31"
        ],
        [
            "unfold all, confluence in |- *; intros.",
            "VernacExtend",
            "a8467b61004f038e37312533c529f81ee7701d22"
        ],
        [
            "cut (exists u : lambda, par_red y u /\\ par_red z u).",
            "VernacExtend",
            "d82fee14cd3b2e74bc44bb19740b129765aeca2e"
        ],
        [
            "simple induction 1.",
            "VernacExtend",
            "b1f838dd75029717483785a8785c7867663c75bc"
        ],
        [
            "intros u C; exists u; elim C; intros; split; apply par_red_red; trivial with arith.",
            "VernacExtend",
            "ab0713887b73bcb0be17d8f221c65ae7214f5281"
        ],
        [
            "apply H with x; apply red_par_red; trivial with arith.",
            "VernacExtend",
            "0d485e08a5d5149dd99cdf48d396f1cc3252b240"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition strip := forall x y : lambda, par_red x y -> forall z : lambda, par_red1 x z -> exists u : lambda, par_red1 y u /\\ par_red z u.",
            "VernacDefinition",
            "9d5574a8caf35157b80c220656ad761e9c897678"
        ],
        [
            "Lemma strip_lemma_r : confluence lambda par_red1 -> strip.",
            "VernacStartTheoremProof",
            "b5cca8ef4bedfe00c9254a03ddac7f1db33e3716"
        ],
        [
            "unfold strip in |- *; simple induction 2; intros.",
            "VernacExtend",
            "e2f511d4cdcaabaab389c7731b14a465f9b2004e"
        ],
        [
            "elim H with M N z; trivial with arith.",
            "VernacExtend",
            "974b4f2bd9c9b63f9311bc38e21b1f12de410353"
        ],
        [
            "intros u C; exists u; elim C; intros; split; trivial with arith.",
            "VernacExtend",
            "b777f5540aa4722c9f7cd6e598168b8f20375c82"
        ],
        [
            "apply one_step_par_red; trivial with arith.",
            "VernacExtend",
            "94dbde2478e078557f7347d1f5fb6949e993b2d5"
        ],
        [
            "elim (H2 z H5); intros.",
            "VernacExtend",
            "adeaf495e16e79a5e1ce8a12ba374bad4d4707c3"
        ],
        [
            "elim H6; intros.",
            "VernacExtend",
            "adada1ad2ce0ef6f5f04088c4ecd9bfe31ad7784"
        ],
        [
            "elim (H4 x0 H7); intros.",
            "VernacExtend",
            "5124b6ac431460d72d47895f3f9956bed1543bb2"
        ],
        [
            "elim H9; intros.",
            "VernacExtend",
            "12334c97f44957e9c5cef0f3af9bfd7eaf28bd49"
        ],
        [
            "exists x1; split; trivial with arith.",
            "VernacExtend",
            "74ba693b46ad6a535dfac6c6c910f4788626bbba"
        ],
        [
            "apply trans_par_red with x0; trivial with arith.",
            "VernacExtend",
            "3b570db1138de6504ced360d0afbee5fb28ed5b1"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma strip_lemma_l : strip -> confluence lambda par_red.",
            "VernacStartTheoremProof",
            "3a9785fcd2e3e8a05f5da5edeec0d9eff5dbe666"
        ],
        [
            "unfold confluence in |- *; simple induction 2; intros.",
            "VernacExtend",
            "e1fe355d2acac02e1ce9cc7dffd5cd0e0c8e2376"
        ],
        [
            "elim (H M z H2 N H1).",
            "VernacExtend",
            "0ed2b861245472390dd826b08d1326efa5ea29a0"
        ],
        [
            "intros u C; exists u; elim C; intros; split; trivial with arith.",
            "VernacExtend",
            "b777f5540aa4722c9f7cd6e598168b8f20375c82"
        ],
        [
            "apply one_step_par_red; trivial with arith.",
            "VernacExtend",
            "94dbde2478e078557f7347d1f5fb6949e993b2d5"
        ],
        [
            "elim (H2 z H5); intros.",
            "VernacExtend",
            "adeaf495e16e79a5e1ce8a12ba374bad4d4707c3"
        ],
        [
            "elim H6; intros.",
            "VernacExtend",
            "adada1ad2ce0ef6f5f04088c4ecd9bfe31ad7784"
        ],
        [
            "elim (H4 x0 H7); intros.",
            "VernacExtend",
            "5124b6ac431460d72d47895f3f9956bed1543bb2"
        ],
        [
            "elim H9; intros.",
            "VernacExtend",
            "12334c97f44957e9c5cef0f3af9bfd7eaf28bd49"
        ],
        [
            "exists x1; split; trivial with arith.",
            "VernacExtend",
            "74ba693b46ad6a535dfac6c6c910f4788626bbba"
        ],
        [
            "apply trans_par_red with x0; trivial with arith.",
            "VernacExtend",
            "3b570db1138de6504ced360d0afbee5fb28ed5b1"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma lemma2 : confluence lambda par_red1 -> confluence lambda par_red.",
            "VernacStartTheoremProof",
            "1c732e74bc118eb42d8ca02986f09ba6c77f6260"
        ],
        [
            "intro C; unfold confluence in |- *; intros.",
            "VernacExtend",
            "dcc0b39c0f658a9fe9663522143bc623df43a885"
        ],
        [
            "apply (strip_lemma_l (strip_lemma_r C) x); trivial with arith.",
            "VernacExtend",
            "05471a63fd2f44ca6e676703fea0141d7184b3c4"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma parallel_moves : confluence lambda par_red1.",
            "VernacStartTheoremProof",
            "e18bd08d7e900f8d02dfc3b2b009fc0018e2c6a9"
        ],
        [
            "red in |- *; intros M N R1 P R2.",
            "VernacExtend",
            "c0610c1aad1f42fa9f98fb933bd44be44785de66"
        ],
        [
            "elim (simulation M N); trivial with arith.",
            "VernacExtend",
            "45ef2ecb60ae7cfa845bd15dec0b206209a514f8"
        ],
        [
            "elim (simulation M P); trivial with arith.",
            "VernacExtend",
            "a8b05dcb3e05f8e068db1536d37288f839c44958"
        ],
        [
            "intros V RV U RU.",
            "VernacExtend",
            "8821af26c02a348cfc299d8e6daa55331787f1ef"
        ],
        [
            "elim (paving U V (mark M) (mark N) (mark P)); trivial with arith.",
            "VernacExtend",
            "09f9df0702cef4cd2d6e0639ce2e7f70f3a8ed02"
        ],
        [
            "intros UV C1; elim C1.",
            "VernacExtend",
            "a2c3d47e42b1eee1445cf8c4ab859e8a3fc90ab0"
        ],
        [
            "intros VU C2; elim C2.",
            "VernacExtend",
            "d1ef904ab14f0cb2a548e1bbf9ee2c4c83209e7f"
        ],
        [
            "intros UVW C3; elim C3; intros P1 P2.",
            "VernacExtend",
            "948171eac61ce3dea8dfe9db6ab32ddf42f7b841"
        ],
        [
            "exists (unmark UVW); split.",
            "VernacExtend",
            "5c9b90214168899d1a231709809a0e39782eba02"
        ],
        [
            "rewrite (inverse N).",
            "VernacExtend",
            "0625f72dc074ccc6da91547d30ab2106bc5f55f0"
        ],
        [
            "apply Simulation.completeness with VU; trivial with arith.",
            "VernacExtend",
            "9072d7eb9b2ee11817f60a57bb685c37d19ea0b2"
        ],
        [
            "rewrite (inverse P).",
            "VernacExtend",
            "356d66976e183a161928cfd4e814841d185e48d9"
        ],
        [
            "apply Simulation.completeness with UV; trivial with arith.",
            "VernacExtend",
            "cadbaeb55f6c22b2703c3bde06c4aa0c480f2a9c"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma confluence_parallel_reduction : confluence lambda par_red.",
            "VernacStartTheoremProof",
            "1f03f145fef966e31d95fc33e1c0dd7f6eed11aa"
        ],
        [
            "apply lemma2; exact parallel_moves.",
            "VernacExtend",
            "52b8f2f8ce0566628162e61666df6b28186f81f0"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem confluence_beta_reduction : confluence lambda red.",
            "VernacStartTheoremProof",
            "e06b4caac98fac69b3058a25f9c9016475f32f36"
        ],
        [
            "apply lemma1; exact confluence_parallel_reduction.",
            "VernacExtend",
            "d72d7d53367ea735263536e542928e5849ccee4b"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ]
    ],
    "proofs": [
        {
            "name": "lemma1",
            "line_nb": 11,
            "steps": [
                {
                    "command": [
                        "unfold all, confluence in |- *; intros.",
                        "VernacExtend",
                        "a8467b61004f038e37312533c529f81ee7701d22"
                    ]
                },
                {
                    "command": [
                        "cut (exists u : lambda, par_red y u /\\ par_red z u).",
                        "VernacExtend",
                        "d82fee14cd3b2e74bc44bb19740b129765aeca2e"
                    ]
                },
                {
                    "command": [
                        "simple induction 1.",
                        "VernacExtend",
                        "b1f838dd75029717483785a8785c7867663c75bc"
                    ]
                },
                {
                    "command": [
                        "intros u C; exists u; elim C; intros; split; apply par_red_red; trivial with arith.",
                        "VernacExtend",
                        "ab0713887b73bcb0be17d8f221c65ae7214f5281"
                    ]
                },
                {
                    "command": [
                        "apply H with x; apply red_par_red; trivial with arith.",
                        "VernacExtend",
                        "0d485e08a5d5149dd99cdf48d396f1cc3252b240"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "strip_lemma_r",
            "line_nb": 19,
            "steps": [
                {
                    "command": [
                        "unfold strip in |- *; simple induction 2; intros.",
                        "VernacExtend",
                        "e2f511d4cdcaabaab389c7731b14a465f9b2004e"
                    ]
                },
                {
                    "command": [
                        "elim H with M N z; trivial with arith.",
                        "VernacExtend",
                        "974b4f2bd9c9b63f9311bc38e21b1f12de410353"
                    ]
                },
                {
                    "command": [
                        "intros u C; exists u; elim C; intros; split; trivial with arith.",
                        "VernacExtend",
                        "b777f5540aa4722c9f7cd6e598168b8f20375c82"
                    ]
                },
                {
                    "command": [
                        "apply one_step_par_red; trivial with arith.",
                        "VernacExtend",
                        "94dbde2478e078557f7347d1f5fb6949e993b2d5"
                    ]
                },
                {
                    "command": [
                        "elim (H2 z H5); intros.",
                        "VernacExtend",
                        "adeaf495e16e79a5e1ce8a12ba374bad4d4707c3"
                    ]
                },
                {
                    "command": [
                        "elim H6; intros.",
                        "VernacExtend",
                        "adada1ad2ce0ef6f5f04088c4ecd9bfe31ad7784"
                    ]
                },
                {
                    "command": [
                        "elim (H4 x0 H7); intros.",
                        "VernacExtend",
                        "5124b6ac431460d72d47895f3f9956bed1543bb2"
                    ]
                },
                {
                    "command": [
                        "elim H9; intros.",
                        "VernacExtend",
                        "12334c97f44957e9c5cef0f3af9bfd7eaf28bd49"
                    ]
                },
                {
                    "command": [
                        "exists x1; split; trivial with arith.",
                        "VernacExtend",
                        "74ba693b46ad6a535dfac6c6c910f4788626bbba"
                    ]
                },
                {
                    "command": [
                        "apply trans_par_red with x0; trivial with arith.",
                        "VernacExtend",
                        "3b570db1138de6504ced360d0afbee5fb28ed5b1"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "strip_lemma_l",
            "line_nb": 31,
            "steps": [
                {
                    "command": [
                        "unfold confluence in |- *; simple induction 2; intros.",
                        "VernacExtend",
                        "e1fe355d2acac02e1ce9cc7dffd5cd0e0c8e2376"
                    ]
                },
                {
                    "command": [
                        "elim (H M z H2 N H1).",
                        "VernacExtend",
                        "0ed2b861245472390dd826b08d1326efa5ea29a0"
                    ]
                },
                {
                    "command": [
                        "intros u C; exists u; elim C; intros; split; trivial with arith.",
                        "VernacExtend",
                        "b777f5540aa4722c9f7cd6e598168b8f20375c82"
                    ]
                },
                {
                    "command": [
                        "apply one_step_par_red; trivial with arith.",
                        "VernacExtend",
                        "94dbde2478e078557f7347d1f5fb6949e993b2d5"
                    ]
                },
                {
                    "command": [
                        "elim (H2 z H5); intros.",
                        "VernacExtend",
                        "adeaf495e16e79a5e1ce8a12ba374bad4d4707c3"
                    ]
                },
                {
                    "command": [
                        "elim H6; intros.",
                        "VernacExtend",
                        "adada1ad2ce0ef6f5f04088c4ecd9bfe31ad7784"
                    ]
                },
                {
                    "command": [
                        "elim (H4 x0 H7); intros.",
                        "VernacExtend",
                        "5124b6ac431460d72d47895f3f9956bed1543bb2"
                    ]
                },
                {
                    "command": [
                        "elim H9; intros.",
                        "VernacExtend",
                        "12334c97f44957e9c5cef0f3af9bfd7eaf28bd49"
                    ]
                },
                {
                    "command": [
                        "exists x1; split; trivial with arith.",
                        "VernacExtend",
                        "74ba693b46ad6a535dfac6c6c910f4788626bbba"
                    ]
                },
                {
                    "command": [
                        "apply trans_par_red with x0; trivial with arith.",
                        "VernacExtend",
                        "3b570db1138de6504ced360d0afbee5fb28ed5b1"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "lemma2",
            "line_nb": 43,
            "steps": [
                {
                    "command": [
                        "intro C; unfold confluence in |- *; intros.",
                        "VernacExtend",
                        "dcc0b39c0f658a9fe9663522143bc623df43a885"
                    ]
                },
                {
                    "command": [
                        "apply (strip_lemma_l (strip_lemma_r C) x); trivial with arith.",
                        "VernacExtend",
                        "05471a63fd2f44ca6e676703fea0141d7184b3c4"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "parallel_moves",
            "line_nb": 47,
            "steps": [
                {
                    "command": [
                        "red in |- *; intros M N R1 P R2.",
                        "VernacExtend",
                        "c0610c1aad1f42fa9f98fb933bd44be44785de66"
                    ]
                },
                {
                    "command": [
                        "elim (simulation M N); trivial with arith.",
                        "VernacExtend",
                        "45ef2ecb60ae7cfa845bd15dec0b206209a514f8"
                    ]
                },
                {
                    "command": [
                        "elim (simulation M P); trivial with arith.",
                        "VernacExtend",
                        "a8b05dcb3e05f8e068db1536d37288f839c44958"
                    ]
                },
                {
                    "command": [
                        "intros V RV U RU.",
                        "VernacExtend",
                        "8821af26c02a348cfc299d8e6daa55331787f1ef"
                    ]
                },
                {
                    "command": [
                        "elim (paving U V (mark M) (mark N) (mark P)); trivial with arith.",
                        "VernacExtend",
                        "09f9df0702cef4cd2d6e0639ce2e7f70f3a8ed02"
                    ]
                },
                {
                    "command": [
                        "intros UV C1; elim C1.",
                        "VernacExtend",
                        "a2c3d47e42b1eee1445cf8c4ab859e8a3fc90ab0"
                    ]
                },
                {
                    "command": [
                        "intros VU C2; elim C2.",
                        "VernacExtend",
                        "d1ef904ab14f0cb2a548e1bbf9ee2c4c83209e7f"
                    ]
                },
                {
                    "command": [
                        "intros UVW C3; elim C3; intros P1 P2.",
                        "VernacExtend",
                        "948171eac61ce3dea8dfe9db6ab32ddf42f7b841"
                    ]
                },
                {
                    "command": [
                        "exists (unmark UVW); split.",
                        "VernacExtend",
                        "5c9b90214168899d1a231709809a0e39782eba02"
                    ]
                },
                {
                    "command": [
                        "rewrite (inverse N).",
                        "VernacExtend",
                        "0625f72dc074ccc6da91547d30ab2106bc5f55f0"
                    ]
                },
                {
                    "command": [
                        "apply Simulation.completeness with VU; trivial with arith.",
                        "VernacExtend",
                        "9072d7eb9b2ee11817f60a57bb685c37d19ea0b2"
                    ]
                },
                {
                    "command": [
                        "rewrite (inverse P).",
                        "VernacExtend",
                        "356d66976e183a161928cfd4e814841d185e48d9"
                    ]
                },
                {
                    "command": [
                        "apply Simulation.completeness with UV; trivial with arith.",
                        "VernacExtend",
                        "cadbaeb55f6c22b2703c3bde06c4aa0c480f2a9c"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "confluence_parallel_reduction",
            "line_nb": 62,
            "steps": [
                {
                    "command": [
                        "apply lemma2; exact parallel_moves.",
                        "VernacExtend",
                        "52b8f2f8ce0566628162e61666df6b28186f81f0"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "confluence_beta_reduction",
            "line_nb": 65,
            "steps": [
                {
                    "command": [
                        "apply lemma1; exact confluence_parallel_reduction.",
                        "VernacExtend",
                        "d72d7d53367ea735263536e542928e5849ccee4b"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}