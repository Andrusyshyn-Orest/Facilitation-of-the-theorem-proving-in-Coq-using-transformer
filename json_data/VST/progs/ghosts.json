{
    "filename": "progs/ghosts.v",
    "coq_project": "VST",
    "vernac_cmds": [
        [
            "Require Import VST.veric.compcert_rmaps.",
            "VernacRequire",
            "c684a380737921a2e41654d70bb2fe8e448426cf"
        ],
        [
            "Require Export VST.msl.ghost.",
            "VernacRequire",
            "f2776dd8055ec0d5ebad0c8eb6682718046bbc81"
        ],
        [
            "Require Import VST.msl.sepalg.",
            "VernacRequire",
            "b78005af0b326275ac24eaf70d32d2c944f2f772"
        ],
        [
            "Require Import VST.msl.sepalg_generators.",
            "VernacRequire",
            "d204a962838c874527f403fd26ba3443bdcf75ac"
        ],
        [
            "Require Import VST.veric.SeparationLogic.",
            "VernacRequire",
            "b9f4108caaa3f1d0a48cb9109355c3244b7115b6"
        ],
        [
            "Require Import VST.progs.conclib.",
            "VernacRequire",
            "0bd1958c28a2e2e811eaaf594fa102beb41a1004"
        ],
        [
            "Import List.",
            "VernacImport",
            "714b0c1d5be3cea55743185aecdf9fb813bbb1fa"
        ],
        [
            "Hint Resolve Share.nontrivial.",
            "VernacHints",
            "ee20ec7356dff0f4d9520179ef37295da29e45d7"
        ],
        [
            "Definition gname := own.gname.",
            "VernacDefinition",
            "fae82218e9beb1e97912204135b532e7ef9959a5"
        ],
        [
            "Instance Inhabitant_preds : Inhabitant preds := NoneP.",
            "VernacInstance",
            "8c37a0782d1bf5a15df10ef97896732ec65ef6c5"
        ],
        [
            "Section ghost.",
            "VernacBeginSection",
            "c7ec041b49b653710c24b52898d7610b39319ca5"
        ],
        [
            "Context {RA: Ghost}.",
            "VernacContext",
            "ec282c464a03f848d110e2294d4d41c43b18f4f4"
        ],
        [
            "Lemma own_op' : forall g a1 a2 pp, own g a1 pp * own g a2 pp = EX a3 : _, !!(join a1 a2 a3 /\\ valid a3) && own g a3 pp.",
            "VernacStartTheoremProof",
            "b25fb6d28cac61ef6cc1114dcba7b8a7d026130b"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply pred_ext.",
            "VernacExtend",
            "9b03db08834ebab822f3dce151d20d6efb17f5ba"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "assert_PROP (valid_2 a1 a2) as Hjoin by (apply own_valid_2).",
            "VernacExtend",
            "123fa9dc4a85c79319b8f95a1b017286f8759c24"
        ],
        [
            "destruct Hjoin as (a3 & ? & ?); Exists a3; entailer!.",
            "VernacExtend",
            "9c169c17c4503797699b6dd5b6629115d3db8e46"
        ],
        [
            "erewrite <- own_op by eauto.",
            "VernacExtend",
            "fd0518f0cd6bca41a9d2fd85a5135677c29ab0e3"
        ],
        [
            "apply derives_refl.",
            "VernacExtend",
            "e6aad07de74a98e9e95ce8bc0aeafdd1290e4b6f"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "Intros a3.",
            "VernacExtend",
            "e88883ef6fb817ab7c6d15589e705e4ddcb1ebc7"
        ],
        [
            "erewrite own_op by eauto.",
            "VernacExtend",
            "389e8cbfcbe6d4487145b4d3dfb475b5268f260c"
        ],
        [
            "apply derives_refl.",
            "VernacExtend",
            "e6aad07de74a98e9e95ce8bc0aeafdd1290e4b6f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma own_op_gen : forall g a1 a2 a3 pp, (valid_2 a1 a2 -> join a1 a2 a3) -> own g a1 pp * own g a2 pp = !!(valid_2 a1 a2) && own g a3 pp.",
            "VernacStartTheoremProof",
            "c90ee0234eec07769720825b5897496723457e95"
        ],
        [
            "intros; apply pred_ext.",
            "VernacExtend",
            "8cc2d7d8eebb3d50903946126176130d80954106"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "assert_PROP (valid_2 a1 a2) as Hv by apply own_valid_2.",
            "VernacExtend",
            "6054b7ff3b96f1bba11846b5565c398b18de7bd3"
        ],
        [
            "erewrite <- own_op by eauto; entailer!.",
            "VernacExtend",
            "8e5eb18663ea4ccc206042964486989029f00be3"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "Intros.",
            "VernacExtend",
            "58784a78af6fa36ccbd531d2a460b187e88b99db"
        ],
        [
            "erewrite own_op by eauto; entailer!.",
            "VernacExtend",
            "0204a7016f6ade917f59f41bd3a8cc8b2010fa63"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma own_list_alloc : forall la lp, Forall valid la -> length lp = length la -> emp |-- |==> (EX lg : _, !!(Zlength lg = Zlength la) && iter_sepcon (fun '(g, a, p) => own g a p) (combine (combine lg la) lp)).",
            "VernacStartTheoremProof",
            "73c7530e9b538d9113ee7b42f0f4ee268b49fdf6"
        ],
        [
            "intros until 1; revert lp; induction H; intros.",
            "VernacExtend",
            "fdeb8e2c350f894ec8f250352ba13ab4a34aa318"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply derives_trans, bupd_intro.",
            "VernacExtend",
            "63c388f8a971af60ef1a0f6eba9843c78367bfd3"
        ],
        [
            "Exists (@nil own.gname).",
            "VernacExtend",
            "288f45766dee645d28ca23b097df7702675af875"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "entailer!.",
            "VernacExtend",
            "e9311eb469ece63c985af7872ea148a97277818d"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct lp; inv H1.",
            "VernacExtend",
            "f9f062c3e2981aca1288153d307dc7083b59b70c"
        ],
        [
            "rewrite <- emp_sepcon at 1.",
            "VernacExtend",
            "7d24ed72f6c0a41b09136f687d522162c757718b"
        ],
        [
            "eapply derives_trans; [apply sepcon_derives; [apply IHForall; eauto | apply own_alloc; eauto]|].",
            "VernacExtend",
            "6b3789fdccf3a024d62334aa58f7e8077d27f64c"
        ],
        [
            "eapply derives_trans; [apply bupd_sepcon|].",
            "VernacExtend",
            "af7e24f7bed8ca834906bd9d54acd7dfc7f39b3b"
        ],
        [
            "apply bupd_mono.",
            "VernacExtend",
            "7b935a01f8d9d2130ad94faf655b1859eb40466c"
        ],
        [
            "Intros lg g.",
            "VernacExtend",
            "c5dd3d4024866287d12a027f8056fa34fc573307"
        ],
        [
            "Exists (g :: lg); rewrite !Zlength_cons; simpl.",
            "VernacExtend",
            "7005ecdac7cd862d46c3f6838266762f5a65ec57"
        ],
        [
            "rewrite sepcon_comm; entailer!.",
            "VernacExtend",
            "cfb24cef5a7efa6f0d212db097b1a6ed211ba5eb"
        ],
        [
            "apply derives_refl.",
            "VernacExtend",
            "e6aad07de74a98e9e95ce8bc0aeafdd1290e4b6f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Corollary own_list_alloc' : forall a pp i, 0 <= i -> valid a -> emp |-- |==> (EX lg : _, !!(Zlength lg = i) && iter_sepcon (fun g => own g a pp) lg).",
            "VernacStartTheoremProof",
            "36ebcaa4d9289e2606ee91fba48097749b4aff82"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "eapply derives_trans; [apply own_list_alloc with (la := repeat a (Z.to_nat i))(lp := repeat pp (Z.to_nat i))|].",
            "VernacExtend",
            "4bfda8218a3421d096a0893cdbdba84dbcfa3ce7"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "apply Forall_repeat; auto.",
            "VernacExtend",
            "87d09857e02a9f384a8506657178d0b351aca05b"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "rewrite !repeat_length; auto.",
            "VernacExtend",
            "1ea752e03fbdc447eba4e3924da300aafa1b1423"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "apply bupd_mono; Intros lg; Exists lg.",
            "VernacExtend",
            "43d910b09b4a9cd7b3be051a4d2834acf9a2db5d"
        ],
        [
            "rewrite Zlength_repeat, Z2Nat.id in H1 by omega.",
            "VernacExtend",
            "747d37ddf01def378ddcb416321a5ab858bfcfce"
        ],
        [
            "rewrite !combine_const1 by (rewrite ?Zlength_combine, ?Zlength_repeat, ?Z2Nat.id, ?Z.min_r; omega).",
            "VernacExtend",
            "409aeba496576ebbe848ea11bd85e6c34d726822"
        ],
        [
            "entailer!.",
            "VernacExtend",
            "e9311eb469ece63c985af7872ea148a97277818d"
        ],
        [
            "clear H; induction lg; simpl; entailer!.",
            "VernacExtend",
            "9e1a338e11f03dfa69112689c7acd689ba4ac576"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma own_list_dealloc : forall {A} f (l : list A), (forall b, exists g a pp, f b |-- own g a pp) -> iter_sepcon f l |-- |==> emp.",
            "VernacStartTheoremProof",
            "50da8383978e42c74c18c3d0052632ab16298adf"
        ],
        [
            "intros; induction l; simpl.",
            "VernacExtend",
            "f0f3f110991119bd923e37e24f0879ad75f7c52e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply bupd_intro.",
            "VernacExtend",
            "291ca8721f3883574bfb16cbad8806a69de6a52f"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply derives_trans; [apply sepcon_derives, IHl|].",
            "VernacExtend",
            "aa5fd411610ec557c68d235e4dff5728463992be"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (H a) as (? & ? & ? & Hf).",
            "VernacExtend",
            "49690bc6db2fab69e5b19b8fb09eff583db54211"
        ],
        [
            "eapply derives_trans; [apply Hf | apply own_dealloc].",
            "VernacExtend",
            "dbd0694798e05c62223b49ece7e1570a476b3ec0"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "eapply derives_trans, bupd_mono; [apply bupd_sepcon | cancel].",
            "VernacExtend",
            "0fc47e63a453cbc4a9001cd7f0b530d897a4be4b"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma own_list_dealloc' : forall {A} g a p (l : list A), iter_sepcon (fun x => own (g x) (a x) (p x)) l |-- |==> emp.",
            "VernacStartTheoremProof",
            "f8b2fd044f4d9292aed692d30900ee02050c8f00"
        ],
        [
            "intros; apply own_list_dealloc.",
            "VernacExtend",
            "11390e5269ad577e6393b9dc3cc18962d9043180"
        ],
        [
            "repeat eexists; apply derives_refl.",
            "VernacExtend",
            "63a9b69aa9c524aa27a3bee58bc292b4c8e8f6b1"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End ghost.",
            "VernacEndSegment",
            "7cbb520429b1a21b237b1dcf739881f394d1e857"
        ],
        [
            "Program Instance exclusive_PCM A : Ghost := { valid a := True; Join_G := Join_lower (Join_discrete A) }.",
            "VernacInstance",
            "a4b4d67dabae98ebc92b23208ba947c16ac97b82"
        ],
        [
            "Definition excl {A} g a := own(RA := exclusive_PCM A) g (Some a) NoneP.",
            "VernacDefinition",
            "d4370232c0508d1df3b992f4d38120240a8aa9a4"
        ],
        [
            "Lemma exclusive_update : forall {A} (v v' : A) p, excl p v |-- |==> excl p v'.",
            "VernacStartTheoremProof",
            "8eb0ec91a0bdda2385a8344260c2736ca4dae61b"
        ],
        [
            "intros; apply own_update.",
            "VernacExtend",
            "19dd011f1c55ce8285e82c272de790c89ded909a"
        ],
        [
            "intros ? (? & ? & _).",
            "VernacExtend",
            "7086a063fa933b49a0ee2ad39efa9a2a537ddf53"
        ],
        [
            "exists (Some v'); split; simpl; auto; inv H; constructor.",
            "VernacExtend",
            "d2d95dfc9695a3efe18d50e0dbd4babbfe21da23"
        ],
        [
            "inv H1.",
            "VernacExtend",
            "7549fbb600c3af6072a6d21bdcba999a253a2e01"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Local Obligation Tactic := idtac.",
            "VernacExtend",
            "28244cec2a973f7e65ef4371babb4c46d38265d6"
        ],
        [
            "Program Instance prod_PCM (GA GB: Ghost): Ghost := { G := @G GA * @G GB; valid a := valid (fst a) /\\ valid (snd a); Join_G := Join_prod _ _ _ _ }.",
            "VernacInstance",
            "36feca0dc24bde64536bbf9da374bf4d4929b533"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "intros GA GB ??? [] []; split; eapply join_valid; eauto.",
            "VernacExtend",
            "d9941c60f3d4a540cae26d94df45f7f9e62edaff"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Class PCM_order `{P : Ghost} (ord : G -> G -> Prop) := { ord_refl :> RelationClasses.Reflexive ord; ord_trans :> RelationClasses.Transitive ord; ord_lub : forall a b c, ord a c -> ord b c -> {c' | join a b c' /\\ ord c' c}; join_ord : forall a b c, join a b c -> ord a c /\\ ord b c; ord_join : forall a b, ord b a -> join a b a }.",
            "VernacInductive",
            "ff4226b7297c3a97bf0753bec5f058c3d211ee27"
        ],
        [
            "Section Snapshot.",
            "VernacBeginSection",
            "566464e07ea548e1557e49bdf5fd00b187d54f09"
        ],
        [
            "Context `{ORD : PCM_order}.",
            "VernacContext",
            "a6297645974fa5d8832b5911f5f524b88eeca89d"
        ],
        [
            "Lemma join_refl : forall (v : G), join v v v.",
            "VernacStartTheoremProof",
            "6ecc098260ef33408d04c8325d3d5a5dba80bb82"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply ord_join; reflexivity.",
            "VernacExtend",
            "c919aadc6fafcd81608ad0d9e26a86ecb3d6cbfb"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma join_compat : forall v1 v2 v' v'', join v2 v' v'' -> ord v1 v2 -> exists v0, join v1 v' v0 /\\ ord v0 v''.",
            "VernacStartTheoremProof",
            "37fab5c438e7efa3ffe5d27794e54e6ab14838da"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "destruct (join_ord _ _ _ H).",
            "VernacExtend",
            "2e72bf35ff7da734d9632f487c91dad45ea17be3"
        ],
        [
            "destruct (ord_lub v1 v' v'') as (? & ? & ?); eauto.",
            "VernacExtend",
            "dac924c3c3570a022440b5a98d82ae1a187f3d4f"
        ],
        [
            "etransitivity; eauto.",
            "VernacExtend",
            "9a7a03ac784b775f6203b3104ab84c89b908a8ba"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma join_ord_eq : forall a b, ord a b <-> exists c, join a c b.",
            "VernacStartTheoremProof",
            "36596fa5c36121e5c8bf28c73e9fa70ea1ad1642"
        ],
        [
            "split.",
            "VernacExtend",
            "55abc140132bd88981001ac656020469a8d503eb"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros; exists b.",
            "VernacExtend",
            "36860d2f15009f5abd1a2fd20cf0dbd0a0a53ab5"
        ],
        [
            "apply ord_join in H.",
            "VernacExtend",
            "5576c8aff02a6ec89c56c2dfee87b205536c5ef8"
        ],
        [
            "apply join_comm; auto.",
            "VernacExtend",
            "f8704e28f12171aea84f4aa6046756c8e2b1fb03"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros (? & H); apply join_ord in H; tauto.",
            "VernacExtend",
            "14d85a1f5bd9dddf8ceba50b1becba4232eeae0b"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Global Program Instance snap_PCM : Ghost := { valid _ := True; Join_G a b c := sepalg.join (fst a) (fst b) (fst c) /\\ if eq_dec (fst a) Share.bot then if eq_dec (fst b) Share.bot then join (snd a) (snd b) (snd c) else ord (snd a) (snd b) /\\ snd c = snd b else snd c = snd a /\\ if eq_dec (fst b) Share.bot then ord (snd b) (snd a) else snd c = snd b }.",
            "VernacInstance",
            "27a5dcbc6d85e8e077b97de6dfb97ffb58f9b179"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "exists (fun '(sh, a) => (Share.bot, core a)); repeat intro.",
            "VernacExtend",
            "9ba070b67c5d56520309590232ddd7d825a0f4a6"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct t; constructor; auto; simpl.",
            "VernacExtend",
            "b1b0b29a0102d1ce28bc17b087cfa46dff2cff24"
        ],
        [
            "rewrite eq_dec_refl.",
            "VernacExtend",
            "60183bcd24b5067de9b57e6446bafab9cd8b2625"
        ],
        [
            "if_tac; [apply core_unit | split; auto].",
            "VernacExtend",
            "30a685959f82216347570237b76f1bcc64e105f9"
        ],
        [
            "rewrite join_ord_eq; eexists; apply core_unit.",
            "VernacExtend",
            "f1b61773d7a4f35960a109481cfc174fd291600e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct a, b, c; f_equal.",
            "VernacExtend",
            "3065c5cc8a78a4a0cb28834823f60b36a4b3b56a"
        ],
        [
            "inv H; simpl in *.",
            "VernacExtend",
            "7f483b963f4e1adf494c8c50c5668e72b1e4153e"
        ],
        [
            "destruct (eq_dec t Share.bot); [|destruct H1; subst; auto].",
            "VernacExtend",
            "0322e0cf683186116febee6528ce7f0cf74ee74f"
        ],
        [
            "subst; apply bot_identity in H0; subst.",
            "VernacExtend",
            "d69a2652c563dcd7ff18254be5d5906894f6be0e"
        ],
        [
            "destruct (eq_dec t1 Share.bot); [|destruct H1; subst; auto].",
            "VernacExtend",
            "91665e68450a3409942c053b3cc20b0525dbad34"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "eapply join_core; eauto.",
            "VernacExtend",
            "5ac5ccffe9b6747b61c6829a4613898aa4d25ca3"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "rewrite join_ord_eq in H; destruct H.",
            "VernacExtend",
            "cc8b15de93343715d75ffa46c2ab958126282fdf"
        ],
        [
            "eapply join_core; eauto.",
            "VernacExtend",
            "5ac5ccffe9b6747b61c6829a4613898aa4d25ca3"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros ???? [? Hjoin1] [? Hjoin2].",
            "VernacExtend",
            "4a926247cd753b4a0f954c038604e2908f8ec31e"
        ],
        [
            "assert (fst z = fst z') by (eapply join_eq; eauto).",
            "VernacExtend",
            "11d917e7ecc6ddd86b014eea6b54295c45aba634"
        ],
        [
            "destruct z, z'; simpl in *; subst; f_equal.",
            "VernacExtend",
            "5cebf9e3202d256249a32e095193d9e5a7ce3505"
        ],
        [
            "destruct (eq_dec (fst x) Share.bot); [|destruct Hjoin1, Hjoin2; subst; auto].",
            "VernacExtend",
            "af6de232bb2d9a9045f4b1df30968e230cfae405"
        ],
        [
            "destruct (eq_dec (fst y) Share.bot); [|destruct Hjoin1, Hjoin2; subst; auto].",
            "VernacExtend",
            "2fc70d610505e1232a9e0afa414db2811c590ac9"
        ],
        [
            "eapply join_eq; eauto.",
            "VernacExtend",
            "ccf59f1f695e4c180b0ea6a817cf2aad71c65ad6"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros ????? [Hsh1 Hjoin1] [Hsh2 Hjoin2].",
            "VernacExtend",
            "6131eaa975bc59dbed511027be295cc2884e8bda"
        ],
        [
            "destruct (sepalg.join_assoc Hsh1 Hsh2) as [sh' []].",
            "VernacExtend",
            "39dfe00d6e90bf35131a9ea20761d1ae9c478c31"
        ],
        [
            "destruct (eq_dec (fst b) Share.bot) eqn: Hb.",
            "VernacExtend",
            "188d0a3ed89bf8bc04a8933c06dfc9027fa3d8bc"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "assert (fst d = fst a) as Hd.",
            "VernacExtend",
            "ddaa55d36aaf3a0b174b4554580b6e633091bc20"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "eapply sepalg.join_eq; eauto.",
            "VernacExtend",
            "cb4519a650a38dd3cfd622eae7f459e767dd67c6"
        ],
        [
            "rewrite e0; apply join_bot_eq.",
            "VernacExtend",
            "27df05bb5fb2f01915459a9ebd29e8b1d1209982"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "rewrite Hd in *.",
            "VernacExtend",
            "1a5c030650e0045d7fbc8936215708be5bb78933"
        ],
        [
            "assert (sh' = fst c) as Hc.",
            "VernacExtend",
            "7bbab0a2c9d8f06c74e790e7f460309d624364ab"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "eapply sepalg.join_eq; eauto.",
            "VernacExtend",
            "cb4519a650a38dd3cfd622eae7f459e767dd67c6"
        ],
        [
            "rewrite e0; apply bot_join_eq.",
            "VernacExtend",
            "690a987b346095d6677c052b9220941e4407cee1"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "rewrite Hc in *.",
            "VernacExtend",
            "fe7dfd74f18e4e60b383096f23f24bef54c71938"
        ],
        [
            "destruct (eq_dec (fst c) Share.bot) eqn: Hc1.",
            "VernacExtend",
            "ebea1aa9bf3b12bac94690be836a15b32880c130"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "destruct (eq_dec (fst a) Share.bot) eqn: Ha.",
            "VernacExtend",
            "2fe58ad69d9b8d11f6e09ee5562db6a149e806c2"
        ],
        [
            "--",
            "VernacBullet",
            "ba168e40f4056f7e624b4823d483fd7320648256"
        ],
        [
            "destruct (join_assoc Hjoin1 Hjoin2) as [c' []].",
            "VernacExtend",
            "0f489df5a3bfcc261e320a418582e7b9314feb7d"
        ],
        [
            "exists (Share.bot, c'); split; split; rewrite ?e2, ?e0, ?e1, ?eq_dec_refl in *; auto.",
            "VernacExtend",
            "97dca3daf992d979aab1477258134a2a6fe58441"
        ],
        [
            "--",
            "VernacBullet",
            "ba168e40f4056f7e624b4823d483fd7320648256"
        ],
        [
            "destruct Hjoin1 as [Hc' ?]; rewrite Hc' in *.",
            "VernacExtend",
            "43424307652f51542a6bff7317534c7ac23c7a93"
        ],
        [
            "destruct Hjoin2, (ord_lub (snd b) (snd c) (snd a)) as [c' []]; eauto.",
            "VernacExtend",
            "732c6b8910de6f627be6e03f52787dcdd1bce2a6"
        ],
        [
            "exists (Share.bot, c'); split; split; rewrite ?e0, ?e1, ?eq_dec_refl, ?Ha in *; auto.",
            "VernacExtend",
            "bed15777634429b1d918c3bc378621e5f3f2fa97"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "exists c.",
            "VernacExtend",
            "683d4593ad0b3c7125e420e0670d5a4b0d3c38bc"
        ],
        [
            "destruct (eq_dec (fst a) Share.bot) eqn: Ha; try solve [split; split; auto].",
            "VernacExtend",
            "5d81168510a10bae857637eee9591509824e1fa3"
        ],
        [
            "--",
            "VernacBullet",
            "ba168e40f4056f7e624b4823d483fd7320648256"
        ],
        [
            "destruct Hjoin2.",
            "VernacExtend",
            "5b2a007f7286bdcef88c75d069410b378a4a5dc7"
        ],
        [
            "apply join_ord in Hjoin1; destruct Hjoin1.",
            "VernacExtend",
            "3a324baddf6e1ea05affed6b6b7529c02cc2a6b2"
        ],
        [
            "split; split; rewrite ?e0, ?Ha, ?Hc1, ?eq_dec_refl; auto; split; auto; etransitivity; eauto.",
            "VernacExtend",
            "e4aeaf4a09cc1b0551b4b654d13791dfb9dadcb6"
        ],
        [
            "--",
            "VernacBullet",
            "ba168e40f4056f7e624b4823d483fd7320648256"
        ],
        [
            "destruct Hjoin2 as [He1 He2]; rewrite He1, He2 in *.",
            "VernacExtend",
            "66519144dce33a51ac2fdf6860e3a13c191b8351"
        ],
        [
            "destruct Hjoin1 as [Hd' ?]; rewrite Hd' in *; split; split; rewrite ?e0, ?Ha, ?Hc1, ?eq_dec_refl, ?Hd'; auto.",
            "VernacExtend",
            "89cfe4bec746cb6fae5c8a17b331900767361366"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "exists (sh', snd b); simpl.",
            "VernacExtend",
            "9cfdf496e184c68c49be1202776a59d89d4fb04f"
        ],
        [
            "destruct (eq_dec (fst d) Share.bot).",
            "VernacExtend",
            "140fd7cdcfa79ad82a99751ad428cec08b7f4f92"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "rewrite e0 in Hsh1; apply join_Bot in Hsh1; destruct Hsh1; contradiction.",
            "VernacExtend",
            "615b4e639d8a1c49e0842aec047b9f52d75d0eaa"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "destruct (eq_dec sh' Share.bot) eqn: Hn'.",
            "VernacExtend",
            "ec63ab2142c3fca4a549120e642ba38b2cb10a0d"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "subst; apply join_Bot in H; destruct H; contradiction.",
            "VernacExtend",
            "1d0df59184a88969f64968c548d283cee79ef137"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "assert (snd d = snd b) as Hd by (destruct (eq_dec (fst a) Share.bot); tauto).",
            "VernacExtend",
            "d495c48844a7d3d7cea8c8dcd3480eea660b58c7"
        ],
        [
            "destruct Hjoin2 as [He ?]; rewrite He in *; split; split; simpl; rewrite ?Hb, ?Hn', ?Hd, ?He in *; auto.",
            "VernacExtend",
            "2c411e18f39a1942428a5fe5637faee1385aa7b3"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros ??? []; split; [apply join_comm; auto|].",
            "VernacExtend",
            "f0098ab68aa8eed723a73f71ae341484a0b7bf03"
        ],
        [
            "if_tac; if_tac; auto; tauto.",
            "VernacExtend",
            "c2089cd663367b83df9fbd68d5c1feef3bafc1cc"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros ???? [? Hjoin1] [? Hjoin2].",
            "VernacExtend",
            "4a926247cd753b4a0f954c038604e2908f8ec31e"
        ],
        [
            "assert (fst a = fst b) by (eapply join_positivity; eauto).",
            "VernacExtend",
            "5e665d98f9923867e9db77d6b79feca7b0b76197"
        ],
        [
            "destruct (eq_dec (fst a) Share.bot), a, a', b, b'; simpl in *; subst; f_equal.",
            "VernacExtend",
            "08179cf0d474135e8750403d0c2eaca338a86678"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply join_Bot in H0 as []; subst.",
            "VernacExtend",
            "5c3080c64e092b2c0bab0d6be2306eb9d35887c3"
        ],
        [
            "apply join_Bot in H as []; subst.",
            "VernacExtend",
            "8677f9698cb4962d2009de18dbf6fcdd008b7a65"
        ],
        [
            "rewrite eq_dec_refl in Hjoin1, Hjoin2, Hjoin2.",
            "VernacExtend",
            "3dda0572931208294907315440c6503c34c9e999"
        ],
        [
            "eapply join_positivity; eauto.",
            "VernacExtend",
            "b262d9d0323b0c99e4dff673bcb8aed87da0254b"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct Hjoin1; auto.",
            "VernacExtend",
            "727656db5978d5f7e531e2f128cf461dca13367b"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Definition ghost_snap (a : @G P) p := own p (Share.bot, a) NoneP.",
            "VernacDefinition",
            "b78f376b8522687303968c78dc7f241234818a7d"
        ],
        [
            "Lemma ghost_snap_join : forall v1 v2 p v, join v1 v2 v -> ghost_snap v1 p * ghost_snap v2 p = ghost_snap v p.",
            "VernacStartTheoremProof",
            "9186cb7c28bc2ec28ffc3c015a19caa481b270d9"
        ],
        [
            "intros; symmetry; apply own_op.",
            "VernacExtend",
            "383aead7a8bfd217a8251c487382ce9ae89b9947"
        ],
        [
            "split; simpl; rewrite ?eq_dec_refl; auto.",
            "VernacExtend",
            "14dfd9184600c06a875272590c3d524ddb904206"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma ghost_snap_conflict : forall v1 v2 p, ghost_snap v1 p * ghost_snap v2 p |-- !!(joins v1 v2).",
            "VernacStartTheoremProof",
            "09ed9faa4b242ae2ef1cd718de45301254ed12e0"
        ],
        [
            "intros; eapply derives_trans; [apply own_valid_2|].",
            "VernacExtend",
            "329a0103c3953cd39a5db7210c5eee8123767255"
        ],
        [
            "apply prop_left; intros ((?, a) & (? & Hj) & _); simpl in Hj.",
            "VernacExtend",
            "c6f33742b825e05251dda5f056324cdb482e3f5f"
        ],
        [
            "rewrite !eq_dec_refl in Hj.",
            "VernacExtend",
            "e6add1659b0c7e90930e91f23d211affa2e5a961"
        ],
        [
            "apply prop_right; exists a; auto.",
            "VernacExtend",
            "5c8c2f964cb903f809d4cc10f69fd71f649101e1"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma ghost_snap_join' : forall v1 v2 p, ghost_snap v1 p * ghost_snap v2 p = EX v : _, !!(join v1 v2 v) && ghost_snap v p.",
            "VernacStartTheoremProof",
            "6aac69382a6ea64b9c307b5e0d36cddfc00da7f5"
        ],
        [
            "intros; apply pred_ext.",
            "VernacExtend",
            "8cc2d7d8eebb3d50903946126176130d80954106"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "assert_PROP (joins v1 v2) as H by apply ghost_snap_conflict.",
            "VernacExtend",
            "c76fd82a39b1faf69d35e42c4eb9cad39f5acbb8"
        ],
        [
            "destruct H as [v]; Exists v; entailer!.",
            "VernacExtend",
            "f620d8a297d61d01b474de72324cd604b329de71"
        ],
        [
            "erewrite ghost_snap_join; eauto.",
            "VernacExtend",
            "6ea60065581233068c4a20680ed89205307c7c9f"
        ],
        [
            "apply derives_refl.",
            "VernacExtend",
            "e6aad07de74a98e9e95ce8bc0aeafdd1290e4b6f"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "Intros v; erewrite ghost_snap_join; eauto.",
            "VernacExtend",
            "9bda595c591ef63002b518771a5eced5d79bf0d0"
        ],
        [
            "apply derives_refl.",
            "VernacExtend",
            "e6aad07de74a98e9e95ce8bc0aeafdd1290e4b6f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition ghost_master sh (a : @G P) p := own p (sh, a) NoneP.",
            "VernacDefinition",
            "70e5cc553b36b7c6408a871734e7167759e86fa2"
        ],
        [
            "Lemma snap_master_join : forall v1 sh v2 p, sh <> Share.bot -> ghost_snap v1 p * ghost_master sh v2 p = !!(ord v1 v2) && ghost_master sh v2 p.",
            "VernacStartTheoremProof",
            "91725f5bacaf7da5f5ea2c321c550d468c38edfb"
        ],
        [
            "intros; setoid_rewrite own_op'.",
            "VernacExtend",
            "14d03608be1909c4bbdacdf8f9f47003f2c3d419"
        ],
        [
            "apply pred_ext.",
            "VernacExtend",
            "9b03db08834ebab822f3dce151d20d6efb17f5ba"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "Intros a3.",
            "VernacExtend",
            "e88883ef6fb817ab7c6d15589e705e4ddcb1ebc7"
        ],
        [
            "destruct a3 as (sh', ?), H0 as [Hsh Hj]; simpl in *.",
            "VernacExtend",
            "a6b94a6c2a127d6fc7edd5f9ffe105a3a4b182cd"
        ],
        [
            "apply bot_identity in Hsh; subst sh'.",
            "VernacExtend",
            "3a95281b99c39f3a1530e53dcd444e59c3c3efa2"
        ],
        [
            "rewrite eq_dec_refl in Hj.",
            "VernacExtend",
            "fd1d16d8c3635b7a39dcdd2866ffeb07984107dd"
        ],
        [
            "destruct (eq_dec sh Share.bot); [contradiction|].",
            "VernacExtend",
            "ebda6d73154f2e8078dbbbd224702196a968aaeb"
        ],
        [
            "destruct Hj; subst; entailer!.",
            "VernacExtend",
            "c8e3c9a6ddd48cb2d0bc7ca0dd792bb7af986be1"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "Intros; Exists (sh, v2); entailer!.",
            "VernacExtend",
            "163d4ba8566f367cadfd1c3143365f24ca81f858"
        ],
        [
            "split; simpl; rewrite ?eq_dec_refl.",
            "VernacExtend",
            "af25570b639029ad161b00053bac365a3beb712d"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply bot_join_eq.",
            "VernacExtend",
            "06ddaa5559f41278d42336d5414d3e48e3773958"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "if_tac; auto; contradiction.",
            "VernacExtend",
            "532455c07489685c0bd603d320cf30b6f805709d"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply derives_refl.",
            "VernacExtend",
            "e6aad07de74a98e9e95ce8bc0aeafdd1290e4b6f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Corollary snaps_master_join : forall lv sh v2 p, sh <> Share.bot -> fold_right sepcon emp (map (fun v => ghost_snap v p) lv) * ghost_master sh v2 p = !!(Forall (fun v1 => ord v1 v2) lv) && ghost_master sh v2 p.",
            "VernacStartTheoremProof",
            "a9b1eedf754df532cf586b62400dc8cf27803f33"
        ],
        [
            "induction lv; simpl; intros.",
            "VernacExtend",
            "d79bbdc73f79ca5ebb9d4802ddc2053d3056e353"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "rewrite emp_sepcon, prop_true_andp; auto.",
            "VernacExtend",
            "58c8e3e11608f54c06511ef789c8f82576391a73"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "rewrite sepcon_comm, <- sepcon_assoc, (sepcon_comm (ghost_master _ _ _)), snap_master_join by auto.",
            "VernacExtend",
            "22e4d8bbcede7ec32455b300fb5a4a2206db1aea"
        ],
        [
            "apply pred_ext.",
            "VernacExtend",
            "9b03db08834ebab822f3dce151d20d6efb17f5ba"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "Intros; rewrite sepcon_comm, IHlv by auto; entailer!.",
            "VernacExtend",
            "c01c72863231a80903af1d92eb5fb3da7ea9788d"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "Intros.",
            "VernacExtend",
            "58784a78af6fa36ccbd531d2a460b187e88b99db"
        ],
        [
            "match goal with H : Forall _ _ |- _ => inv H end.",
            "VernacExtend",
            "a647ad59cc8f9180feec8228fc7139ef83112e5a"
        ],
        [
            "rewrite prop_true_andp, sepcon_comm, IHlv by auto; entailer!.",
            "VernacExtend",
            "2b28cecc2e258776ce32aff4b75f25619e905c19"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma master_update : forall v v' p, ord v v' -> ghost_master Tsh v p |-- |==> ghost_master Tsh v' p.",
            "VernacStartTheoremProof",
            "e27a574469aec5bd71f29feabab09112e27fe40a"
        ],
        [
            "intros; apply own_update.",
            "VernacExtend",
            "19dd011f1c55ce8285e82c272de790c89ded909a"
        ],
        [
            "intros ? (x & Hj & _); simpl in Hj.",
            "VernacExtend",
            "0dd093917daef69b3904c41ed8a45582c749c061"
        ],
        [
            "exists (Tsh, v'); simpl; split; auto.",
            "VernacExtend",
            "c952d69c387ed173b226702e9edf2d354d82147a"
        ],
        [
            "destruct Hj as [Hsh Hj]; simpl in *.",
            "VernacExtend",
            "ee90e88ec0ec1035e11eb794e67b0d088d28ab88"
        ],
        [
            "apply join_Tsh in Hsh as []; destruct c, x; simpl in *; subst.",
            "VernacExtend",
            "487358cc0f4222ba3a7aed813ca970fe117a5441"
        ],
        [
            "split; auto; simpl.",
            "VernacExtend",
            "00d5326321c3cbfb49a562799d01b977e17ae3cc"
        ],
        [
            "fold share in *; destruct (eq_dec Tsh Share.bot); [contradiction Share.nontrivial|].",
            "VernacExtend",
            "1b4557bfee1a214fea954dcf0076c1f2dfaab77e"
        ],
        [
            "destruct Hj as [? Hc']; subst.",
            "VernacExtend",
            "4b7c94e53e4cfa57077c028e0077573256c2f28e"
        ],
        [
            "rewrite eq_dec_refl in Hc' |- *; split; auto.",
            "VernacExtend",
            "cdd7cfb3c16714b018a02aded33e594e34023798"
        ],
        [
            "etransitivity; eauto.",
            "VernacExtend",
            "9a7a03ac784b775f6203b3104ab84c89b908a8ba"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma master_init : forall (a : @G P), exists g', joins (Tsh, a) g'.",
            "VernacStartTheoremProof",
            "b700db964859f3f36467158136e983593c174421"
        ],
        [
            "intros; exists (Share.bot, a), (Tsh, a); simpl.",
            "VernacExtend",
            "391c7be92295dd274ef4c5a12551f66ea8732d4b"
        ],
        [
            "split; auto; simpl.",
            "VernacExtend",
            "00d5326321c3cbfb49a562799d01b977e17ae3cc"
        ],
        [
            "apply join_refl.",
            "VernacExtend",
            "96d5f165678d3b1310d0265ea66f3a7834b69d8a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma make_snap : forall (sh : share) v p, ghost_master sh v p |-- |==> ghost_snap v p * ghost_master sh v p.",
            "VernacStartTheoremProof",
            "299c7b020233557b3a582a802e2606da75026254"
        ],
        [
            "intros; destruct (eq_dec sh Share.bot).",
            "VernacExtend",
            "bc034965d6eb20d7d7c5a9021be6e199826e8d8e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "subst; setoid_rewrite ghost_snap_join; [apply bupd_intro | apply join_refl].",
            "VernacExtend",
            "32f801387db2e11afd0a882994246ec028d202cf"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "rewrite snap_master_join by auto.",
            "VernacExtend",
            "5915b237b59e82bbf96a4cd4a44409c1c492b4af"
        ],
        [
            "eapply derives_trans, bupd_intro; entailer!.",
            "VernacExtend",
            "ea882a2a446c108282036e23a59ff37260ad58f0"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma ghost_snap_forget : forall v1 v2 p, ord v1 v2 -> ghost_snap v2 p |-- |==> ghost_snap v1 p.",
            "VernacStartTheoremProof",
            "55f5ad44ea0241957fe1e331d843cc2427447eb0"
        ],
        [
            "intros; apply own_update.",
            "VernacExtend",
            "19dd011f1c55ce8285e82c272de790c89ded909a"
        ],
        [
            "intros (shc, c) [(shx, x) [[? Hj] _]]; simpl in *.",
            "VernacExtend",
            "21a7f830e21584da85f701b8e198a6c2ec890b60"
        ],
        [
            "rewrite eq_dec_refl in Hj.",
            "VernacExtend",
            "fd1d16d8c3635b7a39dcdd2866ffeb07984107dd"
        ],
        [
            "assert (shx = shc) by (eapply sepalg.join_eq; eauto); subst.",
            "VernacExtend",
            "a32703d3a34500c36b365b2c494d37b256d738c9"
        ],
        [
            "unfold share in Hj; destruct (eq_dec shc Share.bot); subst.",
            "VernacExtend",
            "dd65e9c39cb386e17eea886906012df1e530249c"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct (join_compat _ _ _ _ Hj H) as [x' []].",
            "VernacExtend",
            "c8387b56d178546523a41b7b299d4b35cdf38628"
        ],
        [
            "exists (Share.bot, x'); simpl; split; auto; split; auto; simpl.",
            "VernacExtend",
            "a1bae3eacb6f50eeb682bf6e6c114e7cb3839711"
        ],
        [
            "rewrite !eq_dec_refl; auto.",
            "VernacExtend",
            "177e466c0f4e28b318424c2496ac4602a00a3c92"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct Hj; subst.",
            "VernacExtend",
            "1d3f9ba823e2a9b60dcd6b344ada9fe37e4a71af"
        ],
        [
            "exists (shc, c); simpl; split; auto; split; auto; simpl.",
            "VernacExtend",
            "d1ed518e8ba8b67af05452b16c9b11745d5bad13"
        ],
        [
            "rewrite eq_dec_refl; if_tac; [contradiction|].",
            "VernacExtend",
            "2762406f9386985b99cd5fd48c953a847dc74e3b"
        ],
        [
            "split; auto.",
            "VernacExtend",
            "fcd44a714bd12fa54b1c7746996e44dbac16df06"
        ],
        [
            "etransitivity; eauto.",
            "VernacExtend",
            "9a7a03ac784b775f6203b3104ab84c89b908a8ba"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma ghost_snap_choose : forall v1 v2 p, ghost_snap v1 p * ghost_snap v2 p |-- |==> ghost_snap v1 p.",
            "VernacStartTheoremProof",
            "27b1d8ffac8c4c103c3421d547ccbb9e51b17705"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "setoid_rewrite own_op'.",
            "VernacExtend",
            "c3ccd59a78cea7979fcb288aa5a91ac3f3988190"
        ],
        [
            "Intros v'.",
            "VernacExtend",
            "a1cfc263089e8ce4555c2d39745f59b7d7386c29"
        ],
        [
            "destruct v', H as [Hsh Hj]; apply bot_identity in Hsh; simpl in *; subst.",
            "VernacExtend",
            "2e5e993005197808ce7cb956cbc89e37a6a92402"
        ],
        [
            "rewrite !eq_dec_refl in Hj.",
            "VernacExtend",
            "e6add1659b0c7e90930e91f23d211affa2e5a961"
        ],
        [
            "apply ghost_snap_forget.",
            "VernacExtend",
            "86b92d14437ebbbc2a29beeb2ad7f8a49684a11c"
        ],
        [
            "rewrite join_ord_eq; eauto.",
            "VernacExtend",
            "04575fc4402710144c225d586970f662398a6dcf"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma master_share_join : forall sh1 sh2 sh v p, sepalg.join sh1 sh2 sh -> ghost_master sh1 v p * ghost_master sh2 v p = ghost_master sh v p.",
            "VernacStartTheoremProof",
            "d0b7e0401dba21d92349374fa6768d161c2761db"
        ],
        [
            "intros; symmetry; apply own_op; split; auto; simpl.",
            "VernacExtend",
            "5aa1010e4716e0ab33d7f9e6eb93d2f4a4196f4c"
        ],
        [
            "if_tac; if_tac; try split; auto; try apply ord_refl; apply join_refl.",
            "VernacExtend",
            "88831f6ec06ec9546fed441a7594d5bbed176566"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma master_inj : forall sh1 sh2 v1 v2 p, readable_share sh1 -> readable_share sh2 -> ghost_master sh1 v1 p * ghost_master sh2 v2 p |-- !!(v1 = v2).",
            "VernacStartTheoremProof",
            "9a28bf583623b04a1113b5d311471105e1054b07"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "eapply derives_trans; [apply own_valid_2|].",
            "VernacExtend",
            "652596ce975294e677e0466ac413fa831da0ad03"
        ],
        [
            "apply prop_left; intros ((?, ?) & [[? Hj] _]); simpl in Hj.",
            "VernacExtend",
            "4275f49367b74c2bab522399ed680122afc896b2"
        ],
        [
            "fold share in *.",
            "VernacExtend",
            "240f08a0b31eb60343de3c4c35fc85ac0cc105ba"
        ],
        [
            "destruct (eq_dec sh1 Share.bot); [subst; contradiction unreadable_bot|].",
            "VernacExtend",
            "e9f062f8b0f47b9a13a9bdd0c543debf84a35979"
        ],
        [
            "destruct (eq_dec sh2 Share.bot); [subst; contradiction unreadable_bot|].",
            "VernacExtend",
            "8bbc5f2222f2eeae0854ccb9b5769f80ee0d59da"
        ],
        [
            "destruct Hj; subst; apply prop_right; auto.",
            "VernacExtend",
            "5485ad39b2a60cf07ab20177c20b2bc63a653314"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma master_share_join' : forall sh1 sh2 sh v1 v2 p, readable_share sh1 -> readable_share sh2 -> sepalg.join sh1 sh2 sh -> ghost_master sh1 v1 p * ghost_master sh2 v2 p = !!(v1 = v2) && ghost_master sh v2 p.",
            "VernacStartTheoremProof",
            "2e3f7723eb49326e3fbb2f67e91e778d45b58924"
        ],
        [
            "intros; apply pred_ext.",
            "VernacExtend",
            "8cc2d7d8eebb3d50903946126176130d80954106"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "assert_PROP (v1 = v2) by (apply master_inj; auto).",
            "VernacExtend",
            "201d031b51315457b1612ef9307d8b21e2870663"
        ],
        [
            "subst; erewrite master_share_join; eauto; entailer!.",
            "VernacExtend",
            "d637aed86941c20469052ee4478ebb97e8209838"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "Intros; subst.",
            "VernacExtend",
            "bb819825c371ad6e885b36f6d440530f945f88d0"
        ],
        [
            "erewrite master_share_join; eauto.",
            "VernacExtend",
            "ef7df44be51ff7ce77beb79e8b482fd0d0e6ea26"
        ],
        [
            "apply derives_refl.",
            "VernacExtend",
            "e6aad07de74a98e9e95ce8bc0aeafdd1290e4b6f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition ghost_master1 a p := ghost_master Tsh a p.",
            "VernacDefinition",
            "c85b11cb789545c229c06977687248ccb96ae90a"
        ],
        [
            "Lemma snap_master_join1 : forall v1 v2 p, ghost_snap v1 p * ghost_master1 v2 p = !!(ord v1 v2) && ghost_master1 v2 p.",
            "VernacStartTheoremProof",
            "9f6117742617848cf1236c088d11bcbafd23db26"
        ],
        [
            "intros; apply snap_master_join, Share.nontrivial.",
            "VernacExtend",
            "f2a26591a13be8b0437ceae4b81ca7cb92c998d7"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma snap_master_update1 : forall v1 v2 p v', ord v2 v' -> ghost_snap v1 p * ghost_master1 v2 p |-- |==> ghost_snap v' p * ghost_master1 v' p.",
            "VernacStartTheoremProof",
            "09cd8889877460141e27532a755bfaa1a3784b72"
        ],
        [
            "intros; rewrite !snap_master_join1.",
            "VernacExtend",
            "40d894a43ac5edc20e6fbc496d9dc209546c9b8d"
        ],
        [
            "Intros.",
            "VernacExtend",
            "58784a78af6fa36ccbd531d2a460b187e88b99db"
        ],
        [
            "eapply derives_trans; [apply master_update; eauto|].",
            "VernacExtend",
            "8e3ae4d0e30a6c6a0d8ef0cae108095d050e0a47"
        ],
        [
            "apply bupd_mono; entailer!.",
            "VernacExtend",
            "a9b37f1b47d9f4f0cbcd8ad0d8f3cbf4ae4ce954"
        ],
        [
            "apply derives_refl.",
            "VernacExtend",
            "e6aad07de74a98e9e95ce8bc0aeafdd1290e4b6f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End Snapshot.",
            "VernacEndSegment",
            "d29493340f7643082cba7a7bc86ee6a2ec226920"
        ],
        [
            "Definition pos_PCM := ghost_PCM.pos_PCM.",
            "VernacDefinition",
            "b65e90a1bba4c05e54cb6d50ffb429aebc4f11ee"
        ],
        [
            "Definition ref_PCM := ghost_PCM.ref_PCM.",
            "VernacDefinition",
            "232bdfe189c66ee99d4cf86356f825c3d14d7b3d"
        ],
        [
            "Notation completable := ghost_PCM.completable.",
            "VernacSyntacticDefinition",
            "4de04a0d2eccecfa558ef20e0a516111ffc0e992"
        ],
        [
            "Section Reference.",
            "VernacBeginSection",
            "7f3a6fbeb93cc454ed4be986ca03d788a37497ad"
        ],
        [
            "Context {P : Ghost}.",
            "VernacContext",
            "e73207ebdd6404d7daec93f37ba315ba59aea1b6"
        ],
        [
            "Definition ghost_reference g a := own(RA := ref_PCM P) g (None, Some a) NoneP.",
            "VernacDefinition",
            "33193f6828c90b2d6f38054cc5adadb67641dba4"
        ],
        [
            "Definition ghost_part g sh a := own(RA := ref_PCM P) g (Some (sh, a), None) NoneP.",
            "VernacDefinition",
            "a3c11ba409e0b5d66ee65ca5f249dbf5ccc9aa6a"
        ],
        [
            "Definition ghost_part_ref g sh a r := own(RA := ref_PCM P) g (Some (sh, a), Some r) NoneP.",
            "VernacDefinition",
            "64378860ceb681885834f940bbb4a3ca71807caa"
        ],
        [
            "Lemma ghost_part_ref_join : forall g (sh : share) a b, ghost_part g sh a * ghost_reference g b = ghost_part_ref g sh a b.",
            "VernacStartTheoremProof",
            "ab0b2833b7ab38444c802ddb133d4e24c88dbf69"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "symmetry; apply own_op.",
            "VernacExtend",
            "8641d1b06ad0a896bafcd770209e0c41e71327ed"
        ],
        [
            "hnf; simpl.",
            "VernacExtend",
            "4267e796fe98780d5775d90b490e2b3e0222d364"
        ],
        [
            "split; auto; constructor.",
            "VernacExtend",
            "69f2e82eac26e5936f6d70b018eb44c4f4b50946"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma ref_sub : forall g sh a b pp, own(RA := ref_PCM P) g (Some (sh, a), None) pp * own(RA := ref_PCM P) g (None, Some b) pp |-- !!(if eq_dec sh Tsh then a = b else exists x, join a x b).",
            "VernacStartTheoremProof",
            "7b038ad7370c5047dbe7584a0daf7d8dd98ce390"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "eapply derives_trans; [apply own_valid_2|].",
            "VernacExtend",
            "652596ce975294e677e0466ac413fa831da0ad03"
        ],
        [
            "apply prop_left; intros (c & [Hsh Hj] & ?); simpl in *.",
            "VernacExtend",
            "8231624d96e676a58f87912f040ad32440d80eb6"
        ],
        [
            "apply prop_right.",
            "VernacExtend",
            "951daa52f148695942d4aefc563d5e92d8ec02ff"
        ],
        [
            "destruct (fst c); [subst | contradiction].",
            "VernacExtend",
            "d6e1ffd343a91ce897799f0e3a559e6f6ffe01c1"
        ],
        [
            "inv Hj.",
            "VernacExtend",
            "5fab1cf62b451d709140738e020a4337087a1c64"
        ],
        [
            "rewrite <- H0 in H.",
            "VernacExtend",
            "a6c391ea2ef389fc353ff5fa2171f50bd2b9da41"
        ],
        [
            "destruct H as (? & c' & Hsub).",
            "VernacExtend",
            "036f883ff78418671d1b5db8039d12862c676464"
        ],
        [
            "destruct c' as [(?, ?)|].",
            "VernacExtend",
            "c1e1b83ffdaebb384524f56d95fd65c2634f629a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct Hsub as (? & ? & Hsh & ?).",
            "VernacExtend",
            "fb837eccb9822a6294f7bbe43946e8e88c6d13bf"
        ],
        [
            "if_tac; eauto; subst.",
            "VernacExtend",
            "9cabaf7a88f9364935505fd1f6b41c93d8db0026"
        ],
        [
            "apply join_Tsh in Hsh; tauto.",
            "VernacExtend",
            "436cc459de65690658dc037355d63ec06d505207"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inv Hsub.",
            "VernacExtend",
            "655e88b063a162a1fe1fff57bc7aaaf860115fee"
        ],
        [
            "rewrite eq_dec_refl; auto.",
            "VernacExtend",
            "d0f183f79590ce7220aaf8dc6e0509aac828f6ee"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma ref_add : forall g sh a r b a' r' pp (Ha : join a b a') (Hr : join r b r') (Hb : forall c, join_sub a c -> join_sub c r -> joins c b), own(RA := ref_PCM P) g (Some (sh, a), Some r) pp |-- |==> own(RA := ref_PCM P) g (Some (sh, a'), Some r') pp.",
            "VernacStartTheoremProof",
            "9d8b62ebbf3315e8966d38e26e55a5c1c51c4eeb"
        ],
        [
            "intros; apply own_update.",
            "VernacExtend",
            "19dd011f1c55ce8285e82c272de790c89ded909a"
        ],
        [
            "intros (c, ?) ((x, ?) & [J1 J2] & [? Hvalid]); simpl in *.",
            "VernacExtend",
            "c726e132deabff4b1277f715ab9a29099798456b"
        ],
        [
            "inv J2; [|contradiction].",
            "VernacExtend",
            "8d537c5f0bdf43bc10fc11d92a5cb6e29e3b3484"
        ],
        [
            "destruct c as [(?, c)|], x as [(shx, x)|]; try contradiction.",
            "VernacExtend",
            "25114117f772bf097bef58490c6a75032baffff2"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct J1 as (? & ? & ? & Hx).",
            "VernacExtend",
            "380422515efce881031cd3cb34ec912540eed404"
        ],
        [
            "destruct (Hb x) as [x' Hx'].",
            "VernacExtend",
            "4af32a881d73e183dae92f4d48bf21ed6464a2ac"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "eexists; eauto.",
            "VernacExtend",
            "02215ff570a78e8dfed0585aa87594983a8aa0fb"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "destruct Hvalid as [[(?, ?)|] Hvalid]; hnf in Hvalid.",
            "VernacExtend",
            "1308ed257a714623b17a4fc756703187a577915d"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct Hvalid as (? & ? & ? & ?); eexists; eauto.",
            "VernacExtend",
            "6e7f58828483c1da5dcdde235ab16cf8bf3d0606"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "inv Hvalid; apply join_sub_refl.",
            "VernacExtend",
            "1b0d972ed9ae7db268ae773c08c0029acd3c6e53"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "exists (Some (shx, x'), Some r'); repeat (split; auto); try constructor; simpl.",
            "VernacExtend",
            "c4a54e07102758d7330558c0e6cde8f8533d7a03"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (join_assoc (join_comm Hx) Hx') as (? & ? & ?).",
            "VernacExtend",
            "435ef0c32d1abc05a16b81f93ab842d7b572d860"
        ],
        [
            "eapply join_eq in Ha; eauto; subst; auto.",
            "VernacExtend",
            "d43f3368b6f8ffa9af115807187b22d5ee37fc6a"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct Hvalid as (d & Hvalid); hnf in Hvalid.",
            "VernacExtend",
            "dadb280758e58b0e145b912a63b9356dd3555044"
        ],
        [
            "exists d; destruct d as [(shd, d)|]; hnf.",
            "VernacExtend",
            "ebf31676c957ac1d1f65cb89c284b7dd5f15989d"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "destruct Hvalid as (? & ? & ? & Hd); repeat (split; auto).",
            "VernacExtend",
            "39baf47887865504bb812854e05678aba04010c3"
        ],
        [
            "destruct (join_assoc (join_comm Hd) Hr) as (? & ? & ?).",
            "VernacExtend",
            "d837a6db8fe94b184e6d63b2f636e31c01461bd7"
        ],
        [
            "eapply join_eq in Hx'; eauto; subst; auto.",
            "VernacExtend",
            "3ddd9d0f946bd6bcf97b4a19625bbf9b2e9e64cb"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "inv Hvalid; f_equal.",
            "VernacExtend",
            "30ef9afe74b0c2b20b60011454756a9c6e1245b3"
        ],
        [
            "eapply join_eq; eauto.",
            "VernacExtend",
            "ccf59f1f695e4c180b0ea6a817cf2aad71c65ad6"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inv J1.",
            "VernacExtend",
            "d81dd68654abd716496fc9cc8cd037487a7c714b"
        ],
        [
            "exists (Some (sh, a'), Some r'); repeat split; simpl; auto; try constructor.",
            "VernacExtend",
            "c7f42b32e60826def542b5350d06a8bb1dffb54c"
        ],
        [
            "destruct Hvalid as (d & Hvalid); hnf in Hvalid.",
            "VernacExtend",
            "dadb280758e58b0e145b912a63b9356dd3555044"
        ],
        [
            "exists d; destruct d as [(shd, d)|]; hnf.",
            "VernacExtend",
            "ebf31676c957ac1d1f65cb89c284b7dd5f15989d"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct Hvalid as (? & ? & ? & Hd); repeat (split; auto).",
            "VernacExtend",
            "39baf47887865504bb812854e05678aba04010c3"
        ],
        [
            "destruct (join_assoc (join_comm Hd) Hr) as (? & ? & ?).",
            "VernacExtend",
            "d837a6db8fe94b184e6d63b2f636e31c01461bd7"
        ],
        [
            "eapply join_eq in Ha; eauto; subst; auto.",
            "VernacExtend",
            "d43f3368b6f8ffa9af115807187b22d5ee37fc6a"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "inv Hvalid; f_equal.",
            "VernacExtend",
            "30ef9afe74b0c2b20b60011454756a9c6e1245b3"
        ],
        [
            "eapply join_eq; eauto.",
            "VernacExtend",
            "ccf59f1f695e4c180b0ea6a817cf2aad71c65ad6"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma self_completable : forall a, completable (Some (Tsh, a)) a.",
            "VernacStartTheoremProof",
            "64ec9fd284028673b7a0bcfed2418a2a58f5c6bc"
        ],
        [
            "intros; unfold completable.",
            "VernacExtend",
            "e1bba6c26c19374769a8291ae1f60a458894b031"
        ],
        [
            "exists None; constructor.",
            "VernacExtend",
            "6cd9f7494e5722c3726e1562a7adf907d2a8d776"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End Reference.",
            "VernacEndSegment",
            "6d9487ad616455d0802323891de0c2f05a7e126d"
        ],
        [
            "Hint Resolve self_completable : init.",
            "VernacHints",
            "dc49513a4159a838a93a43e65d035f33ecbe4ca0"
        ],
        [
            "Section Discrete.",
            "VernacBeginSection",
            "7bf0697be4cbb2462fb036ba39a8d8ee20bd87bc"
        ],
        [
            "Program Instance discrete_PCM (A : Type) : Ghost := { valid a := True; Join_G := Join_equiv A }.",
            "VernacInstance",
            "73074bfc75bcf150b422749df3cd6aa90a0a1324"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "End Discrete.",
            "VernacEndSegment",
            "eb5300c0e9e107b5085385b7ebe12d04fcf8eaf6"
        ],
        [
            "Section GVar.",
            "VernacBeginSection",
            "2396b8d141a7c1d22ad8563dd177b5ca5fd67ac9"
        ],
        [
            "Context {A : Type}.",
            "VernacContext",
            "c9c3c92f9391cb196430f2c558473771d9c86d28"
        ],
        [
            "Definition ghost_var (sh : share) (v : A) g := own(RA := @pos_PCM (discrete_PCM A)) g (Some (sh, v)) NoneP.",
            "VernacDefinition",
            "e1cbe5f6775e66a0fb64245d6a6ebc4f9b00a923"
        ],
        [
            "Lemma ghost_var_share_join : forall sh1 sh2 sh v p, sepalg.join sh1 sh2 sh -> sh1 <> Share.bot -> sh2 <> Share.bot -> ghost_var sh1 v p * ghost_var sh2 v p = ghost_var sh v p.",
            "VernacStartTheoremProof",
            "87908d87439dc4bca850fda6e31a7f7c75515c69"
        ],
        [
            "intros; symmetry; apply own_op.",
            "VernacExtend",
            "383aead7a8bfd217a8251c487382ce9ae89b9947"
        ],
        [
            "repeat (split; auto).",
            "VernacExtend",
            "fbc5463ee8164c7d7a0414a82c6ea4aa4f8c6b04"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma ghost_var_share_join_gen : forall sh1 sh2 v1 v2 p, ghost_var sh1 v1 p * ghost_var sh2 v2 p = EX sh : _, !!(v1 = v2 /\\ sh1 <> Share.bot /\\ sh2 <> Share.bot /\\ sepalg.join sh1 sh2 sh) && ghost_var sh v1 p.",
            "VernacStartTheoremProof",
            "7f431b0b20850fd90b7d40f4b748e7eb359f13ac"
        ],
        [
            "intros; setoid_rewrite own_op'.",
            "VernacExtend",
            "14d03608be1909c4bbdacdf8f9f47003f2c3d419"
        ],
        [
            "apply pred_ext.",
            "VernacExtend",
            "9b03db08834ebab822f3dce151d20d6efb17f5ba"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "Intros a.",
            "VernacExtend",
            "dbd1ae61f47d1799aef39a963b54828570a828a0"
        ],
        [
            "destruct a as [(sh, v')|]; inv H.",
            "VernacExtend",
            "ad0ca30e116d1be0e7dfe6baf02558c50575d56b"
        ],
        [
            "destruct H2 as (? & ? & Hv); inv Hv.",
            "VernacExtend",
            "d4b8fe9db06de7249264c198ae83466d51d6c279"
        ],
        [
            "Exists sh; entailer!.",
            "VernacExtend",
            "241d41e32de352d1a175ab473469d3d74de465c1"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "Intros sh; subst.",
            "VernacExtend",
            "7cd17be53aff90c2cb46ddc62f6448d611d9bb1c"
        ],
        [
            "Exists (Some (sh, v2)); apply andp_right, derives_refl.",
            "VernacExtend",
            "28aac5c2dd0005414b6f704eb41d3756950eb0af"
        ],
        [
            "apply prop_right; repeat (split; auto); simpl.",
            "VernacExtend",
            "d7ac21e92251df489d9911d9492c67768e4520e0"
        ],
        [
            "intro; subst; apply join_Bot in H2 as []; contradiction.",
            "VernacExtend",
            "b3587b80c0f0d90875af97aa6cf522e3ce2c7e6d"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma ghost_var_inj : forall sh1 sh2 v1 v2 p, sh1 <> Share.bot -> sh2 <> Share.bot -> ghost_var sh1 v1 p * ghost_var sh2 v2 p |-- !!(v1 = v2).",
            "VernacStartTheoremProof",
            "fae5873fcbee2276c95c13f7d4d2d209db0904e0"
        ],
        [
            "intros; rewrite ghost_var_share_join_gen; Intros sh; entailer!.",
            "VernacExtend",
            "406f9e5cc592b1baf40699277e9408c0845a0a64"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma ghost_var_share_join' : forall sh1 sh2 sh v1 v2 p, sh1 <> Share.bot -> sh2 <> Share.bot -> sepalg.join sh1 sh2 sh -> ghost_var sh1 v1 p * ghost_var sh2 v2 p = !!(v1 = v2) && ghost_var sh v2 p.",
            "VernacStartTheoremProof",
            "1a6807bacbc126a8eee22c77fc77af7548ec3662"
        ],
        [
            "intros; rewrite ghost_var_share_join_gen.",
            "VernacExtend",
            "487be2060ded182a613fe9a5c95e005ade77cbb0"
        ],
        [
            "apply pred_ext.",
            "VernacExtend",
            "9b03db08834ebab822f3dce151d20d6efb17f5ba"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "Intros sh'; entailer!.",
            "VernacExtend",
            "8dd1791eed6d6c82096dd55a66b0b9c8ec819600"
        ],
        [
            "eapply join_eq in H1; eauto; subst; auto.",
            "VernacExtend",
            "7ab62e396a60886bb93e1a84053a488589c5f097"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "Intros; Exists sh; entailer!.",
            "VernacExtend",
            "aa4b5c4a9ad9599c9fe75e2a02898e1b44538308"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma ghost_var_update : forall v p v', ghost_var Tsh v p |-- |==> ghost_var Tsh v' p.",
            "VernacStartTheoremProof",
            "b96afaefcc370f531ef11d7970b8f020a8c4b0f3"
        ],
        [
            "intros; apply own_update.",
            "VernacExtend",
            "19dd011f1c55ce8285e82c272de790c89ded909a"
        ],
        [
            "intros [[]|] ([[]|] & J & ?); inv J.",
            "VernacExtend",
            "07aab2635f5cef43199499273f968466660793c4"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct H1 as (? & ?%join_Tsh & ?); tauto.",
            "VernacExtend",
            "3b6a941533032119d797f6f2219249c355573385"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exists (Some (Tsh, v')); split; [constructor | auto].",
            "VernacExtend",
            "7498a3107b3c453c23381c902f9519c02cbc9d11"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End GVar.",
            "VernacEndSegment",
            "a2cf8c710dd9dabe1fdf333eee84e1bb32219507"
        ],
        [
            "Section PVar.",
            "VernacBeginSection",
            "7ca53bfeaa4903e53974cce95813ea432c74f9bd"
        ],
        [
            "Global Program Instance nat_PCM: Ghost := { valid a := True; Join_G a b c := c = Nat.max a b }.",
            "VernacInstance",
            "2fc8a30f20d34664d7ac58ca07c6ccf70e283cbb"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "exists (fun _ => O); auto; intros.",
            "VernacExtend",
            "e2e2fd050a537b6526251c8d396fa95aab347c5d"
        ],
        [
            "apply Nat.max_0_l.",
            "VernacExtend",
            "fe304b5c880ae127f7d3c9d072a50ea396bc9abe"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold join; congruence.",
            "VernacExtend",
            "048fad9571e4ddb89e96f8f37d885a295a9b263f"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold join; eexists; split; eauto.",
            "VernacExtend",
            "76738fb0f1cfdb438d731855a2987e27ef98ad1b"
        ],
        [
            "rewrite Nat.max_assoc; subst; auto.",
            "VernacExtend",
            "32c2600a1bdd74026055a4ca75dc4a39b4d67a98"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold join; intros.",
            "VernacExtend",
            "4272863aabb9ee5be69e553b3b9f8649de82f371"
        ],
        [
            "rewrite Nat.max_comm; auto.",
            "VernacExtend",
            "a3828721a0a83d46fb378cab946b4bbb208b14c3"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold join; intros.",
            "VernacExtend",
            "4272863aabb9ee5be69e553b3b9f8649de82f371"
        ],
        [
            "apply Nat.le_antisymm; [subst b | subst a]; apply Nat.le_max_l.",
            "VernacExtend",
            "59be48c31770b952dff5b78c19810460e3f847dc"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Global Instance max_order : PCM_order le.",
            "VernacInstance",
            "f2219fd59be9c63fb3f466c11a3970a5fd38d378"
        ],
        [
            "constructor; auto; intros.",
            "VernacExtend",
            "53316fecf386fcbfee63ab3f42279831104d19f6"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros ???; omega.",
            "VernacExtend",
            "c868bcd3640daa114af76c620a3df6875b18e7b1"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eexists; unfold join; simpl; split; eauto.",
            "VernacExtend",
            "5fbd070d1f1a390faf2c63e0b63f5a6e4721e208"
        ],
        [
            "apply Nat.max_lub; auto.",
            "VernacExtend",
            "fca74bfa513f388471feef3ede59367857729b85"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "hnf in H; subst.",
            "VernacExtend",
            "41358306a1eb29ddb61ff57133d6b1b9220b0dce"
        ],
        [
            "split; [apply Nat.le_max_l | apply Nat.le_max_r].",
            "VernacExtend",
            "9ae96b3e5efbbea81f430b9a6e47d153bcfcbd12"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "hnf.",
            "VernacExtend",
            "93c9be61208bb2956fb47b51f12123e34260e667"
        ],
        [
            "rewrite Nat.max_l; auto.",
            "VernacExtend",
            "7aa8cd53f635aa8984fe2451f553b2c1391bbd19"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Lemma ghost_snap_join_N : forall v1 v2 p, ghost_snap v1 p * ghost_snap v2 p = ghost_snap (Nat.max v1 v2) p.",
            "VernacStartTheoremProof",
            "989ca5255b33b7690fce1e94e5703be6d1d867a2"
        ],
        [
            "intros; apply ghost_snap_join; hnf; auto.",
            "VernacExtend",
            "4ec61b58c050c0807783c6ae46f946cf553ba2bd"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma snap_master_join' : forall v1 v2 p, ghost_snap v1 p * ghost_master1 v2 p = !!(v1 <= v2)%nat && ghost_master1 v2 p.",
            "VernacStartTheoremProof",
            "2629bc7ecaa26509e5a1e5d1ee1c31646ccbda51"
        ],
        [
            "intros; apply snap_master_join1.",
            "VernacExtend",
            "76d64891d90e674c9d68a760fa6e2cc42cca1085"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma snap_master_update' : forall (v1 v2 : nat) p v', (v2 <= v')%nat -> ghost_snap v1 p * ghost_master1 v2 p |-- |==> ghost_snap v' p * ghost_master1 v' p.",
            "VernacStartTheoremProof",
            "3f939a885bd7e98e41d7f50a1a72d9fe8885232e"
        ],
        [
            "intros; apply snap_master_update1; auto.",
            "VernacExtend",
            "0777c153b2a087552338244577e05a18aa5d1bf5"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End PVar.",
            "VernacEndSegment",
            "ec2b3ec0bdc93ac2504bcd5d6eff9b0d48414935"
        ],
        [
            "Section Maps.",
            "VernacBeginSection",
            "47c3d8b38647b2f82545bdc9d91067c067e30ed2"
        ],
        [
            "Context {A B : Type} {A_eq : EqDec A}.",
            "VernacContext",
            "0fe0f855747a5e6901481b809e9e00aeba3ae816"
        ],
        [
            "Implicit Types (k : A) (v : B) (m : A -> option B).",
            "VernacReserve",
            "24ad9eec88e11ec9fb693915f2b6c94e4a084156"
        ],
        [
            "Definition map_upd m k v k' := if eq_dec k' k then Some v else m k'.",
            "VernacDefinition",
            "a3f2165bb10822ac9544a33830834c2cc6e10359"
        ],
        [
            "Lemma map_upd_triv : forall m k v, m k = Some v -> map_upd m k v = m.",
            "VernacStartTheoremProof",
            "e73b2bfc23a090d54aad0ae4425ab4b09c0c0386"
        ],
        [
            "intros; extensionality; unfold map_upd.",
            "VernacExtend",
            "f0d00092098bbc7d8523cbfcbb4a15c193d9ab4a"
        ],
        [
            "if_tac; subst; auto.",
            "VernacExtend",
            "3bcdd0ed955d7a9c586ca964b06506fda91d5147"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fixpoint map_upd_list m l := match l with | [] => m | (k, v) :: rest => map_upd_list (map_upd m k v) rest end.",
            "VernacFixpoint",
            "84eb55c7d749af05cc2c5f4063ff3711be8018d4"
        ],
        [
            "Definition map_add m1 m2 k := match m1 k with Some v' => Some v' | None => m2 k end.",
            "VernacDefinition",
            "dc3d9a5fdbe9c56964ac40ad9dfdf6b01aa2cd1b"
        ],
        [
            "Definition empty_map k : option B := None.",
            "VernacDefinition",
            "96f44e892bfdbef347711f6d6728b0d23500d23b"
        ],
        [
            "Global Instance Inhabitant_map : Inhabitant (A -> option B) := empty_map.",
            "VernacInstance",
            "088f67f485e64fd81379d3a49b68ab868e9655a2"
        ],
        [
            "Definition singleton k v k1 := if eq_dec k1 k then Some v else None.",
            "VernacDefinition",
            "069bafa2d5cb80f9af4eb030588b9d3ef4f3011f"
        ],
        [
            "Definition map_incl m1 m2 := forall k v, m1 k = Some v -> m2 k = Some v.",
            "VernacDefinition",
            "f86efe4bf72d6656622b51b51eb9273b6e2138d4"
        ],
        [
            "Global Instance map_incl_refl : Reflexive map_incl.",
            "VernacInstance",
            "177402056a5d2a80ae2c92905eb8d31b6c98b42e"
        ],
        [
            "repeat intro; auto.",
            "VernacExtend",
            "af8f80656e6d2b66b4c0a571d54310a8de54cc95"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Global Instance map_incl_antisym : Antisymmetric _ _ map_incl.",
            "VernacInstance",
            "8414231f46ab75e14f7a8b6c75ebcc95f71bdb9d"
        ],
        [
            "intros x y Hx Hy a.",
            "VernacExtend",
            "5aa545ff8554b2406f9fa28a295fdfb87968bce9"
        ],
        [
            "specialize (Hx a); specialize (Hy a).",
            "VernacExtend",
            "0ee19515cbc315524b9e91f299681c9aea04eb7e"
        ],
        [
            "destruct (x a); [erewrite Hx; eauto|].",
            "VernacExtend",
            "40203c183b80c9086266f16f9d7e0f6c57d53417"
        ],
        [
            "destruct (y a); auto.",
            "VernacExtend",
            "9f39727bce4ae27d98c2ac4b23db6879155c0dae"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Global Instance map_incl_trans : Transitive map_incl.",
            "VernacInstance",
            "8bd17a5b5568fbdefd7fbb737f827ec3ea376360"
        ],
        [
            "repeat intro; auto.",
            "VernacExtend",
            "af8f80656e6d2b66b4c0a571d54310a8de54cc95"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_add_incl_compat : forall m1 m2 m3, map_incl m1 m2 -> map_incl (map_add m3 m1) (map_add m3 m2).",
            "VernacStartTheoremProof",
            "a68972f5845feecf2c95267f214780a1d7944ea4"
        ],
        [
            "unfold map_add; repeat intro.",
            "VernacExtend",
            "0f7ebee894cc2baea5aa7bffeaf7b0c4e6593387"
        ],
        [
            "destruct (m3 k); auto.",
            "VernacExtend",
            "36d7f13f9867dfdf05be131f56d98663c24ef58d"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition compatible m1 m2 := forall k v1 v2, m1 k = Some v1 -> m2 k = Some v2 -> v1 = v2.",
            "VernacDefinition",
            "027631ad31c32a7637d5c452ad3a04590ece19f0"
        ],
        [
            "Global Instance compatible_refl : Reflexive compatible.",
            "VernacInstance",
            "3e292041301014962df562a85c96a6d576a517c5"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "congruence.",
            "VernacExtend",
            "d8c818f6cffeaee6a722a71acc77f2d6e5199eb9"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Global Instance compatible_comm : Symmetric compatible.",
            "VernacInstance",
            "298396cdb135b18450aaa5792582e5cd6d1e01e9"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "symmetry; eauto.",
            "VernacExtend",
            "7559cd13d1f61ba545f11383c961001d33890cf6"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_add_comm : forall m1 m2, compatible m1 m2 -> map_add m1 m2 = map_add m2 m1.",
            "VernacStartTheoremProof",
            "3d2368c95cc9fea8b414562c3dc2f7b9450842ef"
        ],
        [
            "intros; extensionality x; unfold map_add.",
            "VernacExtend",
            "975669b7c9976bf040c2b9dbb7941f0da20d5e07"
        ],
        [
            "destruct (m1 x) eqn: Hm1, (m2 x) eqn: Hm2; eauto.",
            "VernacExtend",
            "4782c6511892b8d5b2f19f6c5624ae30aca1abe6"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_add_assoc : forall m1 m2 m3, map_add (map_add m1 m2) m3 = map_add m1 (map_add m2 m3).",
            "VernacStartTheoremProof",
            "1d05303fb573ad75dc3a5d076be3b0dd3825c852"
        ],
        [
            "intros; extensionality; unfold map_add.",
            "VernacExtend",
            "4658efdee8ff5485819b31971f443077a3413fd0"
        ],
        [
            "destruct (m1 x); auto.",
            "VernacExtend",
            "5b8edaea5e2a5403a8dc08b1b3193e3f7aa9065d"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma compatible_add_assoc : forall m1 m2 m3, compatible m1 m2 -> compatible (map_add m1 m2) m3 -> compatible m1 (map_add m2 m3).",
            "VernacStartTheoremProof",
            "eac99ec4b824fb8ee6ad6603c06a53111b5d4467"
        ],
        [
            "unfold compatible, map_add; intros.",
            "VernacExtend",
            "92b62f234961ff72fd489ddd402482ff8209150b"
        ],
        [
            "repeat match goal with H : forall _, _ |- _ => specialize (H k) end.",
            "VernacExtend",
            "43a115574c4c7706796338532f14ca84bdd1806f"
        ],
        [
            "replace (m1 k) with (Some v1) in *.",
            "VernacExtend",
            "36d372933a5d2e08fea832356f177a5d0f377f22"
        ],
        [
            "destruct (m2 k); auto.",
            "VernacExtend",
            "3c07b7ec7fb31d1db2722c7e7b45efe9511ec570"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma compatible_incl : forall m1 m2 m (Hcompat : compatible m2 m) (Hincl : map_incl m1 m2), compatible m1 m.",
            "VernacStartTheoremProof",
            "1c39a6a288d15d0eecf6685880a551112c08636f"
        ],
        [
            "repeat intro; eauto.",
            "VernacExtend",
            "1436bdeeaf05a31f9ab8832a17ee80b3a005d792"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_incl_add : forall m1 m2, map_incl m1 (map_add m1 m2).",
            "VernacStartTheoremProof",
            "23172f092a2228ff03eecb4409edd059de89b0d5"
        ],
        [
            "repeat intro; unfold map_add.",
            "VernacExtend",
            "257d05db31828a8fae56be79a5a652cbcfcd34fb"
        ],
        [
            "rewrite H; auto.",
            "VernacExtend",
            "3e25713af8eaa76cddf9287af10d66733da2ee16"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_incl_compatible : forall m1 m2 m3 (Hincl1 : map_incl m1 m3) (Hincl2 : map_incl m2 m3), compatible m1 m2.",
            "VernacStartTheoremProof",
            "1da64437984ab5ab4fae1d1f90a32a0fe9c9d871"
        ],
        [
            "intros; intros ??? Hk1 Hk2.",
            "VernacExtend",
            "0a91d1f77104750cd396dbe39b6b8e664ddef23f"
        ],
        [
            "apply Hincl1 in Hk1; apply Hincl2 in Hk2.",
            "VernacExtend",
            "c69b7ea657a5d046d7ab7474f052ab3c83116a55"
        ],
        [
            "rewrite Hk1 in Hk2; inv Hk2; auto.",
            "VernacExtend",
            "0bf3ddd5c6b4f9e07d16e10857b201cf7c4597b8"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_add_incl : forall m1 m2 m3, map_incl m1 m3 -> map_incl m2 m3 -> map_incl (map_add m1 m2) m3.",
            "VernacStartTheoremProof",
            "9e074f17fb73e3005a01f91db0a199c5bac804f9"
        ],
        [
            "unfold map_add; intros.",
            "VernacExtend",
            "9ce5bc36b7ab1e8b3257f514dd4caba5db91ff30"
        ],
        [
            "intros ?? Hk.",
            "VernacExtend",
            "424e70f0b71fb4bd891d2e85a0a0a8fce62d075e"
        ],
        [
            "destruct (m1 k) eqn: Hk1; auto.",
            "VernacExtend",
            "350fe7775a215b35b3f0a752697cf3a00a833418"
        ],
        [
            "inv Hk; auto.",
            "VernacExtend",
            "3131629eb3a73a2f66513ad1fcad4b77c0885036"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Global Instance map_join : Join (A -> option B) := fun a b c => forall k v, c k = Some v <-> a k = Some v \\/ b k = Some v.",
            "VernacInstance",
            "5c57b1a8090b1ad47cdb171b8034d33bf4fb0989"
        ],
        [
            "Lemma map_join_spec : forall m1 m2 m3, join m1 m2 m3 <-> compatible m1 m2 /\\ m3 = map_add m1 m2.",
            "VernacStartTheoremProof",
            "3663fcf7c105212920cef637d7ccf664790bcde3"
        ],
        [
            "unfold join, map_join; simpl; split; intros.",
            "VernacExtend",
            "7816d6207205905933193ef131e4fb9d7c889deb"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "split.",
            "VernacExtend",
            "55abc140132bd88981001ac656020469a8d503eb"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "assert (m3 k = Some v1) as Hk by (rewrite H; auto).",
            "VernacExtend",
            "b8986c509af2964876ec803737824e54326d7eef"
        ],
        [
            "replace (m3 k) with (Some v2) in Hk by (symmetry; rewrite H; auto).",
            "VernacExtend",
            "472c58ea6269019f355f7512e90475dfe393b5d7"
        ],
        [
            "inv Hk; auto.",
            "VernacExtend",
            "3131629eb3a73a2f66513ad1fcad4b77c0885036"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "extensionality x; unfold map_add.",
            "VernacExtend",
            "8e39e0dedda0abf2b974070b9a2fa8dbfa5653db"
        ],
        [
            "destruct (m1 x) eqn: Hm1; [rewrite H; auto|].",
            "VernacExtend",
            "189404084ed1ed7910689f3c1155a32b96fd1444"
        ],
        [
            "destruct (m2 x) eqn: Hm2; [rewrite H; auto|].",
            "VernacExtend",
            "6061cbd667412fc72ff5f13117b1475e9e3d0569"
        ],
        [
            "destruct (m3 x) eqn: Hm3; auto.",
            "VernacExtend",
            "a25ae618fd9c9963356c706217c7f26687899dbc"
        ],
        [
            "rewrite H in Hm3; destruct Hm3 as [Hm3 | Hm3]; rewrite Hm3 in *; discriminate.",
            "VernacExtend",
            "919a80e42a8e07df8e592b219ac4e3ea067855ac"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct H as [Hcompat]; subst; unfold map_add.",
            "VernacExtend",
            "25519f5c654706b409430afe2d5f4e247da86aa0"
        ],
        [
            "destruct (m1 k) eqn: Hm1; split; auto; intros [?|?]; eauto; discriminate.",
            "VernacExtend",
            "3df5b82cbbc0e51a24c6749ef3e4ac1b4c760643"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Global Program Instance map_PCM : Ghost := { valid a := True; Join_G := map_join }.",
            "VernacInstance",
            "f737b6f84d7a42e3b3b24df264c91fad08be4d07"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "exists (fun _ => empty_map); auto; repeat intro.",
            "VernacExtend",
            "388faa08c1474fa1e56b96f4659601865c508b00"
        ],
        [
            "split; auto; intros [|]; auto; discriminate.",
            "VernacExtend",
            "03011ff4f3c9a9fa52da952735a9eaaaf464b0a4"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "extensionality k.",
            "VernacExtend",
            "3d0435f326186ec7f64a04595b4266d139fac42d"
        ],
        [
            "specialize (H k); specialize (H0 k).",
            "VernacExtend",
            "0ae72a9465d597680c8233c58a023c28bf7e6303"
        ],
        [
            "destruct (z k).",
            "VernacExtend",
            "738f3cbe62770818e40cdb3e6ffd3c3c4f9708cf"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (H b) as [X _]; specialize (X eq_refl).",
            "VernacExtend",
            "80e0b786e2da45dacae8ff56fab7f0d8cee7e943"
        ],
        [
            "rewrite <- H0 in X; auto.",
            "VernacExtend",
            "f5970ba4dbfacd3117f89232bc8ff1629602d64f"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (z' k); auto.",
            "VernacExtend",
            "6464ef2051b0825d9c5119899f8d3edaa46c2b45"
        ],
        [
            "destruct (H0 b) as [X _]; specialize (X eq_refl).",
            "VernacExtend",
            "7950f3d6a73fa5c70d22669a4358426ded47a411"
        ],
        [
            "rewrite <- H in X; auto.",
            "VernacExtend",
            "a8a7cf46ed343e24984e223436d68eecb538dcf4"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "rewrite map_join_spec in *.",
            "VernacExtend",
            "a16e12b552a94066efc436cc46a71d16d966d87b"
        ],
        [
            "destruct H, H0; subst.",
            "VernacExtend",
            "55c813ab3dce6a9405cf83918c66779c9a12e88d"
        ],
        [
            "rewrite map_add_assoc.",
            "VernacExtend",
            "6a85c2b39dd8043a4127f2126361460867190fae"
        ],
        [
            "eexists; rewrite !map_join_spec; repeat split.",
            "VernacExtend",
            "310a7f7f2cedcfe46ad21393f55a181b37fc4e70"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "eapply compatible_incl; eauto.",
            "VernacExtend",
            "1b76b33e76b922a44394a088de096ea2171904b4"
        ],
        [
            "rewrite map_add_comm by auto; apply map_incl_add.",
            "VernacExtend",
            "20284d8adbf4fdf3f543f01e813bf7d54f63f71e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply compatible_add_assoc; auto.",
            "VernacExtend",
            "a487e13c3912259bcc44e6f25ccd8cacba883a8b"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros ???; rewrite !map_join_spec; intros []; subst.",
            "VernacExtend",
            "87bd66c1dcf85baa342c4684c4f20afbad019c84"
        ],
        [
            "split; [symmetry | apply map_add_comm]; auto.",
            "VernacExtend",
            "15ea96842df33832d71feed684e8633ff8e2af89"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "extensionality k; specialize (H k); specialize (H0 k).",
            "VernacExtend",
            "02a40390ac890c1619807f11769e7187c53f182c"
        ],
        [
            "destruct (a k), (b k); auto.",
            "VernacExtend",
            "be9feaec1ad63c91e2e0cecc86f72f37f6dc30c6"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply H0; auto.",
            "VernacExtend",
            "e167f871dfeec1cef76aaf201c54c081f29f730b"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (H b0) as [_ H']; lapply H'; auto.",
            "VernacExtend",
            "039c08033641524b15e5dfaa80d84e0479183f52"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (H0 b0) as [_ H']; lapply H'; auto.",
            "VernacExtend",
            "53e1fc48a5f9a42081f92e492cc4cc3720466ca5"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Instance fmap_order : PCM_order map_incl.",
            "VernacInstance",
            "50bd2c80cada052e6457b7a90c9e42b41410e67e"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply map_incl_refl.",
            "VernacExtend",
            "2744d5c11bcf44cf2fa908b410e000b9eb2e5547"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply map_incl_trans.",
            "VernacExtend",
            "0772cf3cd2d3f4450cc6860022a05d29c5b10fa3"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros ??? Ha Hb; exists (map_add a b); split; simpl.",
            "VernacExtend",
            "c4118e12ff44ff6d42b1fe174de284cf86551a59"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite map_join_spec; split; auto.",
            "VernacExtend",
            "b54be087f01ffaa787271b6cbc976872d8db55ac"
        ],
        [
            "eapply map_incl_compatible; eauto.",
            "VernacExtend",
            "06a7528aac1a792192bff3eb385acb7c615c909b"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply map_add_incl; auto.",
            "VernacExtend",
            "be5524d3835a0ed00aa64f57cc9b522d42cb0438"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "split; repeat intro; specialize (H k v); rewrite H; auto.",
            "VernacExtend",
            "896e934a21f83c7e8afe0c59201eccdee358a114"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "split; auto; intros [|]; auto.",
            "VernacExtend",
            "ed0d8af1ce3366bfdc05f1f7b9eb2d9e598c2871"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Lemma map_snap_join : forall m1 m2 p, ghost_snap m1 p * ghost_snap m2 p = !!(compatible m1 m2) && ghost_snap (map_add m1 m2) p.",
            "VernacStartTheoremProof",
            "1bb868b493068de76993b1fbe993056bce221600"
        ],
        [
            "intros; rewrite ghost_snap_join'.",
            "VernacExtend",
            "b8cd9b5ad1fbac2b02cbaf13dc4ddc1f980554c8"
        ],
        [
            "apply pred_ext.",
            "VernacExtend",
            "9b03db08834ebab822f3dce151d20d6efb17f5ba"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "Intros m.",
            "VernacExtend",
            "46bb86575b2aafa3fd5e97bfda88b9ca68081acd"
        ],
        [
            "rewrite map_join_spec in H; destruct H; subst; entailer!.",
            "VernacExtend",
            "318439b5e2ddc3941720d5236874511bd7fd0933"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "Intros; Exists (map_add m1 m2).",
            "VernacExtend",
            "862f5a1f3f5e1bb52e106629d40c01bea30faf8e"
        ],
        [
            "rewrite map_join_spec; entailer!.",
            "VernacExtend",
            "bf0cb5efad48d51c71a50f9f6f2d364ece40efbd"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_upd_list_app : forall l1 l2 m, map_upd_list m (l1 ++ l2) = map_upd_list (map_upd_list m l1) l2.",
            "VernacStartTheoremProof",
            "b7cc39399c0bf07cde6558a02fffbeca1a128873"
        ],
        [
            "induction l1; auto; simpl; intros.",
            "VernacExtend",
            "e114186f9d1e491afcc5a60102019e032a22df12"
        ],
        [
            "destruct a; auto.",
            "VernacExtend",
            "7f3d8b3039d2691d4be2748b78f9d8a9a90a4b44"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_upd_list_out : forall l m k, m k = None -> ~In k (map fst l) -> map_upd_list m l k = None.",
            "VernacStartTheoremProof",
            "61c104ccf287335c3cd073e82c99af2d2489983a"
        ],
        [
            "induction l; auto; simpl; intros.",
            "VernacExtend",
            "279ca8eb5e74b40505c14e4c71486078bc450c1c"
        ],
        [
            "destruct a; apply IHl.",
            "VernacExtend",
            "078b198d30a88abb514802059b68d7b2fec4e51f"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold map_upd; if_tac; auto.",
            "VernacExtend",
            "7a1b8850a6a51635a9adcf135952985aa8fedf2c"
        ],
        [
            "subst; simpl in *; tauto.",
            "VernacExtend",
            "b2aeaef6e445a71354bb242ebbc0b50ec8b2eb15"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "tauto.",
            "VernacExtend",
            "9bfafe84fb6724789bdf6cfd21cd721dd63fdabd"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma compatible_k : forall m1 m2 (Hcompat : compatible m1 m2) k v, m2 k = Some v -> map_add m1 m2 k = Some v.",
            "VernacStartTheoremProof",
            "886f677adae8f1d12155f7133c7045f0b8e42416"
        ],
        [
            "unfold compatible; intros.",
            "VernacExtend",
            "15a690ec40dc38acf688ab0db49fadb589b9b15a"
        ],
        [
            "unfold map_add.",
            "VernacExtend",
            "b39ae9aa8c1f76a7dbc37f8a7673baec8079cab6"
        ],
        [
            "destruct (m1 k) eqn: Hk; eauto.",
            "VernacExtend",
            "985038da9ec27895f3e8ab0355c2dfb7c84d48b3"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_join_incl_compat : forall m1 m2 m' m'' (Hincl : map_incl m1 m2) (Hjoin : join m2 m' m''), exists m, join m1 m' m /\\ map_incl m m''.",
            "VernacStartTheoremProof",
            "81f26356755e51b8eec17ffe8f68caf16faa47e9"
        ],
        [
            "intros; apply (@join_comm _ _ (@Perm_G map_PCM)) in Hjoin.",
            "VernacExtend",
            "c9fc4f704065ac302a4fd365a4e25ca3938a77f1"
        ],
        [
            "rewrite map_join_spec in Hjoin; destruct Hjoin as [Hjoin]; subst.",
            "VernacExtend",
            "ea7cc7bbf42e731dfc59aeae7d689c9773ef2cdc"
        ],
        [
            "do 2 eexists; [|apply map_add_incl_compat; eauto].",
            "VernacExtend",
            "8c4e3d3bc7c6eae15d30330db69411968f095924"
        ],
        [
            "symmetry in Hjoin; eapply compatible_incl in Hjoin; eauto.",
            "VernacExtend",
            "bfe16509354341c7ea37cbe2a7631b6e40e63010"
        ],
        [
            "rewrite map_join_spec; split; auto.",
            "VernacExtend",
            "b54be087f01ffaa787271b6cbc976872d8db55ac"
        ],
        [
            "rewrite <- map_add_comm; auto.",
            "VernacExtend",
            "c1d0a21da4d8348313e53ecc4a6236f5ec15c1af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_add_empty : forall m, map_add m empty_map = m.",
            "VernacStartTheoremProof",
            "c39ec33906b44543fafd55b47880a10055cee41d"
        ],
        [
            "intros; extensionality; unfold map_add, empty_map.",
            "VernacExtend",
            "8b4f2610189afd35cbf457b6038ccaee1808d890"
        ],
        [
            "destruct (m x); auto.",
            "VernacExtend",
            "477db51cd47ba4a3cabf90ae8a90a7e8356c27ab"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_upd_incl : forall m1 m2 k v, map_incl m1 m2 -> m2 k = Some v -> map_incl (map_upd m1 k v) m2.",
            "VernacStartTheoremProof",
            "1be87a1e75fddd601e9a21243a12fe2e55f95f3e"
        ],
        [
            "unfold map_upd; repeat intro.",
            "VernacExtend",
            "928aab603e5e89e862c69af5baf1a8cfb807f7fe"
        ],
        [
            "destruct (eq_dec k0 k); [congruence | auto].",
            "VernacExtend",
            "9ff305302415c99aefb445f37cc8234c274f492e"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_add_single : forall m k v, map_add (singleton k v) m = map_upd m k v.",
            "VernacStartTheoremProof",
            "f8c3c00d15601e2edddcd0984c248ebd5a4dc747"
        ],
        [
            "intros; extensionality; unfold map_add, singleton, map_upd; if_tac; auto.",
            "VernacExtend",
            "3e73101af9f5e980a4486c09c18cd343ccd35326"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma incl_compatible : forall m1 m2, map_incl m1 m2 -> compatible m1 m2.",
            "VernacStartTheoremProof",
            "cd0d511f7ded7537437cc1a8d4b07fac156fa825"
        ],
        [
            "intros; intros ??? Hk1 Hk2.",
            "VernacExtend",
            "0a91d1f77104750cd396dbe39b6b8e664ddef23f"
        ],
        [
            "specialize (H _ _ Hk1); rewrite H in Hk2; inv Hk2; auto.",
            "VernacExtend",
            "1bb1fb91191e0219ab18b76444e2c2192790d970"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_add_redundant : forall m1 m2, map_incl m1 m2 -> map_add m1 m2 = m2.",
            "VernacStartTheoremProof",
            "d036a23d3654e58d29740393b4d5c3478fea97bb"
        ],
        [
            "intros; unfold map_add; extensionality k.",
            "VernacExtend",
            "d6cfaeb0489ea72ac7616274446abaa64803cdd8"
        ],
        [
            "destruct (m1 k) eqn: Hk; auto; symmetry; auto.",
            "VernacExtend",
            "0f2986208777aed9b641d60b9facc82c7fd99625"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma empty_map_incl : forall m, map_incl empty_map m.",
            "VernacStartTheoremProof",
            "9d6d5148bb6f6874a5da4350413644866ad77349"
        ],
        [
            "repeat intro; discriminate.",
            "VernacExtend",
            "0f7e0f955ecbd2713115ff9440d779b920c36e1b"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_upd2_incl : forall m1 m2 k v, map_incl m1 m2 -> map_incl (map_upd m1 k v) (map_upd m2 k v).",
            "VernacStartTheoremProof",
            "22a1110c7ac6a3d641ca1be2210b94366e67bed8"
        ],
        [
            "unfold map_upd; repeat intro.",
            "VernacExtend",
            "928aab603e5e89e862c69af5baf1a8cfb807f7fe"
        ],
        [
            "if_tac; auto.",
            "VernacExtend",
            "405a5d1c67f2928c68a29c10540d8abdea32b1bd"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma compatible_upd : forall m1 m2 k v, compatible m1 m2 -> m2 k = None -> compatible (map_upd m1 k v) m2.",
            "VernacStartTheoremProof",
            "57ff8d3b386060e9a5474dc3be2b773c1bf4efe3"
        ],
        [
            "unfold map_upd; repeat intro.",
            "VernacExtend",
            "928aab603e5e89e862c69af5baf1a8cfb807f7fe"
        ],
        [
            "destruct (eq_dec k0 k); eauto; congruence.",
            "VernacExtend",
            "c66d22562fc4d68e9799540566552ea4cb773ad6"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_add_upd : forall m1 m2 k v, map_upd (map_add m1 m2) k v = map_add (map_upd m1 k v) m2.",
            "VernacStartTheoremProof",
            "fdf5dcac3f57e955f142d8e3ba1ea0d72cade5ab"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "rewrite <- !map_add_single.",
            "VernacExtend",
            "8c62a2bc01a3d94288f383afd1b5c92d376115e1"
        ],
        [
            "rewrite map_add_assoc; auto.",
            "VernacExtend",
            "69cce443880c4da5fb5f2a92f49c5ad4f50e8650"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Notation maps_add l := (fold_right map_add empty_map l).",
            "VernacSyntacticDefinition",
            "acbd2ff1f7f76c62fcb46023d143c0688ecace1b"
        ],
        [
            "Lemma in_maps_add : forall l (k : A) (v : B), maps_add l k = Some v -> exists m, In m l /\\ m k = Some v.",
            "VernacStartTheoremProof",
            "27524b06c7b7776c44cc92a37a73ad8702d64197"
        ],
        [
            "induction l; [discriminate | simpl; intros].",
            "VernacExtend",
            "eb4a58c88cc22229a0c279e65b2ca606b7243fa9"
        ],
        [
            "unfold map_add at 1 in H.",
            "VernacExtend",
            "d4b6cfcc7be37925e10c36566074300a26ebc37c"
        ],
        [
            "destruct (a k) eqn: Ha.",
            "VernacExtend",
            "e7de28b91045725a7305e56b7ba97d2b96d0dc52"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inv H; eauto.",
            "VernacExtend",
            "6f2315e63385977bc898037039698b06fa2a3a9a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct (IHl _ _ H) as (? & ? & ?); eauto.",
            "VernacExtend",
            "1bb53e0dbdd4e83ec5ed34e5b2871d256fc474e6"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition all_compatible (l : list (A -> option B)) := forall m1 m2, In m1 l -> In m2 l -> compatible m1 m2.",
            "VernacDefinition",
            "e7c5e7cf999c36444a1b8342b6749d924036dec3"
        ],
        [
            "Lemma all_compatible_cons : forall (m : A -> option B) l, all_compatible (m :: l) -> compatible m (maps_add l) /\\ all_compatible l.",
            "VernacStartTheoremProof",
            "c6f08c43d4e144622e9efe7b7bbed5b665eb1ca7"
        ],
        [
            "split; repeat intro.",
            "VernacExtend",
            "58781e8240fd8f74127c645d945c17db427c39f7"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply in_maps_add in H1 as (m2 & ? & ?).",
            "VernacExtend",
            "7b3f5a9d653c1f998271de290a319b4d4b2cbe30"
        ],
        [
            "eapply (H m m2); simpl; eauto.",
            "VernacExtend",
            "d8b82b943a8359f18e0e1d57c539ab68ffa0ffd6"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply (H m1 m2); simpl; eauto.",
            "VernacExtend",
            "bd48b0b6eebea80c9dbe2263e6d5e8b630d4ed17"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma maps_add_in : forall l m (k : A) (v : B) (Hcompat : all_compatible l), In m l -> m k = Some v -> maps_add l k = Some v.",
            "VernacStartTheoremProof",
            "38550fe1979333e4f7776fda7788e452f3f63ca7"
        ],
        [
            "induction l; [contradiction | simpl; intros].",
            "VernacExtend",
            "22047d06c8c5a8467bebb3b6e76d0015c32dbe68"
        ],
        [
            "destruct H.",
            "VernacExtend",
            "8b2bca015429da94c456243b461e17a2a0582c40"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "unfold map_add.",
            "VernacExtend",
            "b39ae9aa8c1f76a7dbc37f8a7673baec8079cab6"
        ],
        [
            "replace (m k) with (Some v); auto.",
            "VernacExtend",
            "1a8e96ff58627a79a0046a8a1f440159209fcbbe"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply all_compatible_cons in Hcompat as [].",
            "VernacExtend",
            "d1d783ab69996a2961694d5dd45ce936870157be"
        ],
        [
            "rewrite map_add_comm by auto.",
            "VernacExtend",
            "5f89a465e2e0c215e6d0c93768715299e40a8ad4"
        ],
        [
            "unfold map_add.",
            "VernacExtend",
            "b39ae9aa8c1f76a7dbc37f8a7673baec8079cab6"
        ],
        [
            "erewrite IHl; eauto.",
            "VernacExtend",
            "94d9441181f3f62466a5d4ed28b0c849005f279e"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma fold_right_maps_add : forall l (e : A -> option B), fold_right map_add e l = map_add (maps_add l) e.",
            "VernacStartTheoremProof",
            "6deb57ff6968706ed8f6e21e0cd2601e23317779"
        ],
        [
            "induction l; auto; simpl; intros.",
            "VernacExtend",
            "279ca8eb5e74b40505c14e4c71486078bc450c1c"
        ],
        [
            "rewrite map_add_assoc, IHl; auto.",
            "VernacExtend",
            "a0a6ba3ae51c6c46b4d42b798484416e0befeed5"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Section Maps_Disjoint.",
            "VernacBeginSection",
            "31cd736b40df10e1aebb045b4f95004b27607442"
        ],
        [
            "Definition disjoint m1 m2 := forall k v1, m1 k = Some v1 -> m2 k = None.",
            "VernacDefinition",
            "05b0a3c69cce430aace53188b8115e696e37b469"
        ],
        [
            "Global Instance disjoint_comm : Symmetric disjoint.",
            "VernacInstance",
            "4783fb3ad21cd937bb679c5e61cca71844b4482e"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "destruct (x k) eqn: Hx; auto.",
            "VernacExtend",
            "de646b432d100a56b350277dc49933e46aadd674"
        ],
        [
            "specialize (H _ _ Hx); congruence.",
            "VernacExtend",
            "8222eb9aa580a790671aa30875fc8c4c58c7012c"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma disjoint_compatible : forall m1 m2, disjoint m1 m2 -> compatible m1 m2.",
            "VernacStartTheoremProof",
            "4b846c265fb21cb5d7bf91b557a3c33d990b148a"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "specialize (H _ _ H0); congruence.",
            "VernacExtend",
            "810036e4f8e7c6d310ba68d085f1398fed485323"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Instance map_disj_join : Join (A -> option B) := fun a b c => forall k, match a k, b k with Some v, None | None, Some v => c k = Some v | None, None => c k = None | _, _ => False end.",
            "VernacInstance",
            "a44b74059a5fbf13c4cec05abf81d2b8362860a4"
        ],
        [
            "Lemma map_disj_join_spec : forall m1 m2 m3, join m1 m2 m3 <-> disjoint m1 m2 /\\ m3 = map_add m1 m2.",
            "VernacStartTheoremProof",
            "6f1385c20e752191c735801f5c13ff013efe4427"
        ],
        [
            "unfold join, map_disj_join; simpl; split; intros.",
            "VernacExtend",
            "9040afee6bf9c1be3e5b8c05f65941c4708f0f0f"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "split.",
            "VernacExtend",
            "55abc140132bd88981001ac656020469a8d503eb"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "specialize (H k); rewrite H0 in H.",
            "VernacExtend",
            "1b7197505659706acaf6a0a348b15914cd6d9900"
        ],
        [
            "destruct (m2 k); auto; contradiction.",
            "VernacExtend",
            "1201275260dc4653791cd5d105f1bd23844abcf1"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "extensionality k; unfold map_add.",
            "VernacExtend",
            "768d166a32cf25dff94b22a55a630be0aaaee504"
        ],
        [
            "specialize (H k).",
            "VernacExtend",
            "6c707e243c7805092dce23d3ac041b564b621050"
        ],
        [
            "destruct (m1 k), (m2 k); auto; contradiction.",
            "VernacExtend",
            "1e578ca69a8c34eaf8381b4c79d3bf214b5e2834"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct H as [Hdisj]; subst; unfold map_add.",
            "VernacExtend",
            "ae9aead161380267d190adf3cf998574174527d2"
        ],
        [
            "specialize (Hdisj k).",
            "VernacExtend",
            "3128c385ca7bd863bc9152437fe454f823118cf4"
        ],
        [
            "destruct (m1 k); [specialize (Hdisj _ eq_refl) as ->; auto|].",
            "VernacExtend",
            "0746e68a9771c3b7d5de6a586121649d84f4e0f0"
        ],
        [
            "destruct (m2 k); auto.",
            "VernacExtend",
            "3c07b7ec7fb31d1db2722c7e7b45efe9511ec570"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma disjoint_incl : forall m1 m2 m (Hcompat : disjoint m2 m) (Hincl : map_incl m1 m2), disjoint m1 m.",
            "VernacStartTheoremProof",
            "b68cdeb13c722899e31167887ab315f9940804e4"
        ],
        [
            "repeat intro; eauto.",
            "VernacExtend",
            "1436bdeeaf05a31f9ab8832a17ee80b3a005d792"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma disjoint_add : forall m1 m2 m3, disjoint m1 m2 -> disjoint m1 m3 -> disjoint m1 (map_add m2 m3).",
            "VernacStartTheoremProof",
            "376a610e10c805013a676ec3997f6271bcc5b479"
        ],
        [
            "unfold disjoint; intros.",
            "VernacExtend",
            "f1f5f300ae2b11afabcea447d0bcb0db41538561"
        ],
        [
            "unfold map_add.",
            "VernacExtend",
            "b39ae9aa8c1f76a7dbc37f8a7673baec8079cab6"
        ],
        [
            "specialize (H _ _ H1); specialize (H0 _ _ H1).",
            "VernacExtend",
            "bf789dae5f5f26321a03c2934dcc7f31528f6d7c"
        ],
        [
            "rewrite H, H0; auto.",
            "VernacExtend",
            "eb09bee19e29eca184380ddbc1607187c09be7a9"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Global Program Instance map_disj_PCM : Ghost := { valid a := True; Join_G := map_disj_join }.",
            "VernacInstance",
            "0994b0a128636753f55046bd0377ad484b261ef2"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "exists (fun _ => empty_map); auto; repeat intro.",
            "VernacExtend",
            "388faa08c1474fa1e56b96f4659601865c508b00"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "destruct (t k); auto.",
            "VernacExtend",
            "981c570f7d5ec7853b6976706b79a71a1eac0104"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "extensionality k.",
            "VernacExtend",
            "3d0435f326186ec7f64a04595b4266d139fac42d"
        ],
        [
            "specialize (H k); specialize (H0 k).",
            "VernacExtend",
            "0ae72a9465d597680c8233c58a023c28bf7e6303"
        ],
        [
            "destruct (x k), (y k); try congruence; contradiction.",
            "VernacExtend",
            "45e2974ad4f41c845ec263c43794624a7ee80f84"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "rewrite map_disj_join_spec in *.",
            "VernacExtend",
            "302dab2e0dcf02ce22e34ba16db048694fe4b5d5"
        ],
        [
            "destruct H, H0; subst.",
            "VernacExtend",
            "55c813ab3dce6a9405cf83918c66779c9a12e88d"
        ],
        [
            "rewrite map_add_assoc.",
            "VernacExtend",
            "6a85c2b39dd8043a4127f2126361460867190fae"
        ],
        [
            "eexists; rewrite !map_disj_join_spec; repeat split.",
            "VernacExtend",
            "e77fe05e1343f7290a80dcd9aa252e3a003901c6"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "eapply disjoint_incl; eauto.",
            "VernacExtend",
            "0fc73e3d35018cce243b45b953f7f8a6fd869ae4"
        ],
        [
            "rewrite map_add_comm by (apply disjoint_compatible; auto); apply map_incl_add.",
            "VernacExtend",
            "b7c881d609a0e0a2f7c09df4495a026f6d6b40a6"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply disjoint_add; auto.",
            "VernacExtend",
            "2cdc6c4ebb26bd436aa23b8b289a8291d799c57b"
        ],
        [
            "eapply disjoint_incl; eauto.",
            "VernacExtend",
            "0fc73e3d35018cce243b45b953f7f8a6fd869ae4"
        ],
        [
            "apply map_incl_add.",
            "VernacExtend",
            "cfb891eee5f82e7a834dfc8471b09fd2bc57e0a4"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros ???; rewrite !map_disj_join_spec; intros []; subst.",
            "VernacExtend",
            "d0468a786d6c2278b5a7b79043aac3e92380ba71"
        ],
        [
            "split; [symmetry | apply map_add_comm, disjoint_compatible]; auto.",
            "VernacExtend",
            "9ad07ae3149e18d894a394706ebca5d9f895a666"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "extensionality k; specialize (H k); specialize (H0 k).",
            "VernacExtend",
            "02a40390ac890c1619807f11769e7187c53f182c"
        ],
        [
            "destruct (a k), (b k); auto.",
            "VernacExtend",
            "be9feaec1ad63c91e2e0cecc86f72f37f6dc30c6"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (a' k); [contradiction | auto].",
            "VernacExtend",
            "bfdd36e08bf25303072504dc1749729b42c421a9"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (a' k); [contradiction | auto].",
            "VernacExtend",
            "bfdd36e08bf25303072504dc1749729b42c421a9"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (b' k); [contradiction | auto].",
            "VernacExtend",
            "ce4f299eb4109b8d6df95d389bfb4807dd480f28"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Lemma disj_join_sub : forall m1 m2, map_incl m1 m2 -> exists m3, join m1 m3 m2.",
            "VernacStartTheoremProof",
            "5242d37caa2e78f8b3a84c59db5b72ba02ec9678"
        ],
        [
            "intros; exists (fun x => match m2 x, m1 x with Some v, None => Some v | _, _ => None end).",
            "VernacExtend",
            "90cc9f3412d803272a526e456f50aca5bbfb8bb3"
        ],
        [
            "intro k; specialize (H k).",
            "VernacExtend",
            "edb244e6bd7f6dcf1fccc0812ecede2f82b786e0"
        ],
        [
            "destruct (m1 k).",
            "VernacExtend",
            "91f4b75c578899e42e0d8130f07e457032225bb7"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "erewrite H; eauto.",
            "VernacExtend",
            "0ca7db4f55f0dcaab4ac07b4ef52a442d5d75439"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct (m2 k); auto.",
            "VernacExtend",
            "3c07b7ec7fb31d1db2722c7e7b45efe9511ec570"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition all_disjoint (l : list (A -> option B)) := forall i j, 0 <= i < Zlength l -> 0 <= j < Zlength l -> i <> j -> disjoint (Znth i l) (Znth j l).",
            "VernacDefinition",
            "06e5ae024bfebe158c58472c132e829610c5d8ce"
        ],
        [
            "Lemma all_disjoint_compatible : forall l, all_disjoint l -> all_compatible l.",
            "VernacStartTheoremProof",
            "545789eda4779c503b0744547666fb3b17aaa31a"
        ],
        [
            "unfold all_disjoint, all_compatible; intros.",
            "VernacExtend",
            "0bf693e1d74044074bf5ba0393063ada85050c87"
        ],
        [
            "apply In_Znth in H0 as (i & ? & ?); apply In_Znth in H1 as (j & ? & ?); subst.",
            "VernacExtend",
            "90c040a8b9b949a60c7efe4dbbf9de6a65e9885e"
        ],
        [
            "destruct (eq_dec i j); [subst; reflexivity|].",
            "VernacExtend",
            "4a9910480956de4918943ebf60a5b9ce262b4a1b"
        ],
        [
            "apply disjoint_compatible; auto.",
            "VernacExtend",
            "de038c36415110222558d215d593044898970898"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma all_disjoint_nil : all_disjoint [].",
            "VernacStartTheoremProof",
            "de57af9bc4ea8bb8f07c0935c8d59b3e0706e1cc"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "rewrite Zlength_nil in *; omega.",
            "VernacExtend",
            "11e355bcc65e98c7aa282771754cdae5eb378b32"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma all_disjoint_cons : forall (m : A -> option B) l, all_disjoint (m :: l) <-> disjoint m (maps_add l) /\\ all_disjoint l.",
            "VernacStartTheoremProof",
            "74da6591fb1bf886abd5124918533e43980d672a"
        ],
        [
            "split.",
            "VernacExtend",
            "55abc140132bd88981001ac656020469a8d503eb"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "split; repeat intro.",
            "VernacExtend",
            "58781e8240fd8f74127c645d945c17db427c39f7"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (maps_add l k) eqn: Hl; auto.",
            "VernacExtend",
            "e711d5994cc3c4dd15d4a7576b0790386deed87d"
        ],
        [
            "eapply in_maps_add in Hl as (m2 & ? & ?).",
            "VernacExtend",
            "0f8470f38b012c22caa80a18e7f701fdfed9aab0"
        ],
        [
            "apply In_Znth in H1 as (j & ? & ?); subst.",
            "VernacExtend",
            "bb05890c09aa40b44d910272598a71a4593b3bed"
        ],
        [
            "specialize (H 0 (j + 1)).",
            "VernacExtend",
            "523a7892400fd2e722c9b6d630ccf28927d4cfb9"
        ],
        [
            "rewrite Znth_0_cons, Znth_pos_cons, Z.add_simpl_r, Zlength_cons in H by omega.",
            "VernacExtend",
            "76093a26da70d2beb0932bb673935022267fba92"
        ],
        [
            "erewrite H in H2; eauto; omega.",
            "VernacExtend",
            "7ba58b202481f3a65737a28f89d7aa766e12d196"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "specialize (H (i + 1) (j + 1)).",
            "VernacExtend",
            "f90f06b4e63191674526085d24fd9be89fe3558c"
        ],
        [
            "rewrite !Znth_pos_cons, !Z.add_simpl_r, Zlength_cons in H by omega.",
            "VernacExtend",
            "bfa5c643e2e6158bfd28c0b043b2aca9a900f098"
        ],
        [
            "eapply H; eauto; omega.",
            "VernacExtend",
            "2f718a21d2fbde43fbfdacd5003145b463ea58d9"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros []; repeat intro.",
            "VernacExtend",
            "6e227c66806d32cee619d97ddc66a2546249ce3d"
        ],
        [
            "rewrite Zlength_cons in *.",
            "VernacExtend",
            "d830a2f67b4441abd1b7fdb7d225bc45c7ff5b2f"
        ],
        [
            "destruct (eq_dec i 0), (eq_dec j 0); subst; try contradiction.",
            "VernacExtend",
            "5bee03f028dc0930d9e720c7e6c7a9c4ce48a419"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite Znth_0_cons in H4; rewrite Znth_pos_cons by omega.",
            "VernacExtend",
            "23edb332968d34de67623e4b57030652d715b05f"
        ],
        [
            "specialize (H _ _ H4).",
            "VernacExtend",
            "46a92073515a62a91e70d87039f58369e64ce08c"
        ],
        [
            "destruct (Znth _ _ _) eqn: Hj; auto.",
            "VernacExtend",
            "3b7ab924907f445d9ea1c4c7f961694846f200dc"
        ],
        [
            "apply maps_add_in with (l := l) in Hj; try congruence.",
            "VernacExtend",
            "036d21c41ec08feb5a61dc1b76bd4672dfa2cc65"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "apply all_disjoint_compatible; auto.",
            "VernacExtend",
            "1221045126f6df663bea29fefa9663dd5d1540a8"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "apply Znth_In; omega.",
            "VernacExtend",
            "3d3b9a20330e3f6c325f4eb2e8fceb0fab9667b1"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite Znth_0_cons; rewrite Znth_pos_cons in H4 by omega.",
            "VernacExtend",
            "3cec14a7e37b3a24a88e42c8cc90db6a24c58527"
        ],
        [
            "destruct (m k) eqn: Hm; auto.",
            "VernacExtend",
            "064afbb8bd9fc8a7a54d852a8bca84bfd6d6ec8f"
        ],
        [
            "specialize (H _ _ Hm).",
            "VernacExtend",
            "779e03c5a1a84cee47b2f5b622451669c5bf4c8d"
        ],
        [
            "apply maps_add_in with (l := l) in H4; try congruence.",
            "VernacExtend",
            "0fe6a5a00d95d03ca2bb21c80b7ec323f8965c03"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "apply all_disjoint_compatible; auto.",
            "VernacExtend",
            "1221045126f6df663bea29fefa9663dd5d1540a8"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "apply Znth_In; omega.",
            "VernacExtend",
            "3d3b9a20330e3f6c325f4eb2e8fceb0fab9667b1"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite Znth_pos_cons in * by omega.",
            "VernacExtend",
            "3a0e132e9a0453eaa7b6aeda15ee7e265e6b58ae"
        ],
        [
            "eapply (H0 (i - 1) (j - 1)); eauto; omega.",
            "VernacExtend",
            "3e11ebe812e58c5a2341843b9ec8d962029963ad"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma all_disjoint_rev1 : forall l, all_disjoint l -> all_disjoint (rev l).",
            "VernacStartTheoremProof",
            "34b663046ff91604a378a89baf39b84f92d55905"
        ],
        [
            "unfold all_disjoint; intros.",
            "VernacExtend",
            "089b6b60201d98988d3ee498febe7fb5efca1004"
        ],
        [
            "rewrite Zlength_rev in *.",
            "VernacExtend",
            "11c2c261efdf9ff8a9bab4896c2952dcb78a69ec"
        ],
        [
            "rewrite !Znth_rev by auto.",
            "VernacExtend",
            "1515bdc22f497f3c43f057d7cdc5d62a3ea69fd6"
        ],
        [
            "apply H; omega.",
            "VernacExtend",
            "25f1ceb280800c37161013440275309d43c00c5f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma all_disjoint_rev : forall l, all_disjoint l <-> all_disjoint (rev l).",
            "VernacStartTheoremProof",
            "62bb04f4532f1a1b981f1b2abe897af50a30a532"
        ],
        [
            "split; [apply all_disjoint_rev1|].",
            "VernacExtend",
            "67a316e91253991c5f613ae381de6152b7e3fbf3"
        ],
        [
            "intros ?%all_disjoint_rev1.",
            "VernacExtend",
            "d69edd5849dee1248e00b9273fe43a74df5262f4"
        ],
        [
            "rewrite rev_involutive in *; auto.",
            "VernacExtend",
            "e4428b6b9b9fc5dc03cf6a0a33e6915f78bc9c18"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma maps_add_rev : forall l, all_compatible l -> maps_add (rev l) = maps_add l.",
            "VernacStartTheoremProof",
            "da77823a2ee8fdba98f9db1b4da589eb9182aecf"
        ],
        [
            "induction l; auto; simpl; intros.",
            "VernacExtend",
            "279ca8eb5e74b40505c14e4c71486078bc450c1c"
        ],
        [
            "apply all_compatible_cons in H as [].",
            "VernacExtend",
            "047a1561851649003edc85d5b4e82bd1337c3d2c"
        ],
        [
            "rewrite map_add_comm, fold_right_app by auto; simpl.",
            "VernacExtend",
            "ab836153336b2ea443755ed28bea2f3e773097aa"
        ],
        [
            "rewrite map_add_empty.",
            "VernacExtend",
            "c81152cbbdb1cadf6d946154ed7a46499e20aa1b"
        ],
        [
            "rewrite (fold_right_maps_add _ a).",
            "VernacExtend",
            "114a56e1713afcb068165003f98696eec0498662"
        ],
        [
            "rewrite <- IHl; auto.",
            "VernacExtend",
            "3caf862ca6806d59542cc74bf9ce681744f7a041"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma all_disjoint_snoc : forall m l, all_disjoint (l ++ [m]) <-> disjoint m (maps_add l) /\\ all_disjoint l.",
            "VernacStartTheoremProof",
            "ae1910ec39b0d2fbbedd80f99a0a92a88beee50e"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "replace (l ++ [m]) with (rev (m :: rev l)) by (simpl; rewrite rev_involutive; auto).",
            "VernacExtend",
            "cf8483bc275d3fe83bb94b7a3dfa810d4a745dad"
        ],
        [
            "rewrite all_disjoint_rev, rev_involutive, all_disjoint_cons, <- all_disjoint_rev.",
            "VernacExtend",
            "4a7901a9061387f316ba5e274b94c61926c08789"
        ],
        [
            "split; intros []; rewrite maps_add_rev in *; auto; apply all_disjoint_compatible; auto.",
            "VernacExtend",
            "36a8b857cbab068b19315649a8f0eaa5fb0e79a0"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma empty_map_disjoint : forall m, disjoint empty_map m.",
            "VernacStartTheoremProof",
            "faa9582c3a4964cd94400bf72889e529a8e9cedd"
        ],
        [
            "repeat intro; discriminate.",
            "VernacExtend",
            "0f7e0f955ecbd2713115ff9440d779b920c36e1b"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition map_sub (m : A -> option B) k := fun x => if eq_dec x k then None else m x.",
            "VernacDefinition",
            "3c7397ff3bcf6192d972bc25a9cd0c796a068d5f"
        ],
        [
            "Lemma map_upd_sub : forall m (k : A) (v : B), m k = Some v -> map_upd (map_sub m k) k v = m.",
            "VernacStartTheoremProof",
            "ac35f6977a3d0939de79609220cc226eac7a3dd8"
        ],
        [
            "intros; unfold map_upd, map_sub.",
            "VernacExtend",
            "63fed1bc51f6f997c9dac75446cad322315d0c2b"
        ],
        [
            "extensionality x.",
            "VernacExtend",
            "a02a0d77f789b5337c65fc4009fcc8ebde3d5cef"
        ],
        [
            "if_tac; subst; auto.",
            "VernacExtend",
            "3bcdd0ed955d7a9c586ca964b06506fda91d5147"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_sub_upd : forall m (k : A) (v : B), m k = None -> map_sub (map_upd m k v) k = m.",
            "VernacStartTheoremProof",
            "13c21807e444307aae1fd99fab9d0388391223b8"
        ],
        [
            "intros; unfold map_upd, map_sub.",
            "VernacExtend",
            "63fed1bc51f6f997c9dac75446cad322315d0c2b"
        ],
        [
            "extensionality x.",
            "VernacExtend",
            "a02a0d77f789b5337c65fc4009fcc8ebde3d5cef"
        ],
        [
            "if_tac; subst; auto.",
            "VernacExtend",
            "3bcdd0ed955d7a9c586ca964b06506fda91d5147"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma disjoint_sub : forall (m1 m2 : A -> option B) k, disjoint m1 m2 -> disjoint (map_sub m1 k) m2.",
            "VernacStartTheoremProof",
            "f452a6cc55ea5a194b3aa90b57ddfbc0e9ee2aae"
        ],
        [
            "unfold map_sub, disjoint; intros.",
            "VernacExtend",
            "126d3c1faa3511f8b8e2e4fa0acb59297d6c03c5"
        ],
        [
            "destruct (eq_dec _ _); [discriminate | eauto].",
            "VernacExtend",
            "1142f01a6c09ff6e3159aa520610ce0f82e5e33d"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End Maps_Disjoint.",
            "VernacEndSegment",
            "376d70c80423926b6908255e61a4b664e42197d3"
        ],
        [
            "End Maps.",
            "VernacEndSegment",
            "ca5c7319d61e844e328e8ae15d0728d3f0ac22b1"
        ],
        [
            "Notation maps_add l := (fold_right map_add empty_map l).",
            "VernacSyntacticDefinition",
            "acbd2ff1f7f76c62fcb46023d143c0688ecace1b"
        ],
        [
            "Hint Resolve empty_map_incl empty_map_disjoint all_disjoint_nil.",
            "VernacHints",
            "155fba8da3b995957cb15a835a27a600d66848ba"
        ],
        [
            "Section GHist.",
            "VernacBeginSection",
            "3ae8c40c3137c161cff0139ae3144d9bae1706c9"
        ],
        [
            "Context {hist_el : Type}.",
            "VernacContext",
            "866c91ff2f0390718d08e8a0776bf52b91dfd5c5"
        ],
        [
            "Notation hist_part := (nat -> option hist_el).",
            "VernacSyntacticDefinition",
            "1eea276cb5e04b0af7440b981b562ae0383b8e6d"
        ],
        [
            "Definition hist_sub sh (h : hist_part) hr := sh <> Share.bot /\\ if eq_dec sh Tsh then h = hr else map_incl h hr.",
            "VernacDefinition",
            "7361ab3041dbf067c2cf0995bb0bb91fa6ebb99f"
        ],
        [
            "Lemma completable_alt : forall sh h hr, @completable map_disj_PCM (Some (sh, h)) hr <-> hist_sub sh h hr.",
            "VernacStartTheoremProof",
            "597dac181be1b909e98196af1af891ca11dbebef"
        ],
        [
            "unfold completable, hist_sub; intros; simpl; split.",
            "VernacExtend",
            "d8b143c3b39957b3a60e7ef81d45709294105dd5"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros ([(?, ?)|] & Hcase).",
            "VernacExtend",
            "6d0e023221b198c49b270e4591e014d35754224b"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct Hcase as (? & ? & Hsh & Hj); split; auto.",
            "VernacExtend",
            "6b6d2dbaa046194129b863bc7f92e81ad36ae9e5"
        ],
        [
            "if_tac.",
            "VernacExtend",
            "a006ab589e4ef6015fb470fbedb2c4c4dac27076"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "subst; apply join_Tsh in Hsh; tauto.",
            "VernacExtend",
            "7acc64eaadfc13f3b001059373ff1e6b97db2f2d"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "rewrite map_disj_join_spec in Hj; destruct Hj; subst.",
            "VernacExtend",
            "7c188374edd0df6b06918d787d70f475b877fe12"
        ],
        [
            "apply map_incl_add.",
            "VernacExtend",
            "cfb891eee5f82e7a834dfc8471b09fd2bc57e0a4"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "hnf in Hcase.",
            "VernacExtend",
            "94f14f11a23abb615c69e50d3436a242113be1bf"
        ],
        [
            "inv Hcase.",
            "VernacExtend",
            "f59840f8244c563f412b2adca78b3a1258d21711"
        ],
        [
            "rewrite eq_dec_refl; auto.",
            "VernacExtend",
            "d0f183f79590ce7220aaf8dc6e0509aac828f6ee"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "if_tac.",
            "VernacExtend",
            "a006ab589e4ef6015fb470fbedb2c4c4dac27076"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "intros []; subst; exists None; split; auto.",
            "VernacExtend",
            "935c71bfae224042b15db81afd066e4f5b997381"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "intros [? Hincl].",
            "VernacExtend",
            "381eb6248a407c165eeafc287275e325db466523"
        ],
        [
            "apply disj_join_sub in Hincl as (h' & ?).",
            "VernacExtend",
            "3c3e9c29072448b20dbb1863211df3d02a735993"
        ],
        [
            "exists (Some (Share.comp sh, h')).",
            "VernacExtend",
            "25057841c7f8cef0ed32accaa3950bff755a8c3a"
        ],
        [
            "split; auto.",
            "VernacExtend",
            "fcd44a714bd12fa54b1c7746996e44dbac16df06"
        ],
        [
            "split.",
            "VernacExtend",
            "55abc140132bd88981001ac656020469a8d503eb"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intro Hbot; contradiction H.",
            "VernacExtend",
            "faec608d6007485d52c53811542de9f4f6059a8c"
        ],
        [
            "rewrite <- Share.comp_inv at 1.",
            "VernacExtend",
            "89178361d0d97c48bfe3725a4ea6d944fdf767ec"
        ],
        [
            "rewrite Hbot; apply comp_bot.",
            "VernacExtend",
            "fe2d0f391b1f666d35b6789d11de254d4616d481"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "split; [apply comp_join_top | auto].",
            "VernacExtend",
            "77ab055f285e066fa4a3bbe157079bd957046bbd"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma hist_sub_upd : forall sh h hr t' e (Hsub : hist_sub sh h hr), hist_sub sh (map_upd h t' e) (map_upd hr t' e).",
            "VernacStartTheoremProof",
            "2f844446ab66d664407ae58290452fc8d277238d"
        ],
        [
            "unfold hist_sub; intros.",
            "VernacExtend",
            "b19e978a9aff96d58fd21e814ace4b566bca4e52"
        ],
        [
            "destruct Hsub; split; auto.",
            "VernacExtend",
            "50e7c34e681e2a672357da25a67eed15e7af7cc9"
        ],
        [
            "if_tac; subst; auto.",
            "VernacExtend",
            "3bcdd0ed955d7a9c586ca964b06506fda91d5147"
        ],
        [
            "apply map_upd2_incl; auto.",
            "VernacExtend",
            "6dcf88fa7b594a39273d9c1849b54461f78c6722"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition ghost_hist (sh : share) (h : hist_part) g := own(RA := ref_PCM map_disj_PCM) g (Some (sh, h), None) NoneP.",
            "VernacDefinition",
            "806d44473d57b833306a2fcf1a1953bc90620aff"
        ],
        [
            "Lemma ghost_hist_join : forall sh1 sh2 sh h1 h2 p (Hsh : sepalg.join sh1 sh2 sh) (Hsh1 : sh1 <> Share.bot) (Hsh2 : sh2 <> Share.bot), ghost_hist sh1 h1 p * ghost_hist sh2 h2 p = !!(disjoint h1 h2) && ghost_hist sh (map_add h1 h2) p.",
            "VernacStartTheoremProof",
            "4819dab268add71070161c6ef8947be8cddfe4c4"
        ],
        [
            "intros; unfold ghost_hist.",
            "VernacExtend",
            "bf9b87c2d1462bc8962a783f6cfe820d9b8efd6a"
        ],
        [
            "erewrite own_op_gen.",
            "VernacExtend",
            "e3adb5e7a9ddaab4822ac44276a28d15d7f7a8c1"
        ],
        [
            "apply pred_ext; Intros; apply andp_right, derives_refl; apply prop_right.",
            "VernacExtend",
            "b7ecc232b713213da0ae1df3552fdb936bd423c0"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct H as (? & [] & ?); simpl in *.",
            "VernacExtend",
            "cfac1b65e67eb4e88e89b2905cccf22e85cc2287"
        ],
        [
            "destruct (fst x) as [[]|]; [|contradiction].",
            "VernacExtend",
            "d54282d67e06ff21ee730c66c4e60501c431017e"
        ],
        [
            "rewrite map_disj_join_spec in H; tauto.",
            "VernacExtend",
            "2e4d81164f2f3a6920367cd57f24125c11764bcc"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eexists (Some (sh, map_add h1 h2), None); split; [split|]; simpl.",
            "VernacExtend",
            "bbcf69c6b443dc0a32ff634521f41cd22cec96a3"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite map_disj_join_spec; auto.",
            "VernacExtend",
            "68143a536a762b081aca12231eafa44af30c7865"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "split; auto.",
            "VernacExtend",
            "fcd44a714bd12fa54b1c7746996e44dbac16df06"
        ],
        [
            "intro; subst.",
            "VernacExtend",
            "9021e22274b6259ff513a190b208a4a3aa9b2ede"
        ],
        [
            "apply join_Bot in Hsh as []; auto.",
            "VernacExtend",
            "ce7476c24aedd9c9329f063cb9aaffdbb4a705b7"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros (? & [] & ?); simpl in *.",
            "VernacExtend",
            "341e8af51e2646df23e761edac0491001bc49c58"
        ],
        [
            "destruct (fst x) as [[]|]; [|contradiction].",
            "VernacExtend",
            "d54282d67e06ff21ee730c66c4e60501c431017e"
        ],
        [
            "split; [simpl | constructor].",
            "VernacExtend",
            "30254fc30e4b05f3e501a1b33fb5d9138942d486"
        ],
        [
            "rewrite map_disj_join_spec in *; tauto.",
            "VernacExtend",
            "e2e81eaeb696a2e03cecf5a36def83b3181b1325"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition hist_incl (h : hist_part) l := forall t e, h t = Some e -> nth_error l t = Some e.",
            "VernacDefinition",
            "e006c9731b4e6e6e89db9f19504fd5f798a0ab88"
        ],
        [
            "Definition hist_list (h : hist_part) l := forall t e, h t = Some e <-> nth_error l t = Some e.",
            "VernacDefinition",
            "60ae97b948c9d85012638cb9051a0aa82e6b492c"
        ],
        [
            "Lemma hist_list_inj : forall h l1 l2 (Hl1 : hist_list h l1) (Hl2 : hist_list h l2), l1 = l2.",
            "VernacStartTheoremProof",
            "99f18f3ad39b54d1c5dc76b20b4a0dbff188f629"
        ],
        [
            "unfold hist_list; intros; apply list_nth_error_eq.",
            "VernacExtend",
            "0cf877dd8d67f8613a4a00d3dc5a4be8bd0de05d"
        ],
        [
            "intro j; specialize (Hl1 j); specialize (Hl2 j).",
            "VernacExtend",
            "34a8a9f177f71d32b544374a8bacd6c357201ccf"
        ],
        [
            "destruct (nth_error l1 j).",
            "VernacExtend",
            "72010a2b4970027ec4e6482c626c1df5aae1f8de"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "symmetry; rewrite <- Hl2, Hl1; auto.",
            "VernacExtend",
            "54d59a919b73b8280ad247de8092227158940741"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct (nth_error l2 j); auto.",
            "VernacExtend",
            "4517b89f67acf9354e603f4c96289f820eb23616"
        ],
        [
            "specialize (Hl2 h0); rewrite Hl1 in Hl2; tauto.",
            "VernacExtend",
            "7ebd3651fa0e5f6357307eec5bdd420f7f1ce751"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma hist_list_nil_inv1 : forall l, hist_list empty_map l -> l = [].",
            "VernacStartTheoremProof",
            "d9696cae24ac8a06139c37b95ad94ab211cbd4a8"
        ],
        [
            "unfold hist_list; intros.",
            "VernacExtend",
            "eea700464a901a5305a42c797d6e36ac703742ed"
        ],
        [
            "destruct l; auto.",
            "VernacExtend",
            "4bfcd2f625a7deb5fd623e7d5faa40328d66978c"
        ],
        [
            "specialize (H O h); destruct H as [_ H]; specialize (H eq_refl); discriminate.",
            "VernacExtend",
            "3e439f546fa8bae9e91b402ac4bbc326350068ae"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma hist_list_nil_inv2 : forall h, hist_list h [] -> h = empty_map.",
            "VernacStartTheoremProof",
            "57f230e53c9063108e13eef41a807f388c28876d"
        ],
        [
            "unfold hist_list; intros.",
            "VernacExtend",
            "eea700464a901a5305a42c797d6e36ac703742ed"
        ],
        [
            "extensionality t.",
            "VernacExtend",
            "9a05c33a6fee8425d67f57eef1b03542953217e6"
        ],
        [
            "specialize (H t); destruct (h t); auto.",
            "VernacExtend",
            "6abb3dfb3a15b1df62faac896119d16fb9c444c5"
        ],
        [
            "destruct (H h0) as [H' _].",
            "VernacExtend",
            "8af0909f41fa4c143fc57d2f3376fdda1c5aea11"
        ],
        [
            "specialize (H' eq_refl); rewrite nth_error_nil in H'; discriminate.",
            "VernacExtend",
            "1361defec6157835b87a3c9a1f8e146357215dd2"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition ghost_ref l g := EX hr : hist_part, !!(hist_list hr l) && own(RA := ref_PCM map_disj_PCM) g (None, Some hr) NoneP.",
            "VernacDefinition",
            "5db4949bd1d3772147bbb0b452fd40f250dd355f"
        ],
        [
            "Lemma hist_next : forall h l (Hlist : hist_list h l), h (length l) = None.",
            "VernacStartTheoremProof",
            "9dded882a5241d4730a1ac79a52aeb9c7ce5652a"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "specialize (Hlist (length l)).",
            "VernacExtend",
            "328a0c65626b780a58c41b5bb6a2e1e95da71f4e"
        ],
        [
            "destruct (h (length l)); auto.",
            "VernacExtend",
            "f83c56841edca4744b568053b6ab03e779dc7711"
        ],
        [
            "destruct (Hlist h0) as [H' _].",
            "VernacExtend",
            "897db1ec33dd1de45b41ca1b7495bfbca0d6ed31"
        ],
        [
            "pose proof (nth_error_Some l (length l)) as (Hlt & _).",
            "VernacExtend",
            "602240f4e50bd01feea3717be3d023c20dcb0868"
        ],
        [
            "lapply Hlt; [omega|].",
            "VernacExtend",
            "c13444c55726e1fe176c0f33b8b95d234b1f0278"
        ],
        [
            "rewrite H' by auto; discriminate.",
            "VernacExtend",
            "acf489d55f4a44a27e4303811b35bb5b0da794c6"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition ghost_hist_ref sh (h r : hist_part) g := own(RA := ref_PCM map_disj_PCM) g (Some (sh, h), Some r) NoneP.",
            "VernacDefinition",
            "62ec3b1682570309b9ad3247ef3eecb9aade8971"
        ],
        [
            "Lemma hist_add : forall (sh : share) (h h' : hist_part) e p t' (Hfresh : h' t' = None), ghost_hist_ref sh h h' p |-- |==> ghost_hist_ref sh (map_upd h t' e) (map_upd h' t' e) p.",
            "VernacStartTheoremProof",
            "6f337da9578954dc91483a2ece7d49f21bf7c6c8"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "erewrite (add_andp (ghost_hist_ref _ _ _ _)) by apply own_valid.",
            "VernacExtend",
            "746b3043f4e425ce5a311b94e19c2715c36249e2"
        ],
        [
            "Intros.",
            "VernacExtend",
            "58784a78af6fa36ccbd531d2a460b187e88b99db"
        ],
        [
            "destruct H as [? Hcomp]; simpl in *.",
            "VernacExtend",
            "355ad1a6455edff114118e4cc6e3f547e871bad2"
        ],
        [
            "rewrite completable_alt in Hcomp; destruct Hcomp as [_ Hcomp].",
            "VernacExtend",
            "cb6de047120d34fe9d3b86170678b96eee3842e2"
        ],
        [
            "apply (ref_add(P := map_disj_PCM)) with (b := fun k => if eq_dec k t' then Some e else None).",
            "VernacExtend",
            "5d4a3764078273c940cd02af26c014c71da1017a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "unfold map_upd.",
            "VernacExtend",
            "78d810b5a9749307e72e2aecd8899c2dfc26b707"
        ],
        [
            "if_tac; [|destruct (h k); auto].",
            "VernacExtend",
            "a857c235613a09f82125ef98060936354dc56ead"
        ],
        [
            "subst; destruct (h t') eqn: Hh; auto.",
            "VernacExtend",
            "cb6e26860563134b07cf2da13f5e7a48f9a7edd9"
        ],
        [
            "if_tac in Hcomp; [congruence|].",
            "VernacExtend",
            "0fe943d91dc832edf736c0f494c94f365f769648"
        ],
        [
            "apply Hcomp in Hh; congruence.",
            "VernacExtend",
            "3fb363228675e20f86d5c9a5828fdf6b20414eb0"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "unfold map_upd.",
            "VernacExtend",
            "78d810b5a9749307e72e2aecd8899c2dfc26b707"
        ],
        [
            "if_tac; [|destruct (h' k); auto].",
            "VernacExtend",
            "dab499b4dafd3d1ba3fbdce05cb2f851dd353894"
        ],
        [
            "subst; rewrite Hfresh; auto.",
            "VernacExtend",
            "4352bbb5d3db915fe120338d5d0ba9234acd753f"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros ?? Hsub.",
            "VernacExtend",
            "80d6dac6af9f8e2e0da2b5665002155eae2322a0"
        ],
        [
            "exists (map_upd c t' e); repeat intro.",
            "VernacExtend",
            "b706ba3fa89d3d33a614b5ea97842d7f1cf98522"
        ],
        [
            "unfold map_upd.",
            "VernacExtend",
            "78d810b5a9749307e72e2aecd8899c2dfc26b707"
        ],
        [
            "if_tac; [|destruct (c k); auto].",
            "VernacExtend",
            "2c33842c35fef29322e71aee73f0160a6a57d0e4"
        ],
        [
            "subst; destruct (c t') eqn: Hc; auto.",
            "VernacExtend",
            "d9401c790cbfc7d23b2166aa9bb991c26182cc96"
        ],
        [
            "destruct Hsub as [x Hsub]; hnf in Hsub.",
            "VernacExtend",
            "582459a21d168f854783a665f8a703622ac182ae"
        ],
        [
            "specialize (Hsub t'); rewrite Hc in Hsub.",
            "VernacExtend",
            "090eb5bdf729ce046436499d0e5780bec99031e3"
        ],
        [
            "destruct (x t'); congruence.",
            "VernacExtend",
            "237a094d636122dd137a695cb8f6da4b39c5897a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma hist_incl_nil : forall h, hist_incl empty_map h.",
            "VernacStartTheoremProof",
            "9acea0d4a4b943078abf0c318e1386b5138826ca"
        ],
        [
            "repeat intro; discriminate.",
            "VernacExtend",
            "0f7e0f955ecbd2713115ff9440d779b920c36e1b"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma hist_list_nil : hist_list empty_map [].",
            "VernacStartTheoremProof",
            "9c8f7d0a0ac464be9000e91f24a758fbbac173dc"
        ],
        [
            "split; [discriminate|].",
            "VernacExtend",
            "eb4e362215878d083aceff8d8c2608934e0e9948"
        ],
        [
            "rewrite nth_error_nil; discriminate.",
            "VernacExtend",
            "58047a18ac70e04071258b887cf402a24816b6f0"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma hist_list_snoc : forall h l e, hist_list h l -> hist_list (map_upd h (length l) e) (l ++ [e]).",
            "VernacStartTheoremProof",
            "e1bb8e4463d90d9b180fe0a5db46c978030678b1"
        ],
        [
            "unfold hist_list, map_upd; split.",
            "VernacExtend",
            "b37d9aab912dd50fd6e42249f8adf207a23ffaa8"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "if_tac.",
            "VernacExtend",
            "a006ab589e4ef6015fb470fbedb2c4c4dac27076"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "intro X; inv X.",
            "VernacExtend",
            "2d792e412ecbdebe662755b4a36ea0bf9c49378e"
        ],
        [
            "rewrite nth_error_app2, minus_diag; auto.",
            "VernacExtend",
            "53ffcfe15ce134936a969e1b240bf5d4cd03d9bf"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite H.",
            "VernacExtend",
            "6192df8b89486a3ba89a78e26e0d70cae2dc94c2"
        ],
        [
            "intro X; rewrite nth_error_app1; auto.",
            "VernacExtend",
            "2330d7974a7e797a3afb42e225f7a86e8fe68d05"
        ],
        [
            "rewrite <- nth_error_Some, X; discriminate.",
            "VernacExtend",
            "98dd279385f49cb73af615da3f5e1f31623e4f33"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "if_tac.",
            "VernacExtend",
            "a006ab589e4ef6015fb470fbedb2c4c4dac27076"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "subst; rewrite nth_error_app2, minus_diag; auto.",
            "VernacExtend",
            "eac6e99273353f6c5ac29e8069703b000ee421df"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "intro X; apply H; rewrite nth_error_app1 in X; auto.",
            "VernacExtend",
            "7b4af07e83fea71ec79aeb68779ba121c76ed4fb"
        ],
        [
            "assert (t < length (l ++ [e]))%nat; [|rewrite app_length in *; simpl in *; omega].",
            "VernacExtend",
            "002b70f68402d143ebb3997d186c235034eb52ab"
        ],
        [
            "rewrite <- nth_error_Some, X; discriminate.",
            "VernacExtend",
            "98dd279385f49cb73af615da3f5e1f31623e4f33"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma hist_sub_list_incl : forall sh h h' l (Hsub : hist_sub sh h h') (Hlist : hist_list h' l), hist_incl h l.",
            "VernacStartTheoremProof",
            "ae90bf6b44201926904df4b48ab25c1d6d493ec2"
        ],
        [
            "unfold hist_list, hist_incl; intros.",
            "VernacExtend",
            "3045fdc2367b4b2d31759cdf9313149b1ce026f7"
        ],
        [
            "apply Hlist.",
            "VernacExtend",
            "b687c7853e60168c648d5c5139ba02bdbdb18d9c"
        ],
        [
            "destruct Hsub.",
            "VernacExtend",
            "bdc6f7bc5c2ceeaea14755cfe9a1bd5dd4a4f80a"
        ],
        [
            "destruct (eq_dec sh Tsh); subst; auto.",
            "VernacExtend",
            "1fa1a990f27fa3ccddae31fa2574bc0aea32723c"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma hist_sub_Tsh : forall h h', hist_sub Tsh h h' <-> (h = h').",
            "VernacStartTheoremProof",
            "6f31ebe990a2c6b1f74c248ac1a1b09a1fc59fbe"
        ],
        [
            "intros; unfold hist_sub; rewrite eq_dec_refl; repeat split; auto; tauto.",
            "VernacExtend",
            "daa5996b43ce50bc654ececed4dc862bf365aedb"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma hist_ref_join : forall sh h l p, sh <> Share.bot -> ghost_hist sh h p * ghost_ref l p = EX h' : hist_part, !!(hist_list h' l /\\ hist_sub sh h h') && ghost_hist_ref sh h h' p.",
            "VernacStartTheoremProof",
            "ec8b7d73fa1d2b31ae02329232b12d17aada94d1"
        ],
        [
            "unfold ghost_hist, ghost_ref; intros; apply pred_ext.",
            "VernacExtend",
            "321d31f5758731c6770024374129b6dcf20f9989"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "Intros hr; Exists hr.",
            "VernacExtend",
            "0a607ed6fcb3afdcb33043d02ea82ac8b3ebf003"
        ],
        [
            "erewrite own_op_gen.",
            "VernacExtend",
            "e3adb5e7a9ddaab4822ac44276a28d15d7f7a8c1"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "Intros; apply andp_right, derives_refl; apply prop_right.",
            "VernacExtend",
            "027053d0b2157970f1a6c470ed4bb500e48b53ad"
        ],
        [
            "split; auto.",
            "VernacExtend",
            "fcd44a714bd12fa54b1c7746996e44dbac16df06"
        ],
        [
            "destruct H1 as ([g] & [H1 H2] & [? Hcompat]); simpl in *.",
            "VernacExtend",
            "45247ad9da621f3eb421afaec2ebaa5f52460aa3"
        ],
        [
            "destruct g as [[]|]; [|contradiction].",
            "VernacExtend",
            "0d9a7ca1a77d04f336eb91468eca3758f1ee173f"
        ],
        [
            "inv H1; inv H2.",
            "VernacExtend",
            "475fe94295b345ec587611d2f4b7c6525a02d1ea"
        ],
        [
            "apply completable_alt; auto.",
            "VernacExtend",
            "d1b2096944e52918fc708fa3b01eb18b74107c78"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "split; simpl; auto; constructor.",
            "VernacExtend",
            "f37f0cca3fe43fb2791d2b5792c30431b1f1cd01"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "Intros h'; Exists h'; entailer!.",
            "VernacExtend",
            "4441734ab80efc58df46fd2ae9228508a2f808f2"
        ],
        [
            "erewrite <- own_op; [apply derives_refl|].",
            "VernacExtend",
            "d5130e786898b673b0d63e47f6def3675aeadca8"
        ],
        [
            "split; simpl; auto; constructor.",
            "VernacExtend",
            "f37f0cca3fe43fb2791d2b5792c30431b1f1cd01"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Corollary hist_ref_join_nil : forall sh p, sh <> Share.bot -> ghost_hist sh empty_map p * ghost_ref [] p = ghost_hist_ref sh empty_map empty_map p.",
            "VernacStartTheoremProof",
            "b2d41689e293b3bbeeb96cb7b08ba4dcbc6fa875"
        ],
        [
            "intros; rewrite hist_ref_join by auto.",
            "VernacExtend",
            "bbe0908b44b0daf8e1bac6bd349edfac8d804752"
        ],
        [
            "apply pred_ext; entailer!.",
            "VernacExtend",
            "7e40fa0d54fd280db9895c6340dab7239561a3f2"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply hist_list_nil_inv2 in H0; subst; auto.",
            "VernacExtend",
            "b32664467d353f90c2a4ab2f360c6db228a8b80f"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "Exists (fun _ : nat => @None hist_el); apply andp_right, derives_refl.",
            "VernacExtend",
            "1e4db5ee3e36ff8a3e47bd52fa4353eb6f8bb663"
        ],
        [
            "apply prop_right; split; [apply hist_list_nil|].",
            "VernacExtend",
            "5495f5e1cf8d80ebefaf654d189df97a87f00e60"
        ],
        [
            "split; auto.",
            "VernacExtend",
            "fcd44a714bd12fa54b1c7746996e44dbac16df06"
        ],
        [
            "if_tac; auto.",
            "VernacExtend",
            "405a5d1c67f2928c68a29c10540d8abdea32b1bd"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma hist_ref_incl : forall sh h h' p, sh <> Share.bot -> ghost_hist sh h p * ghost_ref h' p |-- !!hist_incl h h'.",
            "VernacStartTheoremProof",
            "51409d91e86b1b41b262c90a016d6fc796b0f5f1"
        ],
        [
            "intros; rewrite hist_ref_join by auto.",
            "VernacExtend",
            "bbe0908b44b0daf8e1bac6bd349edfac8d804752"
        ],
        [
            "Intros l; eapply prop_right, hist_sub_list_incl; eauto.",
            "VernacExtend",
            "cb06bb6382a6468a6e655d35f3945cfc68f2847a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma hist_add' : forall sh h h' e p, sh <> Share.bot -> ghost_hist sh h p * ghost_ref h' p |-- |==> ghost_hist sh (map_upd h (length h') e) p * ghost_ref (h' ++ [e]) p.",
            "VernacStartTheoremProof",
            "7a54189aeff61a80a7664fe31cb0dd2f6191b5e8"
        ],
        [
            "intros; rewrite !hist_ref_join by auto.",
            "VernacExtend",
            "230ed9b0fb9053223c667561997c6a36be1f498a"
        ],
        [
            "Intros hr.",
            "VernacExtend",
            "0b5cb3aef75809d301ba35c145d11b1de18f43f8"
        ],
        [
            "eapply derives_trans; [apply hist_add|].",
            "VernacExtend",
            "64baf4faec4b8b43718a892a19ca6ac1f9d1781b"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "apply hist_next; eauto.",
            "VernacExtend",
            "bdcfb6e8432ae816c724553582c8335f26273cf3"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "apply bupd_mono.",
            "VernacExtend",
            "7b935a01f8d9d2130ad94faf655b1859eb40466c"
        ],
        [
            "Exists (map_upd hr (length h') e); apply andp_right, derives_refl.",
            "VernacExtend",
            "a3a9e79f28ac214806bdb876b15b66ab340d204f"
        ],
        [
            "apply prop_right; split; [apply hist_list_snoc | apply hist_sub_upd]; auto.",
            "VernacExtend",
            "062b06c86c06dffee567956a5ec845c6be586729"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition newer (l : hist_part) t := forall t', l t' <> None -> (t' < t)%nat.",
            "VernacDefinition",
            "9d9d139376a4987840353e6e68a819c6f2ce766b"
        ],
        [
            "Lemma newer_trans : forall l t1 t2, newer l t1 -> (t1 <= t2)%nat -> newer l t2.",
            "VernacStartTheoremProof",
            "648e7e31362a4c719ac780e5ebd2c42eab09ed1e"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "specialize (H _ H1); omega.",
            "VernacExtend",
            "878b59039415f6b3c9020412c8afd0a642c4ea35"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Corollary newer_upd : forall l t1 e t2, newer l t1 -> (t1 < t2)%nat -> newer (map_upd l t1 e) t2.",
            "VernacStartTheoremProof",
            "fcaf4d9881e81a07526db677f3316cf373926300"
        ],
        [
            "unfold newer, map_upd; intros.",
            "VernacExtend",
            "79be48ea374a30b24f9fbd4f84b5d5ce9d5faded"
        ],
        [
            "destruct (eq_dec t' t1); [omega|].",
            "VernacExtend",
            "f6fb735081178894a63dc92c49ac283a0694b681"
        ],
        [
            "eapply newer_trans; eauto; omega.",
            "VernacExtend",
            "0e1bdc93972b76e69b9243b4261630c22f1f75f4"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma newer_over : forall h t t', newer h t -> (t <= t')%nat -> h t' = None.",
            "VernacStartTheoremProof",
            "30e8d1278cf86c2a63a7067da94314a17b4cedc1"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "specialize (H t').",
            "VernacExtend",
            "7f13e5857608acde6ea6955d0bb141b4704d2c38"
        ],
        [
            "destruct (h t'); auto.",
            "VernacExtend",
            "b266274fa04d9e6f9cfa87fb9e7232071554f149"
        ],
        [
            "lapply H; [omega | discriminate].",
            "VernacExtend",
            "b28bed0b608b0166792e4aeedc76f82fe59afb27"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Corollary newer_out : forall h t, newer h t -> h t = None.",
            "VernacStartTheoremProof",
            "e27deb75a3b6a9ff0da012fb6e16e417811e4ead"
        ],
        [
            "intros; eapply newer_over; eauto.",
            "VernacExtend",
            "afba8d3808aeecf43a6ee5cca31a47871686232d"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma add_new_inj : forall h h' t t' v v' (Ht : newer h t) (Ht' : newer h' t'), map_upd h t v = map_upd h' t' v' -> h = h' /\\ t = t' /\\ v = v'.",
            "VernacStartTheoremProof",
            "5f32077e7fa0b17fec50b0ce0813813beafe5e18"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "pose proof (equal_f H t) as Hh.",
            "VernacExtend",
            "e663d07325d85f6327acd9cd928ef99aa820b60b"
        ],
        [
            "pose proof (equal_f H t') as Hh'.",
            "VernacExtend",
            "f184a7551842c40595ecb1f05a0f8cf82c6af954"
        ],
        [
            "pose proof (newer_out _ _ Ht) as Hout.",
            "VernacExtend",
            "ae201b1a89232d61ac114e13e174c6b3e65f34b9"
        ],
        [
            "pose proof (newer_out _ _ Ht') as Hout'.",
            "VernacExtend",
            "c530da83a119793d431fc31af805a6ab7eccd603"
        ],
        [
            "unfold map_upd in Hh, Hh'.",
            "VernacExtend",
            "025f4e677c641e08dc27afa54a65d00d535862b1"
        ],
        [
            "rewrite eq_dec_refl in Hh, Hh'.",
            "VernacExtend",
            "d1c5f3f051cab1b1d3e66ef18c93cae260eb0a6c"
        ],
        [
            "if_tac in Hh.",
            "VernacExtend",
            "4c214f7cde5f1772021144e139e21ad0e3c77fde"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inv Hh; clear Hh'.",
            "VernacExtend",
            "462b506034ca4691759baacc4719e6f3f8a40a38"
        ],
        [
            "repeat split; auto.",
            "VernacExtend",
            "68be7c4701ceff95aa9f283aa43fa2774d48c7a0"
        ],
        [
            "erewrite <- (map_sub_upd h) by (eapply newer_out; eauto).",
            "VernacExtend",
            "c0f5e393c78498fea1af78ab5f96fbe68858c7a7"
        ],
        [
            "rewrite H, map_sub_upd; auto.",
            "VernacExtend",
            "9665a537b8ca3ee6e0334f29ff6224cf58aeb9b0"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "rewrite if_false in Hh' by auto.",
            "VernacExtend",
            "7823a02fa8440022719c671b9d49eec7268af14e"
        ],
        [
            "lapply (Ht t'); [|rewrite Hh'; discriminate].",
            "VernacExtend",
            "7ff1f82b05d12000d181cf36bd471f572fcf098a"
        ],
        [
            "lapply (Ht' t); [|rewrite <- Hh; discriminate].",
            "VernacExtend",
            "144ea4ed6f599d9ab1b325950388c4382e4351de"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma hist_incl_lt : forall h l, hist_incl h l -> newer h (length l).",
            "VernacStartTheoremProof",
            "e606f823f6ac1a5b7db261031d8a7f50769642bd"
        ],
        [
            "unfold hist_incl; repeat intro.",
            "VernacExtend",
            "b57a9bbd85f53563a82336a809558ed58d9b3ccb"
        ],
        [
            "specialize (H t').",
            "VernacExtend",
            "7f13e5857608acde6ea6955d0bb141b4704d2c38"
        ],
        [
            "destruct (h t'); [|contradiction].",
            "VernacExtend",
            "2be1eb475fac5d04338ab0add92d568b6c6d5370"
        ],
        [
            "specialize (H _ eq_refl).",
            "VernacExtend",
            "c74707bfee696e3fe6e6fa824d698086cc697cc8"
        ],
        [
            "rewrite <- nth_error_Some, H; discriminate.",
            "VernacExtend",
            "6e423183c656bb94a321c31cf91ff53ca9487d0d"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Corollary hist_list_lt : forall h l, hist_list h l -> newer h (length l).",
            "VernacStartTheoremProof",
            "ce2ca7197ed9adb63c318f1db9e96acca51dede5"
        ],
        [
            "intros; apply hist_incl_lt; repeat intro; apply H; auto.",
            "VernacExtend",
            "3e838c008535d99a08a451980c6dd074f876694d"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Inductive hist_list' : hist_part -> list hist_el -> Prop := | hist_list'_nil : hist_list' empty_map [] | hist_list'_snoc : forall h l t e (Hlast : newer h t) (Hrest : hist_list' h l), hist_list' (map_upd h t e) (l ++ [e]).",
            "VernacInductive",
            "86adb7e9c8f3e640ca0fea603e948cbd6b1932f4"
        ],
        [
            "Hint Resolve hist_list'_nil.",
            "VernacHints",
            "83aa63d54d26b131aee29a708d9de8083276d205"
        ],
        [
            "Lemma hist_list'_in : forall h l (Hl : hist_list' h l) e, (exists t, h t = Some e) <-> In e l.",
            "VernacStartTheoremProof",
            "ca2541e609f477e3fda07c0e2757a8557056d27c"
        ],
        [
            "induction 1.",
            "VernacExtend",
            "dfe896305621800fcbb03b32d51d497edbdf1dc5"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "split; [intros (? & ?); discriminate | contradiction].",
            "VernacExtend",
            "201b23909c21872ed317ebc941ad0f24da7d8495"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intro; subst; split.",
            "VernacExtend",
            "48a565bcf830d456be1a6cfe5ae045e77660e87c"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold map_upd; intros (? & Hin); rewrite in_app in *.",
            "VernacExtend",
            "f36d1f3df166282d111bdd5646a445092e03a623"
        ],
        [
            "destruct (eq_dec x t); [inv Hin; simpl; auto|].",
            "VernacExtend",
            "1fc4790de8035b9477d79713d12da98f4ce58ed6"
        ],
        [
            "rewrite <- IHHl; eauto.",
            "VernacExtend",
            "7c9234f6f7458574ead4118c8d96f6f1e9977554"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite in_app; intros [Hin | [Heq | ?]]; [| inv Heq | contradiction].",
            "VernacExtend",
            "cd856a5ed45f1da6096704df3d321f29beb78e7a"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "rewrite <- IHHl in Hin; destruct Hin as (? & ?).",
            "VernacExtend",
            "0ab0baf78360a705762c6ac1fd1d1c5818d69460"
        ],
        [
            "apply newer_out in Hlast.",
            "VernacExtend",
            "a7a6f26e0c86ee4de4754ad999168526c1c0441f"
        ],
        [
            "unfold map_upd; exists x; if_tac; auto; congruence.",
            "VernacExtend",
            "cbe98c16b160f979a003fd241b600b82f5515e9d"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "unfold map_upd; eexists; apply eq_dec_refl.",
            "VernacExtend",
            "9930a2a1205d3985ae06c6d665e43ab57d076d8b"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma hist_list_weak : forall l h (Hl : hist_list h l), hist_list' h l.",
            "VernacStartTheoremProof",
            "fb81e6abc97ff82a852f90c23eac45f0982e6421"
        ],
        [
            "induction l using rev_ind; intros.",
            "VernacExtend",
            "9ab92c11a5febb178fa25256bbf8c80fc8f38cc5"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply hist_list_nil_inv2 in Hl; subst; auto.",
            "VernacExtend",
            "2515b777ccfcfc79a8cce843c854487dae4a2c1e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct (Hl (length l) x) as (_ & H); exploit H.",
            "VernacExtend",
            "b49515d1d01a45e97e4a4a00bcf5c1769c43e1e3"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "rewrite nth_error_app2, minus_diag by omega; auto.",
            "VernacExtend",
            "fad239a323bdc97848a5fbe99d6aeba930faebbc"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "intro Hx.",
            "VernacExtend",
            "218b6ef98d0605f2e1745b1d78b2fbbb6c4b9a85"
        ],
        [
            "set (h0 := fun k => if eq_dec k (length l) then None else h k).",
            "VernacExtend",
            "a636d93582cc175d2cd5a4c9604ae1b95b82cdda"
        ],
        [
            "replace h with (map_upd h0 (length l) x).",
            "VernacExtend",
            "b9c9285861ad75afd8a64c936d4f6c768c4dfcbe"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "pose proof (hist_list_lt _ _ Hl) as Hn.",
            "VernacExtend",
            "a27376eb07e7466f3a762c6bd55902c9ea296d93"
        ],
        [
            "intro t; specialize (Hn t).",
            "VernacExtend",
            "22a91d7bc83456c8af9811eca98a483e8906b115"
        ],
        [
            "subst h0; simpl; if_tac; [contradiction|].",
            "VernacExtend",
            "ec34fb0836d372e1f9be79cfe08ee260771d6ab0"
        ],
        [
            "intro X; specialize (Hn X); rewrite app_length in Hn; simpl in Hn; omega.",
            "VernacExtend",
            "32e14d1c46328d1658c0f3117b2fc1c25cb149ec"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply IHl.",
            "VernacExtend",
            "af412c6009bba78f939aa53ab07dcd1baaf5888b"
        ],
        [
            "intros t e; specialize (Hl t e).",
            "VernacExtend",
            "7dada8aead816e5d142c648df13578a7a4accf6c"
        ],
        [
            "subst h0; simpl; if_tac.",
            "VernacExtend",
            "20f44fdb777fe9b16001739ce3d7dd2ff4326c1d"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "split; [discriminate|].",
            "VernacExtend",
            "eb4e362215878d083aceff8d8c2608934e0e9948"
        ],
        [
            "intro X; assert (t < length l)%nat by (rewrite <- nth_error_Some, X; discriminate); omega.",
            "VernacExtend",
            "223e4322f738812fb3864acbb555a68a0c6b0e7f"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "rewrite Hl; destruct (lt_dec t (length l)).",
            "VernacExtend",
            "67190ecb47207a7d67e3a905e427c58825dbe7f1"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "rewrite nth_error_app1 by auto; reflexivity.",
            "VernacExtend",
            "f5049e0914a9280b5dddf6993ba1c2899a6717c1"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "split; intro X.",
            "VernacExtend",
            "19badb57669af1362d7d3e629735434511a07d22"
        ],
        [
            "--",
            "VernacBullet",
            "ba168e40f4056f7e624b4823d483fd7320648256"
        ],
        [
            "assert (t < length (l ++ [x]))%nat by (rewrite <- nth_error_Some, X; discriminate); rewrite app_length in *; simpl in *; omega.",
            "VernacExtend",
            "fc3a780b874e8e7b3ef2e22469c23fc2fe89a2bc"
        ],
        [
            "--",
            "VernacBullet",
            "ba168e40f4056f7e624b4823d483fd7320648256"
        ],
        [
            "assert (t < length l)%nat by (rewrite <- nth_error_Some, X; discriminate); contradiction.",
            "VernacExtend",
            "6548d5f8d6b51d7b5bcf5e2956cc6b02508e0232"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold map_upd; subst h0; simpl.",
            "VernacExtend",
            "a4827343aca1d6143b778fd7632e1b478a256ce9"
        ],
        [
            "extensionality k'; if_tac; subst; auto.",
            "VernacExtend",
            "33e64477e63e48fbae579dc82d96de87e02fd898"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma hist_list'_add : forall h1 h2 (l : list hist_el) (Hdisj : disjoint h1 h2), hist_list' (map_add h1 h2) l -> exists l1 l2, Permutation l (l1 ++ l2) /\\ hist_list' h1 l1 /\\ hist_list' h2 l2.",
            "VernacStartTheoremProof",
            "3aec1430062b9d4ad09766960f81f2dfff9e72ad"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "remember (map_add h1 h2) as h.",
            "VernacExtend",
            "33d22e6c27b8886852dfa2e82452a6f0eb90274d"
        ],
        [
            "revert dependent h2; revert h1; induction H; intros.",
            "VernacExtend",
            "866ad8f72c2a4a0019d6b2cf44f8b338cb673e42"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exists [], []; split; [reflexivity|].",
            "VernacExtend",
            "d36f137eb65539837670829c0571ce5efd574e3b"
        ],
        [
            "assert (h1 = empty_map /\\ h2 = empty_map) as [].",
            "VernacExtend",
            "67d601a16bb77955ddb2a96cbc5fda72e27736d8"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "split; extensionality k; apply equal_f with (x := k) in Heqh; unfold map_add in Heqh; destruct (h1 k); auto; discriminate.",
            "VernacExtend",
            "c3ddc31351b3a3770fdcf08c470b986df4d3cef1"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "subst; split; constructor.",
            "VernacExtend",
            "8ccf685a3e712e13725b308f2a6ceb3761b5c7c4"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "pose proof (equal_f Heqh t) as Ht.",
            "VernacExtend",
            "49281dafc3f66b49a6d23285e601b51ca9c5f396"
        ],
        [
            "unfold map_upd, map_add in Ht.",
            "VernacExtend",
            "3f3daf8807bb52cd679b5c7747a34c7d19c5262a"
        ],
        [
            "rewrite eq_dec_refl in Ht by auto.",
            "VernacExtend",
            "503b6f7e490fdc5f97f77f4cdb66128e56222d01"
        ],
        [
            "destruct (h1 t) eqn: Hh1.",
            "VernacExtend",
            "aadbc358397e662b84341e70a2239e2918c63ac8"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "inv Ht.",
            "VernacExtend",
            "ec518ba6f29fd6a4ac64ca4b4544bba8c09dc70e"
        ],
        [
            "destruct (IHhist_list' (map_sub h1 t) h2) as (l1 & l2 & ? & ? & ?).",
            "VernacExtend",
            "f5ac30a36ba95ca684de53420e2dc8e259005436"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "apply disjoint_sub; auto.",
            "VernacExtend",
            "f3d4dfdf7b31ccf92ea53c005b40e347789514f2"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "extensionality k.",
            "VernacExtend",
            "3d0435f326186ec7f64a04595b4266d139fac42d"
        ],
        [
            "apply equal_f with (x := k) in Heqh.",
            "VernacExtend",
            "ed9b684f473038fba0a0a44a65bdb7c21b29707b"
        ],
        [
            "unfold map_upd, map_sub, map_add in *.",
            "VernacExtend",
            "699b3f5920fd2faf43117d3d2c42a765b2711c9c"
        ],
        [
            "if_tac; auto; subst.",
            "VernacExtend",
            "39aea90dccd7f77d3c5f20f80b3383a89333badb"
        ],
        [
            "apply newer_out in Hlast.",
            "VernacExtend",
            "a7a6f26e0c86ee4de4754ad999168526c1c0441f"
        ],
        [
            "apply Hdisj in Hh1; congruence.",
            "VernacExtend",
            "ef2f6b15b4832dfc8bc7e36722a97d73a488b752"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "exists (l1 ++ [h0]), l2; repeat split; auto.",
            "VernacExtend",
            "63ecd89aab904bae61db025f996a97dad3fa0659"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "etransitivity; [|apply Permutation_app_comm].",
            "VernacExtend",
            "512f89eca639f0996b7e327b19d56002dd2623ab"
        ],
        [
            "rewrite app_assoc; apply Permutation_app_tail.",
            "VernacExtend",
            "c16afdc8de764979f4ca1a6d805f2c9226f7007a"
        ],
        [
            "etransitivity; eauto.",
            "VernacExtend",
            "9a7a03ac784b775f6203b3104ab84c89b908a8ba"
        ],
        [
            "apply Permutation_app_comm.",
            "VernacExtend",
            "8cc81e9e367d4b09f69c2fe8d104bdd2b0a73621"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "erewrite <- (map_upd_sub h1 t) by eauto.",
            "VernacExtend",
            "3870d068bcb8eac3f801a4c5bc6c5d6462379461"
        ],
        [
            "constructor; auto.",
            "VernacExtend",
            "686f227fe0f57af60032eb35216aef1e62d0c0e5"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "unfold map_sub in *.",
            "VernacExtend",
            "a4311062453fc7ac99d75beca6cf67ebac6595a6"
        ],
        [
            "apply equal_f with (x := t') in Heqh.",
            "VernacExtend",
            "8e44bef6345793ec3f5dd5ff0f31085d536e59ad"
        ],
        [
            "unfold map_upd, map_add in Heqh.",
            "VernacExtend",
            "a8a1ebcf477834e6f935bf5feb12fc75b3dcac35"
        ],
        [
            "apply Hlast.",
            "VernacExtend",
            "f2d18b249e859f9c47566595f197fd28dcfc4041"
        ],
        [
            "destruct (eq_dec _ _); [contradiction|].",
            "VernacExtend",
            "567a634249f49c19bb55e5ad98439fde64359b97"
        ],
        [
            "destruct (h1 t'); [congruence | contradiction].",
            "VernacExtend",
            "04b99bf04fb1d868964be8ad25c4ca747deff3d9"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (IHhist_list' h1 (map_sub h2 t)) as (l1 & l2 & ? & ? & ?).",
            "VernacExtend",
            "4644a96d41ecfa77f16d50ce040865ace84701db"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "symmetry; apply disjoint_sub; symmetry; auto.",
            "VernacExtend",
            "386a2bec8fd390876ef0e9fc128a000586d97cae"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "extensionality k.",
            "VernacExtend",
            "3d0435f326186ec7f64a04595b4266d139fac42d"
        ],
        [
            "apply equal_f with (x := k) in Heqh.",
            "VernacExtend",
            "ed9b684f473038fba0a0a44a65bdb7c21b29707b"
        ],
        [
            "unfold map_upd, map_sub, map_add in *.",
            "VernacExtend",
            "699b3f5920fd2faf43117d3d2c42a765b2711c9c"
        ],
        [
            "if_tac; auto; subst.",
            "VernacExtend",
            "39aea90dccd7f77d3c5f20f80b3383a89333badb"
        ],
        [
            "apply newer_out in Hlast.",
            "VernacExtend",
            "a7a6f26e0c86ee4de4754ad999168526c1c0441f"
        ],
        [
            "rewrite Hh1; auto.",
            "VernacExtend",
            "91329f1ebd1b395e18eda7d73bcc453b2c3e6904"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "exists l1, (l2 ++ [e]); repeat split; auto.",
            "VernacExtend",
            "f917896cee722cb036a087c7282b966f38e92e7b"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "rewrite app_assoc; apply Permutation_app_tail; auto.",
            "VernacExtend",
            "b03bcd0d80dd795f787a41a1515704a82f695515"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "erewrite <- (map_upd_sub h2 t) by eauto.",
            "VernacExtend",
            "11e1e9088b0820c22b960202c809ab81781fd253"
        ],
        [
            "constructor; auto.",
            "VernacExtend",
            "686f227fe0f57af60032eb35216aef1e62d0c0e5"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "unfold map_sub in *.",
            "VernacExtend",
            "a4311062453fc7ac99d75beca6cf67ebac6595a6"
        ],
        [
            "apply equal_f with (x := t') in Heqh.",
            "VernacExtend",
            "8e44bef6345793ec3f5dd5ff0f31085d536e59ad"
        ],
        [
            "unfold map_upd, map_add in Heqh.",
            "VernacExtend",
            "a8a1ebcf477834e6f935bf5feb12fc75b3dcac35"
        ],
        [
            "apply Hlast.",
            "VernacExtend",
            "f2d18b249e859f9c47566595f197fd28dcfc4041"
        ],
        [
            "destruct (eq_dec _ _); [contradiction|].",
            "VernacExtend",
            "567a634249f49c19bb55e5ad98439fde64359b97"
        ],
        [
            "destruct (h1 t'); congruence.",
            "VernacExtend",
            "97b1ec6899a3f0a5cf1a58c8ccaf2b329656614c"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma ghost_hist_init : @valid (ref_PCM (@map_disj_PCM nat hist_el)) (Some (Tsh, empty_map), Some empty_map).",
            "VernacStartTheoremProof",
            "6f05225947856a5dc3712edad5870f434a066cc0"
        ],
        [
            "split; simpl; auto.",
            "VernacExtend",
            "e2ee7819fbb32d2c4a8d46eec291a3c64ca8c3fb"
        ],
        [
            "rewrite completable_alt; split; auto.",
            "VernacExtend",
            "942cc7831fdaf333c64d9e5c80d765608c924dd7"
        ],
        [
            "rewrite eq_dec_refl; auto.",
            "VernacExtend",
            "d0f183f79590ce7220aaf8dc6e0509aac828f6ee"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Inductive add_events h : list hist_el -> hist_part -> Prop := | add_events_nil : add_events h [] h | add_events_snoc : forall le h' t e (Hh' : add_events h le h') (Ht : newer h' t), add_events h (le ++ [e]) (map_upd h' t e).",
            "VernacInductive",
            "e4d4ba998d19cc32569c81586076fd6b1c0cb7e5"
        ],
        [
            "Hint Resolve add_events_nil.",
            "VernacHints",
            "d260d19214a63d3358e76c0ca0ee74a92336e198"
        ],
        [
            "Lemma add_events_1 : forall h t e (Ht : newer h t), add_events h [e] (map_upd h t e).",
            "VernacStartTheoremProof",
            "eb8ca1693cc817cd2e58675cd6c3af0a67a90a69"
        ],
        [
            "intros; apply (add_events_snoc _ []); auto.",
            "VernacExtend",
            "37626189e360486a1ec3fc6310a5c77ca6f555b0"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma add_events_trans : forall h le h' le' h'' (H1 : add_events h le h') (H2 : add_events h' le' h''), add_events h (le ++ le') h''.",
            "VernacStartTheoremProof",
            "68e58e631f2e277537cfd1f6b8ec297a806634af"
        ],
        [
            "induction 2.",
            "VernacExtend",
            "1af3b9f2643066cd76726ca6025cb318959840d3"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "rewrite app_nil_r; auto.",
            "VernacExtend",
            "1d1177ca5089e90b0ad0d23abdc633163bacb58e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "rewrite app_assoc; constructor; auto.",
            "VernacExtend",
            "3825b75ebd0facd70ba17b93c9de5d637fb8603f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma add_events_add : forall h le h', add_events h le h' -> exists h2, h' = map_add h h2 /\\ forall t e, h2 t = Some e -> newer h t /\\ In e le.",
            "VernacStartTheoremProof",
            "9e83e9b3a151b7e9010c2abf18cafd0a3f6cf1e4"
        ],
        [
            "induction 1.",
            "VernacExtend",
            "dfe896305621800fcbb03b32d51d497edbdf1dc5"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eexists; rewrite map_add_empty; split; auto; discriminate.",
            "VernacExtend",
            "9125acde62ba2c3b2a4e054de4835067240bd1c6"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct IHadd_events as (h2 & ? & Hh2); subst.",
            "VernacExtend",
            "443ab1240214da91a68865c1054fb233f024b080"
        ],
        [
            "assert (compatible h h2).",
            "VernacExtend",
            "8445b2850e253f7042d03505b9401b212da8c540"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "destruct (Hh2 _ _ H1) as [Hk _].",
            "VernacExtend",
            "e737eed30afbe20160125274f5f44a54e89f9ab4"
        ],
        [
            "specialize (Hk k); lapply Hk; [omega | congruence].",
            "VernacExtend",
            "1424cef8fad31fa07bc2a0fd614b87ffb46e7817"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "assert (newer h t).",
            "VernacExtend",
            "ad614c68b272c1f09d2a615a6b69bdf8a0d65a5e"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "repeat intro; apply Ht.",
            "VernacExtend",
            "40dc17d2a67dc2b4829a1fe5655b2477fa985c37"
        ],
        [
            "unfold map_add.",
            "VernacExtend",
            "b39ae9aa8c1f76a7dbc37f8a7673baec8079cab6"
        ],
        [
            "destruct (h t'); auto.",
            "VernacExtend",
            "b266274fa04d9e6f9cfa87fb9e7232071554f149"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "rewrite map_add_comm, map_add_upd, map_add_comm; auto.",
            "VernacExtend",
            "208644b344db8fd26212d146ad164d83fa7b8271"
        ],
        [
            "eexists; split; eauto; intros.",
            "VernacExtend",
            "a0ecb9f4170be5c6c914721720a6b3970887bfa2"
        ],
        [
            "unfold map_upd in *.",
            "VernacExtend",
            "cee623ce2e1ea47a76b115d8c9916bba0830e67b"
        ],
        [
            "rewrite in_app; simpl.",
            "VernacExtend",
            "5c0e0ff2077284f161ea2a8895f61b6069f3aafd"
        ],
        [
            "destruct (eq_dec t0 t); [inv H2; auto|].",
            "VernacExtend",
            "715d7ca16a2b62bdb6ccae4ade9995bf6d0f828f"
        ],
        [
            "destruct (Hh2 _ _ H2); auto.",
            "VernacExtend",
            "ec2cd2b0b6d3124a1bc7a5172a6edb65109511c7"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "apply compatible_upd; [symmetry; auto|].",
            "VernacExtend",
            "31f692f8e1ea3c8f65ff8a4b217618ee664b4da4"
        ],
        [
            "specialize (H1 t).",
            "VernacExtend",
            "c9a653bf551af759fcbd386777553947bf657a05"
        ],
        [
            "destruct (h t); auto.",
            "VernacExtend",
            "e6e63dcedd9552a3ba96bfe93b5e219d6cad2f0f"
        ],
        [
            "lapply H1; [omega | discriminate].",
            "VernacExtend",
            "520e709be52759e7b48891ff64012bb156d3e6d6"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Corollary add_events_dom : forall h le h' t e, add_events h le h' -> h' t = Some e -> h t = Some e \\/ In e le.",
            "VernacStartTheoremProof",
            "76481736571275e270929828cb380445c2da00b4"
        ],
        [
            "intros; apply add_events_add in H as (? & ? & Hh2); subst.",
            "VernacExtend",
            "878a702608cf261a5ff0d11888f4d7a486eadce9"
        ],
        [
            "unfold map_add in H0.",
            "VernacExtend",
            "a3ed886334834ec1b64c8ab9e388f30d61c6d7d9"
        ],
        [
            "destruct (h t); [inv H0; auto|].",
            "VernacExtend",
            "974569f2e9b39c7171fda52b45d208025e372a98"
        ],
        [
            "destruct (Hh2 _ _ H0); auto.",
            "VernacExtend",
            "dc0467ab7b9caa1de38228031d747c6d9c55baa5"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Corollary add_events_incl : forall h le h', add_events h le h' -> map_incl h h'.",
            "VernacStartTheoremProof",
            "df5a91eeb24fef042e72dfa9894a30028281d30c"
        ],
        [
            "intros; apply add_events_add in H as (? & ? & ?); subst.",
            "VernacExtend",
            "4739a7d3215f0a4518ca34c1b8e5236efe1dd08c"
        ],
        [
            "apply map_incl_add.",
            "VernacExtend",
            "cfb891eee5f82e7a834dfc8471b09fd2bc57e0a4"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Corollary add_events_newer : forall h le h' t, add_events h le h' -> newer h' t -> newer h t.",
            "VernacStartTheoremProof",
            "c6caf805a9be3af8152ac1facc4f76d30e50f228"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "apply H0.",
            "VernacExtend",
            "c75b3371fc84f2aae811de7e80b1bdb43e4d249a"
        ],
        [
            "destruct (h t') eqn: Ht'; [|contradiction].",
            "VernacExtend",
            "2df3880884945a6351f238a24762b035b952b9cb"
        ],
        [
            "eapply add_events_incl in Ht' as ->; eauto.",
            "VernacExtend",
            "fb71a5594c1392e5f514a8df1489345541af159d"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma add_events_in : forall h le h' e, add_events h le h' -> In e le -> exists t, newer h t /\\ h' t = Some e.",
            "VernacStartTheoremProof",
            "5b51426f47b23b79c7a16511ecf25c75e7dcd4bc"
        ],
        [
            "induction 1; [contradiction|].",
            "VernacExtend",
            "68d33ee145cb2b883954178d903bff1cf43dc104"
        ],
        [
            "rewrite in_app; intros [? | [? | ?]]; try contradiction.",
            "VernacExtend",
            "b661d14107c053b2d82111a2244340ff59991c90"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct IHadd_events as (? & ? & ?); auto.",
            "VernacExtend",
            "9f278734979afa65331f1db7945ab921a4f353ff"
        ],
        [
            "do 2 eexists; eauto.",
            "VernacExtend",
            "87b62310489815d0095220d7785034cdcbe60c43"
        ],
        [
            "unfold map_upd; if_tac; auto; subst.",
            "VernacExtend",
            "9c5ded0e41a29852abad7e2c980f2b8988733f9e"
        ],
        [
            "specialize (Ht t); rewrite H2 in Ht; lapply Ht; [omega | discriminate].",
            "VernacExtend",
            "2443b202284e15c4c85c3606908a5713279317a1"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "subst; unfold map_upd; do 2 eexists; [|apply eq_dec_refl].",
            "VernacExtend",
            "d8c8cc86916d1aba0fb84a936d1f839815120264"
        ],
        [
            "eapply add_events_newer; eauto.",
            "VernacExtend",
            "b0d5652272c1db3dd6efde73b480cc17e51cf161"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End GHist.",
            "VernacEndSegment",
            "3f5c2a93c5eae2591c092527ff489d8d13ad0af1"
        ],
        [
            "Hint Resolve hist_incl_nil hist_list_nil hist_list'_nil add_events_nil.",
            "VernacHints",
            "448569bde0b7978086d21aa1c2429eff27b9a5ad"
        ],
        [
            "Hint Resolve master_init ghost_hist_init : init.",
            "VernacHints",
            "f880c300ac9fcf2034cb6ea31fa6abc4712164a5"
        ],
        [
            "Ltac ghost_alloc G := match goal with |-semax _ (PROPx ?P (LOCALx ?Q (SEPx ?R))) _ _ => apply (semax_pre_bupd (PROPx P (LOCALx Q (SEPx ((EX g : _, G g) :: R))))); [go_lower; rewrite !prop_true_andp by (repeat (split; auto)); rewrite <- emp_sepcon at 1; eapply derives_trans, bupd_frame_r; apply sepcon_derives, derives_refl; apply own_alloc; auto; simpl; auto with init|] end.",
            "VernacExtend",
            "8645634a51986d16c923ea60ccddb28079e95aa7"
        ],
        [
            "Ltac ghosts_alloc G n := match goal with |-semax _ (PROPx ?P (LOCALx ?Q (SEPx ?R))) _ _ => apply (semax_pre_bupd (PROPx P (LOCALx Q (SEPx ((EX lg : _, !!(Zlength lg = n) && iter_sepcon G lg) :: R))))); [go_lower; rewrite !prop_true_andp by (repeat (split; auto)); rewrite <- emp_sepcon at 1; eapply derives_trans, bupd_frame_r; apply sepcon_derives, derives_refl; apply own_list_alloc'; auto; simpl; auto with init|] end.",
            "VernacExtend",
            "dc74b7a55700607769c4736f7e556c56c5dc4675"
        ],
        [
            "Program Definition weak_view_shift (P Q: mpred): mpred := fun w => predicates_hered.derives (approx (S (level w)) P) (own.bupd (approx (S (level w)) Q)).",
            "VernacDefinition",
            "f3f6375534c624be8c5473710261a89cfab27cf0"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "destruct H1.",
            "VernacExtend",
            "e752c2122f55c888e09082f784a6da990b01fbe7"
        ],
        [
            "apply age_level in H.",
            "VernacExtend",
            "cab1ee3d49024d43572fc289b15512cbdff1144d"
        ],
        [
            "lapply (H0 a0); [|split; auto; omega].",
            "VernacExtend",
            "200ca1e62a9c90553d195ce11f35312fbf4c7d22"
        ],
        [
            "intro HQ; destruct (HQ _ H2) as (? & ? & ? & ? & ? & ? & []).",
            "VernacExtend",
            "fdbd5aa0ef310c9acf9f7d823956a962a4e92d01"
        ],
        [
            "eexists; split; eauto; eexists; split; eauto; repeat split; auto; omega.",
            "VernacExtend",
            "96f596052bcdbff36094faef30a20f5cb8657a72"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Lemma view_shift_nonexpansive: forall P Q n, approx n (weak_view_shift P Q) = approx n (weak_view_shift (approx n P) (approx n Q)).",
            "VernacStartTheoremProof",
            "106c36283b2e9ce6e9508081d764b1aa7a41b414"
        ],
        [
            "apply nonexpansive2_super_non_expansive; repeat intro.",
            "VernacExtend",
            "5688dc88ac5b6debd2769e284d6854c82c62b87a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "split; intros ??%necR_level Hshift ? HP ? J; destruct (Hshift _ HP _ J) as (? & ? & m' & ? & ? & ? & []); destruct HP; eexists; split; eauto; eexists; split; eauto; repeat split; auto; apply (H m'); auto; omega.",
            "VernacExtend",
            "e883254c799fdaee07cf492e24c4dc3e8f629c51"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "split; intros ??%necR_level Hshift ? []; apply Hshift; split; auto; apply (H a0); auto; omega.",
            "VernacExtend",
            "6aebca8c790e4e40d022d3dcc33916c6542da002"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma view_shift_nonexpansive_l: forall P Q n, approx n (weak_view_shift P Q) = approx n (weak_view_shift (approx n P) Q).",
            "VernacStartTheoremProof",
            "f0078bda8c1f2aa3225b811ff5f6104ace43291a"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "apply (nonexpansive_super_non_expansive (fun P => weak_view_shift P Q)); repeat intro.",
            "VernacExtend",
            "749df78096713d87c70145d959a770e3bb779b1b"
        ],
        [
            "split; intros ??%necR_level Hshift ? []; apply Hshift; split; auto; apply (H a0); auto; omega.",
            "VernacExtend",
            "6aebca8c790e4e40d022d3dcc33916c6542da002"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma view_shift_nonexpansive_R: forall P Q n, approx n (weak_view_shift P Q) = approx n (weak_view_shift P (approx n Q)).",
            "VernacStartTheoremProof",
            "7810999dc60845d17d8c2b3a52ce35004d8b2417"
        ],
        [
            "repeat intro.",
            "VernacExtend",
            "b1b5d9b3004bf4634299c208df98406e88278608"
        ],
        [
            "apply (nonexpansive_super_non_expansive (fun Q => weak_view_shift P Q)); repeat intro.",
            "VernacExtend",
            "1231dc099b50a3c6f1e3a6162bdeaf29602fa7fd"
        ],
        [
            "split; intros ??%necR_level Hshift ? HP ? J; destruct (Hshift _ HP _ J) as (? & ? & m' & ? & ? & ? & []); destruct HP; eexists; split; eauto; eexists; split; eauto; repeat split; auto; apply (H m'); auto; omega.",
            "VernacExtend",
            "e883254c799fdaee07cf492e24c4dc3e8f629c51"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma view_shift_weak: forall P Q, P |-- |==> Q -> TT |-- weak_view_shift P Q.",
            "VernacStartTheoremProof",
            "a6139f5c9e858b135ed9d0dd0542eb06fa46ff6a"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "change (predicates_hered.derives TT (weak_view_shift P Q)).",
            "VernacExtend",
            "08fc607a28a5ae81bc1e66db6895bd15914b5b9c"
        ],
        [
            "intros w _ ? [? HP] ? J.",
            "VernacExtend",
            "a8ee1d546f8be9f1c463788691a7699bde262823"
        ],
        [
            "destruct (H _ HP _ J) as (? & ? & ? & ? & ? & ? & ?).",
            "VernacExtend",
            "52dee0fec60b8ef34ab6289eee9efb9b861f8d61"
        ],
        [
            "eexists; split; eauto; eexists; split; eauto; repeat split; auto; omega.",
            "VernacExtend",
            "96f596052bcdbff36094faef30a20f5cb8657a72"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma apply_view_shift: forall P Q, (weak_view_shift P Q && emp) * P |-- |==> Q.",
            "VernacStartTheoremProof",
            "3948cf294bd12c606e2fe548de4cf4873701000b"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "change (predicates_hered.derives ((weak_view_shift P Q && emp) * P) (own.bupd Q)).",
            "VernacExtend",
            "a6cd02de215b7434f28a70572525f7581e268ceb"
        ],
        [
            "intros ? (? & ? & ? & [Hshift Hemp] & HP) ? J.",
            "VernacExtend",
            "09e58c37b8f718e71034a7d37f7c3aa5b34cd2cb"
        ],
        [
            "destruct (join_level _ _ _ H).",
            "VernacExtend",
            "e78021f7e985fb4aee82e3d0ffa180b4b6faf842"
        ],
        [
            "apply Hemp in H; subst.",
            "VernacExtend",
            "44010ca18d0fb31a038b82218f83473b0abf3f20"
        ],
        [
            "lapply (Hshift a); [|split; auto; omega].",
            "VernacExtend",
            "c6e47d27a44477eca50d179c2518943bc74df29b"
        ],
        [
            "intro X; destruct (X _ J) as (? & ? & ? & ? & ? & ? & []); eauto 7.",
            "VernacExtend",
            "a268592f358c937b50cfe469aa44888705aa76bc"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ]
    ],
    "proofs": [
        {
            "name": "own_op'",
            "line_nb": 12,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply pred_ext.",
                        "VernacExtend",
                        "9b03db08834ebab822f3dce151d20d6efb17f5ba"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "assert_PROP (valid_2 a1 a2) as Hjoin by (apply own_valid_2).",
                        "VernacExtend",
                        "123fa9dc4a85c79319b8f95a1b017286f8759c24"
                    ]
                },
                {
                    "command": [
                        "destruct Hjoin as (a3 & ? & ?); Exists a3; entailer!.",
                        "VernacExtend",
                        "9c169c17c4503797699b6dd5b6629115d3db8e46"
                    ]
                },
                {
                    "command": [
                        "erewrite <- own_op by eauto.",
                        "VernacExtend",
                        "fd0518f0cd6bca41a9d2fd85a5135677c29ab0e3"
                    ]
                },
                {
                    "command": [
                        "apply derives_refl.",
                        "VernacExtend",
                        "e6aad07de74a98e9e95ce8bc0aeafdd1290e4b6f"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "Intros a3.",
                        "VernacExtend",
                        "e88883ef6fb817ab7c6d15589e705e4ddcb1ebc7"
                    ]
                },
                {
                    "command": [
                        "erewrite own_op by eauto.",
                        "VernacExtend",
                        "389e8cbfcbe6d4487145b4d3dfb475b5268f260c"
                    ]
                },
                {
                    "command": [
                        "apply derives_refl.",
                        "VernacExtend",
                        "e6aad07de74a98e9e95ce8bc0aeafdd1290e4b6f"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "own_op_gen",
            "line_nb": 25,
            "steps": [
                {
                    "command": [
                        "intros; apply pred_ext.",
                        "VernacExtend",
                        "8cc2d7d8eebb3d50903946126176130d80954106"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "assert_PROP (valid_2 a1 a2) as Hv by apply own_valid_2.",
                        "VernacExtend",
                        "6054b7ff3b96f1bba11846b5565c398b18de7bd3"
                    ]
                },
                {
                    "command": [
                        "erewrite <- own_op by eauto; entailer!.",
                        "VernacExtend",
                        "8e5eb18663ea4ccc206042964486989029f00be3"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "Intros.",
                        "VernacExtend",
                        "58784a78af6fa36ccbd531d2a460b187e88b99db"
                    ]
                },
                {
                    "command": [
                        "erewrite own_op by eauto; entailer!.",
                        "VernacExtend",
                        "0204a7016f6ade917f59f41bd3a8cc8b2010fa63"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "own_list_dealloc'",
            "line_nb": 79,
            "steps": [
                {
                    "command": [
                        "intros; apply own_list_dealloc.",
                        "VernacExtend",
                        "11390e5269ad577e6393b9dc3cc18962d9043180"
                    ]
                },
                {
                    "command": [
                        "repeat eexists; apply derives_refl.",
                        "VernacExtend",
                        "63a9b69aa9c524aa27a3bee58bc292b4c8e8f6b1"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "exclusive_update",
            "line_nb": 86,
            "steps": [
                {
                    "command": [
                        "intros; apply own_update.",
                        "VernacExtend",
                        "19dd011f1c55ce8285e82c272de790c89ded909a"
                    ]
                },
                {
                    "command": [
                        "intros ? (? & ? & _).",
                        "VernacExtend",
                        "7086a063fa933b49a0ee2ad39efa9a2a537ddf53"
                    ]
                },
                {
                    "command": [
                        "exists (Some v'); split; simpl; auto; inv H; constructor.",
                        "VernacExtend",
                        "d2d95dfc9695a3efe18d50e0dbd4babbfe21da23"
                    ]
                },
                {
                    "command": [
                        "inv H1.",
                        "VernacExtend",
                        "7549fbb600c3af6072a6d21bdcba999a253a2e01"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "prod_PCM_obligation_1",
            "line_nb": 94,
            "steps": [
                {
                    "command": [
                        "intros GA GB ??? [] []; split; eapply join_valid; eauto.",
                        "VernacExtend",
                        "d9941c60f3d4a540cae26d94df45f7f9e62edaff"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "join_refl",
            "line_nb": 100,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply ord_join; reflexivity.",
                        "VernacExtend",
                        "c919aadc6fafcd81608ad0d9e26a86ecb3d6cbfb"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "join_compat",
            "line_nb": 104,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "destruct (join_ord _ _ _ H).",
                        "VernacExtend",
                        "2e72bf35ff7da734d9632f487c91dad45ea17be3"
                    ]
                },
                {
                    "command": [
                        "destruct (ord_lub v1 v' v'') as (? & ? & ?); eauto.",
                        "VernacExtend",
                        "dac924c3c3570a022440b5a98d82ae1a187f3d4f"
                    ]
                },
                {
                    "command": [
                        "etransitivity; eauto.",
                        "VernacExtend",
                        "9a7a03ac784b775f6203b3104ab84c89b908a8ba"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "join_ord_eq",
            "line_nb": 110,
            "steps": [
                {
                    "command": [
                        "split.",
                        "VernacExtend",
                        "55abc140132bd88981001ac656020469a8d503eb"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros; exists b.",
                        "VernacExtend",
                        "36860d2f15009f5abd1a2fd20cf0dbd0a0a53ab5"
                    ]
                },
                {
                    "command": [
                        "apply ord_join in H.",
                        "VernacExtend",
                        "5576c8aff02a6ec89c56c2dfee87b205536c5ef8"
                    ]
                },
                {
                    "command": [
                        "apply join_comm; auto.",
                        "VernacExtend",
                        "f8704e28f12171aea84f4aa6046756c8e2b1fb03"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros (? & H); apply join_ord in H; tauto.",
                        "VernacExtend",
                        "14d85a1f5bd9dddf8ceba50b1becba4232eeae0b"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "snap_PCM_obligation_1",
            "line_nb": 120,
            "steps": [
                {
                    "command": [
                        "exists (fun '(sh, a) => (Share.bot, core a)); repeat intro.",
                        "VernacExtend",
                        "9ba070b67c5d56520309590232ddd7d825a0f4a6"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct t; constructor; auto; simpl.",
                        "VernacExtend",
                        "b1b0b29a0102d1ce28bc17b087cfa46dff2cff24"
                    ]
                },
                {
                    "command": [
                        "rewrite eq_dec_refl.",
                        "VernacExtend",
                        "60183bcd24b5067de9b57e6446bafab9cd8b2625"
                    ]
                },
                {
                    "command": [
                        "if_tac; [apply core_unit | split; auto].",
                        "VernacExtend",
                        "30a685959f82216347570237b76f1bcc64e105f9"
                    ]
                },
                {
                    "command": [
                        "rewrite join_ord_eq; eexists; apply core_unit.",
                        "VernacExtend",
                        "f1b61773d7a4f35960a109481cfc174fd291600e"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct a, b, c; f_equal.",
                        "VernacExtend",
                        "3065c5cc8a78a4a0cb28834823f60b36a4b3b56a"
                    ]
                },
                {
                    "command": [
                        "inv H; simpl in *.",
                        "VernacExtend",
                        "7f483b963f4e1adf494c8c50c5668e72b1e4153e"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec t Share.bot); [|destruct H1; subst; auto].",
                        "VernacExtend",
                        "0322e0cf683186116febee6528ce7f0cf74ee74f"
                    ]
                },
                {
                    "command": [
                        "subst; apply bot_identity in H0; subst.",
                        "VernacExtend",
                        "d69a2652c563dcd7ff18254be5d5906894f6be0e"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec t1 Share.bot); [|destruct H1; subst; auto].",
                        "VernacExtend",
                        "91665e68450a3409942c053b3cc20b0525dbad34"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "eapply join_core; eauto.",
                        "VernacExtend",
                        "5ac5ccffe9b6747b61c6829a4613898aa4d25ca3"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "rewrite join_ord_eq in H; destruct H.",
                        "VernacExtend",
                        "cc8b15de93343715d75ffa46c2ab958126282fdf"
                    ]
                },
                {
                    "command": [
                        "eapply join_core; eauto.",
                        "VernacExtend",
                        "5ac5ccffe9b6747b61c6829a4613898aa4d25ca3"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "snap_PCM_obligation_2",
            "line_nb": 139,
            "steps": [
                {
                    "command": [
                        "constructor.",
                        "VernacExtend",
                        "3c77e6be855b5086df5e918bf2a0537e1010479a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros ???? [? Hjoin1] [? Hjoin2].",
                        "VernacExtend",
                        "4a926247cd753b4a0f954c038604e2908f8ec31e"
                    ]
                },
                {
                    "command": [
                        "assert (fst z = fst z') by (eapply join_eq; eauto).",
                        "VernacExtend",
                        "11d917e7ecc6ddd86b014eea6b54295c45aba634"
                    ]
                },
                {
                    "command": [
                        "destruct z, z'; simpl in *; subst; f_equal.",
                        "VernacExtend",
                        "5cebf9e3202d256249a32e095193d9e5a7ce3505"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec (fst x) Share.bot); [|destruct Hjoin1, Hjoin2; subst; auto].",
                        "VernacExtend",
                        "af6de232bb2d9a9045f4b1df30968e230cfae405"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec (fst y) Share.bot); [|destruct Hjoin1, Hjoin2; subst; auto].",
                        "VernacExtend",
                        "2fc70d610505e1232a9e0afa414db2811c590ac9"
                    ]
                },
                {
                    "command": [
                        "eapply join_eq; eauto.",
                        "VernacExtend",
                        "ccf59f1f695e4c180b0ea6a817cf2aad71c65ad6"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros ????? [Hsh1 Hjoin1] [Hsh2 Hjoin2].",
                        "VernacExtend",
                        "6131eaa975bc59dbed511027be295cc2884e8bda"
                    ]
                },
                {
                    "command": [
                        "destruct (sepalg.join_assoc Hsh1 Hsh2) as [sh' []].",
                        "VernacExtend",
                        "39dfe00d6e90bf35131a9ea20761d1ae9c478c31"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec (fst b) Share.bot) eqn: Hb.",
                        "VernacExtend",
                        "188d0a3ed89bf8bc04a8933c06dfc9027fa3d8bc"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "assert (fst d = fst a) as Hd.",
                        "VernacExtend",
                        "ddaa55d36aaf3a0b174b4554580b6e633091bc20"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "eapply sepalg.join_eq; eauto.",
                        "VernacExtend",
                        "cb4519a650a38dd3cfd622eae7f459e767dd67c6"
                    ]
                },
                {
                    "command": [
                        "rewrite e0; apply join_bot_eq.",
                        "VernacExtend",
                        "27df05bb5fb2f01915459a9ebd29e8b1d1209982"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "rewrite Hd in *.",
                        "VernacExtend",
                        "1a5c030650e0045d7fbc8936215708be5bb78933"
                    ]
                },
                {
                    "command": [
                        "assert (sh' = fst c) as Hc.",
                        "VernacExtend",
                        "7bbab0a2c9d8f06c74e790e7f460309d624364ab"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "eapply sepalg.join_eq; eauto.",
                        "VernacExtend",
                        "cb4519a650a38dd3cfd622eae7f459e767dd67c6"
                    ]
                },
                {
                    "command": [
                        "rewrite e0; apply bot_join_eq.",
                        "VernacExtend",
                        "690a987b346095d6677c052b9220941e4407cee1"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "rewrite Hc in *.",
                        "VernacExtend",
                        "fe7dfd74f18e4e60b383096f23f24bef54c71938"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec (fst c) Share.bot) eqn: Hc1.",
                        "VernacExtend",
                        "ebea1aa9bf3b12bac94690be836a15b32880c130"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec (fst a) Share.bot) eqn: Ha.",
                        "VernacExtend",
                        "2fe58ad69d9b8d11f6e09ee5562db6a149e806c2"
                    ]
                },
                {
                    "command": [
                        "--",
                        "VernacBullet",
                        "ba168e40f4056f7e624b4823d483fd7320648256"
                    ]
                },
                {
                    "command": [
                        "destruct (join_assoc Hjoin1 Hjoin2) as [c' []].",
                        "VernacExtend",
                        "0f489df5a3bfcc261e320a418582e7b9314feb7d"
                    ]
                },
                {
                    "command": [
                        "exists (Share.bot, c'); split; split; rewrite ?e2, ?e0, ?e1, ?eq_dec_refl in *; auto.",
                        "VernacExtend",
                        "97dca3daf992d979aab1477258134a2a6fe58441"
                    ]
                },
                {
                    "command": [
                        "--",
                        "VernacBullet",
                        "ba168e40f4056f7e624b4823d483fd7320648256"
                    ]
                },
                {
                    "command": [
                        "destruct Hjoin1 as [Hc' ?]; rewrite Hc' in *.",
                        "VernacExtend",
                        "43424307652f51542a6bff7317534c7ac23c7a93"
                    ]
                },
                {
                    "command": [
                        "destruct Hjoin2, (ord_lub (snd b) (snd c) (snd a)) as [c' []]; eauto.",
                        "VernacExtend",
                        "732c6b8910de6f627be6e03f52787dcdd1bce2a6"
                    ]
                },
                {
                    "command": [
                        "exists (Share.bot, c'); split; split; rewrite ?e0, ?e1, ?eq_dec_refl, ?Ha in *; auto.",
                        "VernacExtend",
                        "bed15777634429b1d918c3bc378621e5f3f2fa97"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "exists c.",
                        "VernacExtend",
                        "683d4593ad0b3c7125e420e0670d5a4b0d3c38bc"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec (fst a) Share.bot) eqn: Ha; try solve [split; split; auto].",
                        "VernacExtend",
                        "5d81168510a10bae857637eee9591509824e1fa3"
                    ]
                },
                {
                    "command": [
                        "--",
                        "VernacBullet",
                        "ba168e40f4056f7e624b4823d483fd7320648256"
                    ]
                },
                {
                    "command": [
                        "destruct Hjoin2.",
                        "VernacExtend",
                        "5b2a007f7286bdcef88c75d069410b378a4a5dc7"
                    ]
                },
                {
                    "command": [
                        "apply join_ord in Hjoin1; destruct Hjoin1.",
                        "VernacExtend",
                        "3a324baddf6e1ea05affed6b6b7529c02cc2a6b2"
                    ]
                },
                {
                    "command": [
                        "split; split; rewrite ?e0, ?Ha, ?Hc1, ?eq_dec_refl; auto; split; auto; etransitivity; eauto.",
                        "VernacExtend",
                        "e4aeaf4a09cc1b0551b4b654d13791dfb9dadcb6"
                    ]
                },
                {
                    "command": [
                        "--",
                        "VernacBullet",
                        "ba168e40f4056f7e624b4823d483fd7320648256"
                    ]
                },
                {
                    "command": [
                        "destruct Hjoin2 as [He1 He2]; rewrite He1, He2 in *.",
                        "VernacExtend",
                        "66519144dce33a51ac2fdf6860e3a13c191b8351"
                    ]
                },
                {
                    "command": [
                        "destruct Hjoin1 as [Hd' ?]; rewrite Hd' in *; split; split; rewrite ?e0, ?Ha, ?Hc1, ?eq_dec_refl, ?Hd'; auto.",
                        "VernacExtend",
                        "89cfe4bec746cb6fae5c8a17b331900767361366"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "exists (sh', snd b); simpl.",
                        "VernacExtend",
                        "9cfdf496e184c68c49be1202776a59d89d4fb04f"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec (fst d) Share.bot).",
                        "VernacExtend",
                        "140fd7cdcfa79ad82a99751ad428cec08b7f4f92"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "rewrite e0 in Hsh1; apply join_Bot in Hsh1; destruct Hsh1; contradiction.",
                        "VernacExtend",
                        "615b4e639d8a1c49e0842aec047b9f52d75d0eaa"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec sh' Share.bot) eqn: Hn'.",
                        "VernacExtend",
                        "ec63ab2142c3fca4a549120e642ba38b2cb10a0d"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "subst; apply join_Bot in H; destruct H; contradiction.",
                        "VernacExtend",
                        "1d0df59184a88969f64968c548d283cee79ef137"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "assert (snd d = snd b) as Hd by (destruct (eq_dec (fst a) Share.bot); tauto).",
                        "VernacExtend",
                        "d495c48844a7d3d7cea8c8dcd3480eea660b58c7"
                    ]
                },
                {
                    "command": [
                        "destruct Hjoin2 as [He ?]; rewrite He in *; split; split; simpl; rewrite ?Hb, ?Hn', ?Hd, ?He in *; auto.",
                        "VernacExtend",
                        "2c411e18f39a1942428a5fe5637faee1385aa7b3"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros ??? []; split; [apply join_comm; auto|].",
                        "VernacExtend",
                        "f0098ab68aa8eed723a73f71ae341484a0b7bf03"
                    ]
                },
                {
                    "command": [
                        "if_tac; if_tac; auto; tauto.",
                        "VernacExtend",
                        "c2089cd663367b83df9fbd68d5c1feef3bafc1cc"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros ???? [? Hjoin1] [? Hjoin2].",
                        "VernacExtend",
                        "4a926247cd753b4a0f954c038604e2908f8ec31e"
                    ]
                },
                {
                    "command": [
                        "assert (fst a = fst b) by (eapply join_positivity; eauto).",
                        "VernacExtend",
                        "5e665d98f9923867e9db77d6b79feca7b0b76197"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec (fst a) Share.bot), a, a', b, b'; simpl in *; subst; f_equal.",
                        "VernacExtend",
                        "08179cf0d474135e8750403d0c2eaca338a86678"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply join_Bot in H0 as []; subst.",
                        "VernacExtend",
                        "5c3080c64e092b2c0bab0d6be2306eb9d35887c3"
                    ]
                },
                {
                    "command": [
                        "apply join_Bot in H as []; subst.",
                        "VernacExtend",
                        "8677f9698cb4962d2009de18dbf6fcdd008b7a65"
                    ]
                },
                {
                    "command": [
                        "rewrite eq_dec_refl in Hjoin1, Hjoin2, Hjoin2.",
                        "VernacExtend",
                        "3dda0572931208294907315440c6503c34c9e999"
                    ]
                },
                {
                    "command": [
                        "eapply join_positivity; eauto.",
                        "VernacExtend",
                        "b262d9d0323b0c99e4dff673bcb8aed87da0254b"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct Hjoin1; auto.",
                        "VernacExtend",
                        "727656db5978d5f7e531e2f128cf461dca13367b"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "snap_PCM_obligation_3",
            "line_nb": 212,
            "steps": [
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "ghost_snap_join",
            "line_nb": 216,
            "steps": [
                {
                    "command": [
                        "intros; symmetry; apply own_op.",
                        "VernacExtend",
                        "383aead7a8bfd217a8251c487382ce9ae89b9947"
                    ]
                },
                {
                    "command": [
                        "split; simpl; rewrite ?eq_dec_refl; auto.",
                        "VernacExtend",
                        "14dfd9184600c06a875272590c3d524ddb904206"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "ghost_snap_conflict",
            "line_nb": 220,
            "steps": [
                {
                    "command": [
                        "intros; eapply derives_trans; [apply own_valid_2|].",
                        "VernacExtend",
                        "329a0103c3953cd39a5db7210c5eee8123767255"
                    ]
                },
                {
                    "command": [
                        "apply prop_left; intros ((?, a) & (? & Hj) & _); simpl in Hj.",
                        "VernacExtend",
                        "c6f33742b825e05251dda5f056324cdb482e3f5f"
                    ]
                },
                {
                    "command": [
                        "rewrite !eq_dec_refl in Hj.",
                        "VernacExtend",
                        "e6add1659b0c7e90930e91f23d211affa2e5a961"
                    ]
                },
                {
                    "command": [
                        "apply prop_right; exists a; auto.",
                        "VernacExtend",
                        "5c8c2f964cb903f809d4cc10f69fd71f649101e1"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "ghost_snap_join'",
            "line_nb": 226,
            "steps": [
                {
                    "command": [
                        "intros; apply pred_ext.",
                        "VernacExtend",
                        "8cc2d7d8eebb3d50903946126176130d80954106"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "assert_PROP (joins v1 v2) as H by apply ghost_snap_conflict.",
                        "VernacExtend",
                        "c76fd82a39b1faf69d35e42c4eb9cad39f5acbb8"
                    ]
                },
                {
                    "command": [
                        "destruct H as [v]; Exists v; entailer!.",
                        "VernacExtend",
                        "f620d8a297d61d01b474de72324cd604b329de71"
                    ]
                },
                {
                    "command": [
                        "erewrite ghost_snap_join; eauto.",
                        "VernacExtend",
                        "6ea60065581233068c4a20680ed89205307c7c9f"
                    ]
                },
                {
                    "command": [
                        "apply derives_refl.",
                        "VernacExtend",
                        "e6aad07de74a98e9e95ce8bc0aeafdd1290e4b6f"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "Intros v; erewrite ghost_snap_join; eauto.",
                        "VernacExtend",
                        "9bda595c591ef63002b518771a5eced5d79bf0d0"
                    ]
                },
                {
                    "command": [
                        "apply derives_refl.",
                        "VernacExtend",
                        "e6aad07de74a98e9e95ce8bc0aeafdd1290e4b6f"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "snap_master_join",
            "line_nb": 238,
            "steps": [
                {
                    "command": [
                        "intros; setoid_rewrite own_op'.",
                        "VernacExtend",
                        "14d03608be1909c4bbdacdf8f9f47003f2c3d419"
                    ]
                },
                {
                    "command": [
                        "apply pred_ext.",
                        "VernacExtend",
                        "9b03db08834ebab822f3dce151d20d6efb17f5ba"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "Intros a3.",
                        "VernacExtend",
                        "e88883ef6fb817ab7c6d15589e705e4ddcb1ebc7"
                    ]
                },
                {
                    "command": [
                        "destruct a3 as (sh', ?), H0 as [Hsh Hj]; simpl in *.",
                        "VernacExtend",
                        "a6b94a6c2a127d6fc7edd5f9ffe105a3a4b182cd"
                    ]
                },
                {
                    "command": [
                        "apply bot_identity in Hsh; subst sh'.",
                        "VernacExtend",
                        "3a95281b99c39f3a1530e53dcd444e59c3c3efa2"
                    ]
                },
                {
                    "command": [
                        "rewrite eq_dec_refl in Hj.",
                        "VernacExtend",
                        "fd1d16d8c3635b7a39dcdd2866ffeb07984107dd"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec sh Share.bot); [contradiction|].",
                        "VernacExtend",
                        "ebda6d73154f2e8078dbbbd224702196a968aaeb"
                    ]
                },
                {
                    "command": [
                        "destruct Hj; subst; entailer!.",
                        "VernacExtend",
                        "c8e3c9a6ddd48cb2d0bc7ca0dd792bb7af986be1"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "Intros; Exists (sh, v2); entailer!.",
                        "VernacExtend",
                        "163d4ba8566f367cadfd1c3143365f24ca81f858"
                    ]
                },
                {
                    "command": [
                        "split; simpl; rewrite ?eq_dec_refl.",
                        "VernacExtend",
                        "af25570b639029ad161b00053bac365a3beb712d"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply bot_join_eq.",
                        "VernacExtend",
                        "06ddaa5559f41278d42336d5414d3e48e3773958"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "if_tac; auto; contradiction.",
                        "VernacExtend",
                        "532455c07489685c0bd603d320cf30b6f805709d"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply derives_refl.",
                        "VernacExtend",
                        "e6aad07de74a98e9e95ce8bc0aeafdd1290e4b6f"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "snaps_master_join",
            "line_nb": 258,
            "steps": [
                {
                    "command": [
                        "induction lv; simpl; intros.",
                        "VernacExtend",
                        "d79bbdc73f79ca5ebb9d4802ddc2053d3056e353"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "rewrite emp_sepcon, prop_true_andp; auto.",
                        "VernacExtend",
                        "58c8e3e11608f54c06511ef789c8f82576391a73"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "rewrite sepcon_comm, <- sepcon_assoc, (sepcon_comm (ghost_master _ _ _)), snap_master_join by auto.",
                        "VernacExtend",
                        "22e4d8bbcede7ec32455b300fb5a4a2206db1aea"
                    ]
                },
                {
                    "command": [
                        "apply pred_ext.",
                        "VernacExtend",
                        "9b03db08834ebab822f3dce151d20d6efb17f5ba"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "Intros; rewrite sepcon_comm, IHlv by auto; entailer!.",
                        "VernacExtend",
                        "c01c72863231a80903af1d92eb5fb3da7ea9788d"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "Intros.",
                        "VernacExtend",
                        "58784a78af6fa36ccbd531d2a460b187e88b99db"
                    ]
                },
                {
                    "command": [
                        "match goal with H : Forall _ _ |- _ => inv H end.",
                        "VernacExtend",
                        "a647ad59cc8f9180feec8228fc7139ef83112e5a"
                    ]
                },
                {
                    "command": [
                        "rewrite prop_true_andp, sepcon_comm, IHlv by auto; entailer!.",
                        "VernacExtend",
                        "2b28cecc2e258776ce32aff4b75f25619e905c19"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "master_update",
            "line_nb": 272,
            "steps": [
                {
                    "command": [
                        "intros; apply own_update.",
                        "VernacExtend",
                        "19dd011f1c55ce8285e82c272de790c89ded909a"
                    ]
                },
                {
                    "command": [
                        "intros ? (x & Hj & _); simpl in Hj.",
                        "VernacExtend",
                        "0dd093917daef69b3904c41ed8a45582c749c061"
                    ]
                },
                {
                    "command": [
                        "exists (Tsh, v'); simpl; split; auto.",
                        "VernacExtend",
                        "c952d69c387ed173b226702e9edf2d354d82147a"
                    ]
                },
                {
                    "command": [
                        "destruct Hj as [Hsh Hj]; simpl in *.",
                        "VernacExtend",
                        "ee90e88ec0ec1035e11eb794e67b0d088d28ab88"
                    ]
                },
                {
                    "command": [
                        "apply join_Tsh in Hsh as []; destruct c, x; simpl in *; subst.",
                        "VernacExtend",
                        "487358cc0f4222ba3a7aed813ca970fe117a5441"
                    ]
                },
                {
                    "command": [
                        "split; auto; simpl.",
                        "VernacExtend",
                        "00d5326321c3cbfb49a562799d01b977e17ae3cc"
                    ]
                },
                {
                    "command": [
                        "fold share in *; destruct (eq_dec Tsh Share.bot); [contradiction Share.nontrivial|].",
                        "VernacExtend",
                        "1b4557bfee1a214fea954dcf0076c1f2dfaab77e"
                    ]
                },
                {
                    "command": [
                        "destruct Hj as [? Hc']; subst.",
                        "VernacExtend",
                        "4b7c94e53e4cfa57077c028e0077573256c2f28e"
                    ]
                },
                {
                    "command": [
                        "rewrite eq_dec_refl in Hc' |- *; split; auto.",
                        "VernacExtend",
                        "cdd7cfb3c16714b018a02aded33e594e34023798"
                    ]
                },
                {
                    "command": [
                        "etransitivity; eauto.",
                        "VernacExtend",
                        "9a7a03ac784b775f6203b3104ab84c89b908a8ba"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "master_init",
            "line_nb": 284,
            "steps": [
                {
                    "command": [
                        "intros; exists (Share.bot, a), (Tsh, a); simpl.",
                        "VernacExtend",
                        "391c7be92295dd274ef4c5a12551f66ea8732d4b"
                    ]
                },
                {
                    "command": [
                        "split; auto; simpl.",
                        "VernacExtend",
                        "00d5326321c3cbfb49a562799d01b977e17ae3cc"
                    ]
                },
                {
                    "command": [
                        "apply join_refl.",
                        "VernacExtend",
                        "96d5f165678d3b1310d0265ea66f3a7834b69d8a"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "make_snap",
            "line_nb": 289,
            "steps": [
                {
                    "command": [
                        "intros; destruct (eq_dec sh Share.bot).",
                        "VernacExtend",
                        "bc034965d6eb20d7d7c5a9021be6e199826e8d8e"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "subst; setoid_rewrite ghost_snap_join; [apply bupd_intro | apply join_refl].",
                        "VernacExtend",
                        "32f801387db2e11afd0a882994246ec028d202cf"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "rewrite snap_master_join by auto.",
                        "VernacExtend",
                        "5915b237b59e82bbf96a4cd4a44409c1c492b4af"
                    ]
                },
                {
                    "command": [
                        "eapply derives_trans, bupd_intro; entailer!.",
                        "VernacExtend",
                        "ea882a2a446c108282036e23a59ff37260ad58f0"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "ghost_snap_forget",
            "line_nb": 297,
            "steps": [
                {
                    "command": [
                        "intros; apply own_update.",
                        "VernacExtend",
                        "19dd011f1c55ce8285e82c272de790c89ded909a"
                    ]
                },
                {
                    "command": [
                        "intros (shc, c) [(shx, x) [[? Hj] _]]; simpl in *.",
                        "VernacExtend",
                        "21a7f830e21584da85f701b8e198a6c2ec890b60"
                    ]
                },
                {
                    "command": [
                        "rewrite eq_dec_refl in Hj.",
                        "VernacExtend",
                        "fd1d16d8c3635b7a39dcdd2866ffeb07984107dd"
                    ]
                },
                {
                    "command": [
                        "assert (shx = shc) by (eapply sepalg.join_eq; eauto); subst.",
                        "VernacExtend",
                        "a32703d3a34500c36b365b2c494d37b256d738c9"
                    ]
                },
                {
                    "command": [
                        "unfold share in Hj; destruct (eq_dec shc Share.bot); subst.",
                        "VernacExtend",
                        "dd65e9c39cb386e17eea886906012df1e530249c"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "destruct (join_compat _ _ _ _ Hj H) as [x' []].",
                        "VernacExtend",
                        "c8387b56d178546523a41b7b299d4b35cdf38628"
                    ]
                },
                {
                    "command": [
                        "exists (Share.bot, x'); simpl; split; auto; split; auto; simpl.",
                        "VernacExtend",
                        "a1bae3eacb6f50eeb682bf6e6c114e7cb3839711"
                    ]
                },
                {
                    "command": [
                        "rewrite !eq_dec_refl; auto.",
                        "VernacExtend",
                        "177e466c0f4e28b318424c2496ac4602a00a3c92"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "destruct Hj; subst.",
                        "VernacExtend",
                        "1d3f9ba823e2a9b60dcd6b344ada9fe37e4a71af"
                    ]
                },
                {
                    "command": [
                        "exists (shc, c); simpl; split; auto; split; auto; simpl.",
                        "VernacExtend",
                        "d1ed518e8ba8b67af05452b16c9b11745d5bad13"
                    ]
                },
                {
                    "command": [
                        "rewrite eq_dec_refl; if_tac; [contradiction|].",
                        "VernacExtend",
                        "2762406f9386985b99cd5fd48c953a847dc74e3b"
                    ]
                },
                {
                    "command": [
                        "split; auto.",
                        "VernacExtend",
                        "fcd44a714bd12fa54b1c7746996e44dbac16df06"
                    ]
                },
                {
                    "command": [
                        "etransitivity; eauto.",
                        "VernacExtend",
                        "9a7a03ac784b775f6203b3104ab84c89b908a8ba"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "ghost_snap_choose",
            "line_nb": 314,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "setoid_rewrite own_op'.",
                        "VernacExtend",
                        "c3ccd59a78cea7979fcb288aa5a91ac3f3988190"
                    ]
                },
                {
                    "command": [
                        "Intros v'.",
                        "VernacExtend",
                        "a1cfc263089e8ce4555c2d39745f59b7d7386c29"
                    ]
                },
                {
                    "command": [
                        "destruct v', H as [Hsh Hj]; apply bot_identity in Hsh; simpl in *; subst.",
                        "VernacExtend",
                        "2e5e993005197808ce7cb956cbc89e37a6a92402"
                    ]
                },
                {
                    "command": [
                        "rewrite !eq_dec_refl in Hj.",
                        "VernacExtend",
                        "e6add1659b0c7e90930e91f23d211affa2e5a961"
                    ]
                },
                {
                    "command": [
                        "apply ghost_snap_forget.",
                        "VernacExtend",
                        "86b92d14437ebbbc2a29beeb2ad7f8a49684a11c"
                    ]
                },
                {
                    "command": [
                        "rewrite join_ord_eq; eauto.",
                        "VernacExtend",
                        "04575fc4402710144c225d586970f662398a6dcf"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "master_share_join",
            "line_nb": 323,
            "steps": [
                {
                    "command": [
                        "intros; symmetry; apply own_op; split; auto; simpl.",
                        "VernacExtend",
                        "5aa1010e4716e0ab33d7f9e6eb93d2f4a4196f4c"
                    ]
                },
                {
                    "command": [
                        "if_tac; if_tac; try split; auto; try apply ord_refl; apply join_refl.",
                        "VernacExtend",
                        "88831f6ec06ec9546fed441a7594d5bbed176566"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "master_inj",
            "line_nb": 327,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "eapply derives_trans; [apply own_valid_2|].",
                        "VernacExtend",
                        "652596ce975294e677e0466ac413fa831da0ad03"
                    ]
                },
                {
                    "command": [
                        "apply prop_left; intros ((?, ?) & [[? Hj] _]); simpl in Hj.",
                        "VernacExtend",
                        "4275f49367b74c2bab522399ed680122afc896b2"
                    ]
                },
                {
                    "command": [
                        "fold share in *.",
                        "VernacExtend",
                        "240f08a0b31eb60343de3c4c35fc85ac0cc105ba"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec sh1 Share.bot); [subst; contradiction unreadable_bot|].",
                        "VernacExtend",
                        "e9f062f8b0f47b9a13a9bdd0c543debf84a35979"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec sh2 Share.bot); [subst; contradiction unreadable_bot|].",
                        "VernacExtend",
                        "8bbc5f2222f2eeae0854ccb9b5769f80ee0d59da"
                    ]
                },
                {
                    "command": [
                        "destruct Hj; subst; apply prop_right; auto.",
                        "VernacExtend",
                        "5485ad39b2a60cf07ab20177c20b2bc63a653314"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "master_share_join'",
            "line_nb": 336,
            "steps": [
                {
                    "command": [
                        "intros; apply pred_ext.",
                        "VernacExtend",
                        "8cc2d7d8eebb3d50903946126176130d80954106"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "assert_PROP (v1 = v2) by (apply master_inj; auto).",
                        "VernacExtend",
                        "201d031b51315457b1612ef9307d8b21e2870663"
                    ]
                },
                {
                    "command": [
                        "subst; erewrite master_share_join; eauto; entailer!.",
                        "VernacExtend",
                        "d637aed86941c20469052ee4478ebb97e8209838"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "Intros; subst.",
                        "VernacExtend",
                        "bb819825c371ad6e885b36f6d440530f945f88d0"
                    ]
                },
                {
                    "command": [
                        "erewrite master_share_join; eauto.",
                        "VernacExtend",
                        "ef7df44be51ff7ce77beb79e8b482fd0d0e6ea26"
                    ]
                },
                {
                    "command": [
                        "apply derives_refl.",
                        "VernacExtend",
                        "e6aad07de74a98e9e95ce8bc0aeafdd1290e4b6f"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "snap_master_join1",
            "line_nb": 347,
            "steps": [
                {
                    "command": [
                        "intros; apply snap_master_join, Share.nontrivial.",
                        "VernacExtend",
                        "f2a26591a13be8b0437ceae4b81ca7cb92c998d7"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "snap_master_update1",
            "line_nb": 350,
            "steps": [
                {
                    "command": [
                        "intros; rewrite !snap_master_join1.",
                        "VernacExtend",
                        "40d894a43ac5edc20e6fbc496d9dc209546c9b8d"
                    ]
                },
                {
                    "command": [
                        "Intros.",
                        "VernacExtend",
                        "58784a78af6fa36ccbd531d2a460b187e88b99db"
                    ]
                },
                {
                    "command": [
                        "eapply derives_trans; [apply master_update; eauto|].",
                        "VernacExtend",
                        "8e3ae4d0e30a6c6a0d8ef0cae108095d050e0a47"
                    ]
                },
                {
                    "command": [
                        "apply bupd_mono; entailer!.",
                        "VernacExtend",
                        "a9b37f1b47d9f4f0cbcd8ad0d8f3cbf4ae4ce954"
                    ]
                },
                {
                    "command": [
                        "apply derives_refl.",
                        "VernacExtend",
                        "e6aad07de74a98e9e95ce8bc0aeafdd1290e4b6f"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "ghost_part_ref_join",
            "line_nb": 366,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "symmetry; apply own_op.",
                        "VernacExtend",
                        "8641d1b06ad0a896bafcd770209e0c41e71327ed"
                    ]
                },
                {
                    "command": [
                        "hnf; simpl.",
                        "VernacExtend",
                        "4267e796fe98780d5775d90b490e2b3e0222d364"
                    ]
                },
                {
                    "command": [
                        "split; auto; constructor.",
                        "VernacExtend",
                        "69f2e82eac26e5936f6d70b018eb44c4f4b50946"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "ref_sub",
            "line_nb": 372,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "eapply derives_trans; [apply own_valid_2|].",
                        "VernacExtend",
                        "652596ce975294e677e0466ac413fa831da0ad03"
                    ]
                },
                {
                    "command": [
                        "apply prop_left; intros (c & [Hsh Hj] & ?); simpl in *.",
                        "VernacExtend",
                        "8231624d96e676a58f87912f040ad32440d80eb6"
                    ]
                },
                {
                    "command": [
                        "apply prop_right.",
                        "VernacExtend",
                        "951daa52f148695942d4aefc563d5e92d8ec02ff"
                    ]
                },
                {
                    "command": [
                        "destruct (fst c); [subst | contradiction].",
                        "VernacExtend",
                        "d6e1ffd343a91ce897799f0e3a559e6f6ffe01c1"
                    ]
                },
                {
                    "command": [
                        "inv Hj.",
                        "VernacExtend",
                        "5fab1cf62b451d709140738e020a4337087a1c64"
                    ]
                },
                {
                    "command": [
                        "rewrite <- H0 in H.",
                        "VernacExtend",
                        "a6c391ea2ef389fc353ff5fa2171f50bd2b9da41"
                    ]
                },
                {
                    "command": [
                        "destruct H as (? & c' & Hsub).",
                        "VernacExtend",
                        "036f883ff78418671d1b5db8039d12862c676464"
                    ]
                },
                {
                    "command": [
                        "destruct c' as [(?, ?)|].",
                        "VernacExtend",
                        "c1e1b83ffdaebb384524f56d95fd65c2634f629a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "destruct Hsub as (? & ? & Hsh & ?).",
                        "VernacExtend",
                        "fb837eccb9822a6294f7bbe43946e8e88c6d13bf"
                    ]
                },
                {
                    "command": [
                        "if_tac; eauto; subst.",
                        "VernacExtend",
                        "9cabaf7a88f9364935505fd1f6b41c93d8db0026"
                    ]
                },
                {
                    "command": [
                        "apply join_Tsh in Hsh; tauto.",
                        "VernacExtend",
                        "436cc459de65690658dc037355d63ec06d505207"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "inv Hsub.",
                        "VernacExtend",
                        "655e88b063a162a1fe1fff57bc7aaaf860115fee"
                    ]
                },
                {
                    "command": [
                        "rewrite eq_dec_refl; auto.",
                        "VernacExtend",
                        "d0f183f79590ce7220aaf8dc6e0509aac828f6ee"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "self_completable",
            "line_nb": 435,
            "steps": [
                {
                    "command": [
                        "intros; unfold completable.",
                        "VernacExtend",
                        "e1bba6c26c19374769a8291ae1f60a458894b031"
                    ]
                },
                {
                    "command": [
                        "exists None; constructor.",
                        "VernacExtend",
                        "6cd9f7494e5722c3726e1562a7adf907d2a8d776"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "discrete_PCM_obligation_1",
            "line_nb": 443,
            "steps": [
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "ghost_var_share_join",
            "line_nb": 450,
            "steps": [
                {
                    "command": [
                        "intros; symmetry; apply own_op.",
                        "VernacExtend",
                        "383aead7a8bfd217a8251c487382ce9ae89b9947"
                    ]
                },
                {
                    "command": [
                        "repeat (split; auto).",
                        "VernacExtend",
                        "fbc5463ee8164c7d7a0414a82c6ea4aa4f8c6b04"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "ghost_var_share_join_gen",
            "line_nb": 454,
            "steps": [
                {
                    "command": [
                        "intros; setoid_rewrite own_op'.",
                        "VernacExtend",
                        "14d03608be1909c4bbdacdf8f9f47003f2c3d419"
                    ]
                },
                {
                    "command": [
                        "apply pred_ext.",
                        "VernacExtend",
                        "9b03db08834ebab822f3dce151d20d6efb17f5ba"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "Intros a.",
                        "VernacExtend",
                        "dbd1ae61f47d1799aef39a963b54828570a828a0"
                    ]
                },
                {
                    "command": [
                        "destruct a as [(sh, v')|]; inv H.",
                        "VernacExtend",
                        "ad0ca30e116d1be0e7dfe6baf02558c50575d56b"
                    ]
                },
                {
                    "command": [
                        "destruct H2 as (? & ? & Hv); inv Hv.",
                        "VernacExtend",
                        "d4b8fe9db06de7249264c198ae83466d51d6c279"
                    ]
                },
                {
                    "command": [
                        "Exists sh; entailer!.",
                        "VernacExtend",
                        "241d41e32de352d1a175ab473469d3d74de465c1"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "Intros sh; subst.",
                        "VernacExtend",
                        "7cd17be53aff90c2cb46ddc62f6448d611d9bb1c"
                    ]
                },
                {
                    "command": [
                        "Exists (Some (sh, v2)); apply andp_right, derives_refl.",
                        "VernacExtend",
                        "28aac5c2dd0005414b6f704eb41d3756950eb0af"
                    ]
                },
                {
                    "command": [
                        "apply prop_right; repeat (split; auto); simpl.",
                        "VernacExtend",
                        "d7ac21e92251df489d9911d9492c67768e4520e0"
                    ]
                },
                {
                    "command": [
                        "intro; subst; apply join_Bot in H2 as []; contradiction.",
                        "VernacExtend",
                        "b3587b80c0f0d90875af97aa6cf522e3ce2c7e6d"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "ghost_var_inj",
            "line_nb": 468,
            "steps": [
                {
                    "command": [
                        "intros; rewrite ghost_var_share_join_gen; Intros sh; entailer!.",
                        "VernacExtend",
                        "406f9e5cc592b1baf40699277e9408c0845a0a64"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "ghost_var_share_join'",
            "line_nb": 471,
            "steps": [
                {
                    "command": [
                        "intros; rewrite ghost_var_share_join_gen.",
                        "VernacExtend",
                        "487be2060ded182a613fe9a5c95e005ade77cbb0"
                    ]
                },
                {
                    "command": [
                        "apply pred_ext.",
                        "VernacExtend",
                        "9b03db08834ebab822f3dce151d20d6efb17f5ba"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "Intros sh'; entailer!.",
                        "VernacExtend",
                        "8dd1791eed6d6c82096dd55a66b0b9c8ec819600"
                    ]
                },
                {
                    "command": [
                        "eapply join_eq in H1; eauto; subst; auto.",
                        "VernacExtend",
                        "7ab62e396a60886bb93e1a84053a488589c5f097"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "Intros; Exists sh; entailer!.",
                        "VernacExtend",
                        "aa4b5c4a9ad9599c9fe75e2a02898e1b44538308"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "ghost_var_update",
            "line_nb": 480,
            "steps": [
                {
                    "command": [
                        "intros; apply own_update.",
                        "VernacExtend",
                        "19dd011f1c55ce8285e82c272de790c89ded909a"
                    ]
                },
                {
                    "command": [
                        "intros [[]|] ([[]|] & J & ?); inv J.",
                        "VernacExtend",
                        "07aab2635f5cef43199499273f968466660793c4"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "destruct H1 as (? & ?%join_Tsh & ?); tauto.",
                        "VernacExtend",
                        "3b6a941533032119d797f6f2219249c355573385"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "exists (Some (Tsh, v')); split; [constructor | auto].",
                        "VernacExtend",
                        "7498a3107b3c453c23381c902f9519c02cbc9d11"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "nat_PCM_obligation_1",
            "line_nb": 491,
            "steps": [
                {
                    "command": [
                        "exists (fun _ => O); auto; intros.",
                        "VernacExtend",
                        "e2e2fd050a537b6526251c8d396fa95aab347c5d"
                    ]
                },
                {
                    "command": [
                        "apply Nat.max_0_l.",
                        "VernacExtend",
                        "fe304b5c880ae127f7d3c9d072a50ea396bc9abe"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "nat_PCM_obligation_2",
            "line_nb": 495,
            "steps": [
                {
                    "command": [
                        "constructor.",
                        "VernacExtend",
                        "3c77e6be855b5086df5e918bf2a0537e1010479a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "unfold join; congruence.",
                        "VernacExtend",
                        "048fad9571e4ddb89e96f8f37d885a295a9b263f"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "unfold join; eexists; split; eauto.",
                        "VernacExtend",
                        "76738fb0f1cfdb438d731855a2987e27ef98ad1b"
                    ]
                },
                {
                    "command": [
                        "rewrite Nat.max_assoc; subst; auto.",
                        "VernacExtend",
                        "32c2600a1bdd74026055a4ca75dc4a39b4d67a98"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "unfold join; intros.",
                        "VernacExtend",
                        "4272863aabb9ee5be69e553b3b9f8649de82f371"
                    ]
                },
                {
                    "command": [
                        "rewrite Nat.max_comm; auto.",
                        "VernacExtend",
                        "a3828721a0a83d46fb378cab946b4bbb208b14c3"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "unfold join; intros.",
                        "VernacExtend",
                        "4272863aabb9ee5be69e553b3b9f8649de82f371"
                    ]
                },
                {
                    "command": [
                        "apply Nat.le_antisymm; [subst b | subst a]; apply Nat.le_max_l.",
                        "VernacExtend",
                        "59be48c31770b952dff5b78c19810460e3f847dc"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "nat_PCM_obligation_3",
            "line_nb": 509,
            "steps": [
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "max_order",
            "line_nb": 512,
            "steps": [
                {
                    "command": [
                        "constructor; auto; intros.",
                        "VernacExtend",
                        "53316fecf386fcbfee63ab3f42279831104d19f6"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros ???; omega.",
                        "VernacExtend",
                        "c868bcd3640daa114af76c620a3df6875b18e7b1"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eexists; unfold join; simpl; split; eauto.",
                        "VernacExtend",
                        "5fbd070d1f1a390faf2c63e0b63f5a6e4721e208"
                    ]
                },
                {
                    "command": [
                        "apply Nat.max_lub; auto.",
                        "VernacExtend",
                        "fca74bfa513f388471feef3ede59367857729b85"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "hnf in H; subst.",
                        "VernacExtend",
                        "41358306a1eb29ddb61ff57133d6b1b9220b0dce"
                    ]
                },
                {
                    "command": [
                        "split; [apply Nat.le_max_l | apply Nat.le_max_r].",
                        "VernacExtend",
                        "9ae96b3e5efbbea81f430b9a6e47d153bcfcbd12"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "hnf.",
                        "VernacExtend",
                        "93c9be61208bb2956fb47b51f12123e34260e667"
                    ]
                },
                {
                    "command": [
                        "rewrite Nat.max_l; auto.",
                        "VernacExtend",
                        "7aa8cd53f635aa8984fe2451f553b2c1391bbd19"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "ghost_snap_join_N",
            "line_nb": 526,
            "steps": [
                {
                    "command": [
                        "intros; apply ghost_snap_join; hnf; auto.",
                        "VernacExtend",
                        "4ec61b58c050c0807783c6ae46f946cf553ba2bd"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "snap_master_join'",
            "line_nb": 529,
            "steps": [
                {
                    "command": [
                        "intros; apply snap_master_join1.",
                        "VernacExtend",
                        "76d64891d90e674c9d68a760fa6e2cc42cca1085"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "snap_master_update'",
            "line_nb": 532,
            "steps": [
                {
                    "command": [
                        "intros; apply snap_master_update1; auto.",
                        "VernacExtend",
                        "0777c153b2a087552338244577e05a18aa5d1bf5"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_upd_triv",
            "line_nb": 540,
            "steps": [
                {
                    "command": [
                        "intros; extensionality; unfold map_upd.",
                        "VernacExtend",
                        "f0d00092098bbc7d8523cbfcbb4a15c193d9ab4a"
                    ]
                },
                {
                    "command": [
                        "if_tac; subst; auto.",
                        "VernacExtend",
                        "3bcdd0ed955d7a9c586ca964b06506fda91d5147"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_incl_refl",
            "line_nb": 550,
            "steps": [
                {
                    "command": [
                        "repeat intro; auto.",
                        "VernacExtend",
                        "af8f80656e6d2b66b4c0a571d54310a8de54cc95"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_incl_antisym",
            "line_nb": 553,
            "steps": [
                {
                    "command": [
                        "intros x y Hx Hy a.",
                        "VernacExtend",
                        "5aa545ff8554b2406f9fa28a295fdfb87968bce9"
                    ]
                },
                {
                    "command": [
                        "specialize (Hx a); specialize (Hy a).",
                        "VernacExtend",
                        "0ee19515cbc315524b9e91f299681c9aea04eb7e"
                    ]
                },
                {
                    "command": [
                        "destruct (x a); [erewrite Hx; eauto|].",
                        "VernacExtend",
                        "40203c183b80c9086266f16f9d7e0f6c57d53417"
                    ]
                },
                {
                    "command": [
                        "destruct (y a); auto.",
                        "VernacExtend",
                        "9f39727bce4ae27d98c2ac4b23db6879155c0dae"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_incl_trans",
            "line_nb": 559,
            "steps": [
                {
                    "command": [
                        "repeat intro; auto.",
                        "VernacExtend",
                        "af8f80656e6d2b66b4c0a571d54310a8de54cc95"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_add_incl_compat",
            "line_nb": 562,
            "steps": [
                {
                    "command": [
                        "unfold map_add; repeat intro.",
                        "VernacExtend",
                        "0f7ebee894cc2baea5aa7bffeaf7b0c4e6593387"
                    ]
                },
                {
                    "command": [
                        "destruct (m3 k); auto.",
                        "VernacExtend",
                        "36d7f13f9867dfdf05be131f56d98663c24ef58d"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "compatible_refl",
            "line_nb": 567,
            "steps": [
                {
                    "command": [
                        "repeat intro.",
                        "VernacExtend",
                        "b1b5d9b3004bf4634299c208df98406e88278608"
                    ]
                },
                {
                    "command": [
                        "congruence.",
                        "VernacExtend",
                        "d8c818f6cffeaee6a722a71acc77f2d6e5199eb9"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "compatible_comm",
            "line_nb": 571,
            "steps": [
                {
                    "command": [
                        "repeat intro.",
                        "VernacExtend",
                        "b1b5d9b3004bf4634299c208df98406e88278608"
                    ]
                },
                {
                    "command": [
                        "symmetry; eauto.",
                        "VernacExtend",
                        "7559cd13d1f61ba545f11383c961001d33890cf6"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_add_comm",
            "line_nb": 575,
            "steps": [
                {
                    "command": [
                        "intros; extensionality x; unfold map_add.",
                        "VernacExtend",
                        "975669b7c9976bf040c2b9dbb7941f0da20d5e07"
                    ]
                },
                {
                    "command": [
                        "destruct (m1 x) eqn: Hm1, (m2 x) eqn: Hm2; eauto.",
                        "VernacExtend",
                        "4782c6511892b8d5b2f19f6c5624ae30aca1abe6"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_add_assoc",
            "line_nb": 579,
            "steps": [
                {
                    "command": [
                        "intros; extensionality; unfold map_add.",
                        "VernacExtend",
                        "4658efdee8ff5485819b31971f443077a3413fd0"
                    ]
                },
                {
                    "command": [
                        "destruct (m1 x); auto.",
                        "VernacExtend",
                        "5b8edaea5e2a5403a8dc08b1b3193e3f7aa9065d"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "compatible_add_assoc",
            "line_nb": 583,
            "steps": [
                {
                    "command": [
                        "unfold compatible, map_add; intros.",
                        "VernacExtend",
                        "92b62f234961ff72fd489ddd402482ff8209150b"
                    ]
                },
                {
                    "command": [
                        "repeat match goal with H : forall _, _ |- _ => specialize (H k) end.",
                        "VernacExtend",
                        "43a115574c4c7706796338532f14ca84bdd1806f"
                    ]
                },
                {
                    "command": [
                        "replace (m1 k) with (Some v1) in *.",
                        "VernacExtend",
                        "36d372933a5d2e08fea832356f177a5d0f377f22"
                    ]
                },
                {
                    "command": [
                        "destruct (m2 k); auto.",
                        "VernacExtend",
                        "3c07b7ec7fb31d1db2722c7e7b45efe9511ec570"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "compatible_incl",
            "line_nb": 589,
            "steps": [
                {
                    "command": [
                        "repeat intro; eauto.",
                        "VernacExtend",
                        "1436bdeeaf05a31f9ab8832a17ee80b3a005d792"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_incl_add",
            "line_nb": 592,
            "steps": [
                {
                    "command": [
                        "repeat intro; unfold map_add.",
                        "VernacExtend",
                        "257d05db31828a8fae56be79a5a652cbcfcd34fb"
                    ]
                },
                {
                    "command": [
                        "rewrite H; auto.",
                        "VernacExtend",
                        "3e25713af8eaa76cddf9287af10d66733da2ee16"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_incl_compatible",
            "line_nb": 596,
            "steps": [
                {
                    "command": [
                        "intros; intros ??? Hk1 Hk2.",
                        "VernacExtend",
                        "0a91d1f77104750cd396dbe39b6b8e664ddef23f"
                    ]
                },
                {
                    "command": [
                        "apply Hincl1 in Hk1; apply Hincl2 in Hk2.",
                        "VernacExtend",
                        "c69b7ea657a5d046d7ab7474f052ab3c83116a55"
                    ]
                },
                {
                    "command": [
                        "rewrite Hk1 in Hk2; inv Hk2; auto.",
                        "VernacExtend",
                        "0bf3ddd5c6b4f9e07d16e10857b201cf7c4597b8"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_add_incl",
            "line_nb": 601,
            "steps": [
                {
                    "command": [
                        "unfold map_add; intros.",
                        "VernacExtend",
                        "9ce5bc36b7ab1e8b3257f514dd4caba5db91ff30"
                    ]
                },
                {
                    "command": [
                        "intros ?? Hk.",
                        "VernacExtend",
                        "424e70f0b71fb4bd891d2e85a0a0a8fce62d075e"
                    ]
                },
                {
                    "command": [
                        "destruct (m1 k) eqn: Hk1; auto.",
                        "VernacExtend",
                        "350fe7775a215b35b3f0a752697cf3a00a833418"
                    ]
                },
                {
                    "command": [
                        "inv Hk; auto.",
                        "VernacExtend",
                        "3131629eb3a73a2f66513ad1fcad4b77c0885036"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_join_spec",
            "line_nb": 608,
            "steps": [
                {
                    "command": [
                        "unfold join, map_join; simpl; split; intros.",
                        "VernacExtend",
                        "7816d6207205905933193ef131e4fb9d7c889deb"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "split.",
                        "VernacExtend",
                        "55abc140132bd88981001ac656020469a8d503eb"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "repeat intro.",
                        "VernacExtend",
                        "b1b5d9b3004bf4634299c208df98406e88278608"
                    ]
                },
                {
                    "command": [
                        "assert (m3 k = Some v1) as Hk by (rewrite H; auto).",
                        "VernacExtend",
                        "b8986c509af2964876ec803737824e54326d7eef"
                    ]
                },
                {
                    "command": [
                        "replace (m3 k) with (Some v2) in Hk by (symmetry; rewrite H; auto).",
                        "VernacExtend",
                        "472c58ea6269019f355f7512e90475dfe393b5d7"
                    ]
                },
                {
                    "command": [
                        "inv Hk; auto.",
                        "VernacExtend",
                        "3131629eb3a73a2f66513ad1fcad4b77c0885036"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "extensionality x; unfold map_add.",
                        "VernacExtend",
                        "8e39e0dedda0abf2b974070b9a2fa8dbfa5653db"
                    ]
                },
                {
                    "command": [
                        "destruct (m1 x) eqn: Hm1; [rewrite H; auto|].",
                        "VernacExtend",
                        "189404084ed1ed7910689f3c1155a32b96fd1444"
                    ]
                },
                {
                    "command": [
                        "destruct (m2 x) eqn: Hm2; [rewrite H; auto|].",
                        "VernacExtend",
                        "6061cbd667412fc72ff5f13117b1475e9e3d0569"
                    ]
                },
                {
                    "command": [
                        "destruct (m3 x) eqn: Hm3; auto.",
                        "VernacExtend",
                        "a25ae618fd9c9963356c706217c7f26687899dbc"
                    ]
                },
                {
                    "command": [
                        "rewrite H in Hm3; destruct Hm3 as [Hm3 | Hm3]; rewrite Hm3 in *; discriminate.",
                        "VernacExtend",
                        "919a80e42a8e07df8e592b219ac4e3ea067855ac"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "destruct H as [Hcompat]; subst; unfold map_add.",
                        "VernacExtend",
                        "25519f5c654706b409430afe2d5f4e247da86aa0"
                    ]
                },
                {
                    "command": [
                        "destruct (m1 k) eqn: Hm1; split; auto; intros [?|?]; eauto; discriminate.",
                        "VernacExtend",
                        "3df5b82cbbc0e51a24c6749ef3e4ac1b4c760643"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_PCM_obligation_1",
            "line_nb": 628,
            "steps": [
                {
                    "command": [
                        "exists (fun _ => empty_map); auto; repeat intro.",
                        "VernacExtend",
                        "388faa08c1474fa1e56b96f4659601865c508b00"
                    ]
                },
                {
                    "command": [
                        "split; auto; intros [|]; auto; discriminate.",
                        "VernacExtend",
                        "03011ff4f3c9a9fa52da952735a9eaaaf464b0a4"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "map_PCM_obligation_2",
            "line_nb": 632,
            "steps": [
                {
                    "command": [
                        "constructor.",
                        "VernacExtend",
                        "3c77e6be855b5086df5e918bf2a0537e1010479a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "extensionality k.",
                        "VernacExtend",
                        "3d0435f326186ec7f64a04595b4266d139fac42d"
                    ]
                },
                {
                    "command": [
                        "specialize (H k); specialize (H0 k).",
                        "VernacExtend",
                        "0ae72a9465d597680c8233c58a023c28bf7e6303"
                    ]
                },
                {
                    "command": [
                        "destruct (z k).",
                        "VernacExtend",
                        "738f3cbe62770818e40cdb3e6ffd3c3c4f9708cf"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct (H b) as [X _]; specialize (X eq_refl).",
                        "VernacExtend",
                        "80e0b786e2da45dacae8ff56fab7f0d8cee7e943"
                    ]
                },
                {
                    "command": [
                        "rewrite <- H0 in X; auto.",
                        "VernacExtend",
                        "f5970ba4dbfacd3117f89232bc8ff1629602d64f"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct (z' k); auto.",
                        "VernacExtend",
                        "6464ef2051b0825d9c5119899f8d3edaa46c2b45"
                    ]
                },
                {
                    "command": [
                        "destruct (H0 b) as [X _]; specialize (X eq_refl).",
                        "VernacExtend",
                        "7950f3d6a73fa5c70d22669a4358426ded47a411"
                    ]
                },
                {
                    "command": [
                        "rewrite <- H in X; auto.",
                        "VernacExtend",
                        "a8a7cf46ed343e24984e223436d68eecb538dcf4"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "rewrite map_join_spec in *.",
                        "VernacExtend",
                        "a16e12b552a94066efc436cc46a71d16d966d87b"
                    ]
                },
                {
                    "command": [
                        "destruct H, H0; subst.",
                        "VernacExtend",
                        "55c813ab3dce6a9405cf83918c66779c9a12e88d"
                    ]
                },
                {
                    "command": [
                        "rewrite map_add_assoc.",
                        "VernacExtend",
                        "6a85c2b39dd8043a4127f2126361460867190fae"
                    ]
                },
                {
                    "command": [
                        "eexists; rewrite !map_join_spec; repeat split.",
                        "VernacExtend",
                        "310a7f7f2cedcfe46ad21393f55a181b37fc4e70"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "eapply compatible_incl; eauto.",
                        "VernacExtend",
                        "1b76b33e76b922a44394a088de096ea2171904b4"
                    ]
                },
                {
                    "command": [
                        "rewrite map_add_comm by auto; apply map_incl_add.",
                        "VernacExtend",
                        "20284d8adbf4fdf3f543f01e813bf7d54f63f71e"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply compatible_add_assoc; auto.",
                        "VernacExtend",
                        "a487e13c3912259bcc44e6f25ccd8cacba883a8b"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros ???; rewrite !map_join_spec; intros []; subst.",
                        "VernacExtend",
                        "87bd66c1dcf85baa342c4684c4f20afbad019c84"
                    ]
                },
                {
                    "command": [
                        "split; [symmetry | apply map_add_comm]; auto.",
                        "VernacExtend",
                        "15ea96842df33832d71feed684e8633ff8e2af89"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "extensionality k; specialize (H k); specialize (H0 k).",
                        "VernacExtend",
                        "02a40390ac890c1619807f11769e7187c53f182c"
                    ]
                },
                {
                    "command": [
                        "destruct (a k), (b k); auto.",
                        "VernacExtend",
                        "be9feaec1ad63c91e2e0cecc86f72f37f6dc30c6"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply H0; auto.",
                        "VernacExtend",
                        "e167f871dfeec1cef76aaf201c54c081f29f730b"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct (H b0) as [_ H']; lapply H'; auto.",
                        "VernacExtend",
                        "039c08033641524b15e5dfaa80d84e0479183f52"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct (H0 b0) as [_ H']; lapply H'; auto.",
                        "VernacExtend",
                        "53e1fc48a5f9a42081f92e492cc4cc3720466ca5"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "map_PCM_obligation_3",
            "line_nb": 671,
            "steps": [
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "fmap_order",
            "line_nb": 674,
            "steps": [
                {
                    "command": [
                        "constructor.",
                        "VernacExtend",
                        "3c77e6be855b5086df5e918bf2a0537e1010479a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply map_incl_refl.",
                        "VernacExtend",
                        "2744d5c11bcf44cf2fa908b410e000b9eb2e5547"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply map_incl_trans.",
                        "VernacExtend",
                        "0772cf3cd2d3f4450cc6860022a05d29c5b10fa3"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros ??? Ha Hb; exists (map_add a b); split; simpl.",
                        "VernacExtend",
                        "c4118e12ff44ff6d42b1fe174de284cf86551a59"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite map_join_spec; split; auto.",
                        "VernacExtend",
                        "b54be087f01ffaa787271b6cbc976872d8db55ac"
                    ]
                },
                {
                    "command": [
                        "eapply map_incl_compatible; eauto.",
                        "VernacExtend",
                        "06a7528aac1a792192bff3eb385acb7c615c909b"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply map_add_incl; auto.",
                        "VernacExtend",
                        "be5524d3835a0ed00aa64f57cc9b522d42cb0438"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "split; repeat intro; specialize (H k v); rewrite H; auto.",
                        "VernacExtend",
                        "896e934a21f83c7e8afe0c59201eccdee358a114"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "split; auto; intros [|]; auto.",
                        "VernacExtend",
                        "ed0d8af1ce3366bfdc05f1f7b9eb2d9e598c2871"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "map_snap_join",
            "line_nb": 692,
            "steps": [
                {
                    "command": [
                        "intros; rewrite ghost_snap_join'.",
                        "VernacExtend",
                        "b8cd9b5ad1fbac2b02cbaf13dc4ddc1f980554c8"
                    ]
                },
                {
                    "command": [
                        "apply pred_ext.",
                        "VernacExtend",
                        "9b03db08834ebab822f3dce151d20d6efb17f5ba"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "Intros m.",
                        "VernacExtend",
                        "46bb86575b2aafa3fd5e97bfda88b9ca68081acd"
                    ]
                },
                {
                    "command": [
                        "rewrite map_join_spec in H; destruct H; subst; entailer!.",
                        "VernacExtend",
                        "318439b5e2ddc3941720d5236874511bd7fd0933"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "Intros; Exists (map_add m1 m2).",
                        "VernacExtend",
                        "862f5a1f3f5e1bb52e106629d40c01bea30faf8e"
                    ]
                },
                {
                    "command": [
                        "rewrite map_join_spec; entailer!.",
                        "VernacExtend",
                        "bf0cb5efad48d51c71a50f9f6f2d364ece40efbd"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_upd_list_app",
            "line_nb": 702,
            "steps": [
                {
                    "command": [
                        "induction l1; auto; simpl; intros.",
                        "VernacExtend",
                        "e114186f9d1e491afcc5a60102019e032a22df12"
                    ]
                },
                {
                    "command": [
                        "destruct a; auto.",
                        "VernacExtend",
                        "7f3d8b3039d2691d4be2748b78f9d8a9a90a4b44"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_upd_list_out",
            "line_nb": 706,
            "steps": [
                {
                    "command": [
                        "induction l; auto; simpl; intros.",
                        "VernacExtend",
                        "279ca8eb5e74b40505c14e4c71486078bc450c1c"
                    ]
                },
                {
                    "command": [
                        "destruct a; apply IHl.",
                        "VernacExtend",
                        "078b198d30a88abb514802059b68d7b2fec4e51f"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "unfold map_upd; if_tac; auto.",
                        "VernacExtend",
                        "7a1b8850a6a51635a9adcf135952985aa8fedf2c"
                    ]
                },
                {
                    "command": [
                        "subst; simpl in *; tauto.",
                        "VernacExtend",
                        "b2aeaef6e445a71354bb242ebbc0b50ec8b2eb15"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "tauto.",
                        "VernacExtend",
                        "9bfafe84fb6724789bdf6cfd21cd721dd63fdabd"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "compatible_k",
            "line_nb": 715,
            "steps": [
                {
                    "command": [
                        "unfold compatible; intros.",
                        "VernacExtend",
                        "15a690ec40dc38acf688ab0db49fadb589b9b15a"
                    ]
                },
                {
                    "command": [
                        "unfold map_add.",
                        "VernacExtend",
                        "b39ae9aa8c1f76a7dbc37f8a7673baec8079cab6"
                    ]
                },
                {
                    "command": [
                        "destruct (m1 k) eqn: Hk; eauto.",
                        "VernacExtend",
                        "985038da9ec27895f3e8ab0355c2dfb7c84d48b3"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_join_incl_compat",
            "line_nb": 720,
            "steps": [
                {
                    "command": [
                        "intros; apply (@join_comm _ _ (@Perm_G map_PCM)) in Hjoin.",
                        "VernacExtend",
                        "c9fc4f704065ac302a4fd365a4e25ca3938a77f1"
                    ]
                },
                {
                    "command": [
                        "rewrite map_join_spec in Hjoin; destruct Hjoin as [Hjoin]; subst.",
                        "VernacExtend",
                        "ea7cc7bbf42e731dfc59aeae7d689c9773ef2cdc"
                    ]
                },
                {
                    "command": [
                        "do 2 eexists; [|apply map_add_incl_compat; eauto].",
                        "VernacExtend",
                        "8c4e3d3bc7c6eae15d30330db69411968f095924"
                    ]
                },
                {
                    "command": [
                        "symmetry in Hjoin; eapply compatible_incl in Hjoin; eauto.",
                        "VernacExtend",
                        "bfe16509354341c7ea37cbe2a7631b6e40e63010"
                    ]
                },
                {
                    "command": [
                        "rewrite map_join_spec; split; auto.",
                        "VernacExtend",
                        "b54be087f01ffaa787271b6cbc976872d8db55ac"
                    ]
                },
                {
                    "command": [
                        "rewrite <- map_add_comm; auto.",
                        "VernacExtend",
                        "c1d0a21da4d8348313e53ecc4a6236f5ec15c1af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_add_empty",
            "line_nb": 728,
            "steps": [
                {
                    "command": [
                        "intros; extensionality; unfold map_add, empty_map.",
                        "VernacExtend",
                        "8b4f2610189afd35cbf457b6038ccaee1808d890"
                    ]
                },
                {
                    "command": [
                        "destruct (m x); auto.",
                        "VernacExtend",
                        "477db51cd47ba4a3cabf90ae8a90a7e8356c27ab"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_upd_incl",
            "line_nb": 732,
            "steps": [
                {
                    "command": [
                        "unfold map_upd; repeat intro.",
                        "VernacExtend",
                        "928aab603e5e89e862c69af5baf1a8cfb807f7fe"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec k0 k); [congruence | auto].",
                        "VernacExtend",
                        "9ff305302415c99aefb445f37cc8234c274f492e"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_add_single",
            "line_nb": 736,
            "steps": [
                {
                    "command": [
                        "intros; extensionality; unfold map_add, singleton, map_upd; if_tac; auto.",
                        "VernacExtend",
                        "3e73101af9f5e980a4486c09c18cd343ccd35326"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "incl_compatible",
            "line_nb": 739,
            "steps": [
                {
                    "command": [
                        "intros; intros ??? Hk1 Hk2.",
                        "VernacExtend",
                        "0a91d1f77104750cd396dbe39b6b8e664ddef23f"
                    ]
                },
                {
                    "command": [
                        "specialize (H _ _ Hk1); rewrite H in Hk2; inv Hk2; auto.",
                        "VernacExtend",
                        "1bb1fb91191e0219ab18b76444e2c2192790d970"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_add_redundant",
            "line_nb": 743,
            "steps": [
                {
                    "command": [
                        "intros; unfold map_add; extensionality k.",
                        "VernacExtend",
                        "d6cfaeb0489ea72ac7616274446abaa64803cdd8"
                    ]
                },
                {
                    "command": [
                        "destruct (m1 k) eqn: Hk; auto; symmetry; auto.",
                        "VernacExtend",
                        "0f2986208777aed9b641d60b9facc82c7fd99625"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "empty_map_incl",
            "line_nb": 747,
            "steps": [
                {
                    "command": [
                        "repeat intro; discriminate.",
                        "VernacExtend",
                        "0f7e0f955ecbd2713115ff9440d779b920c36e1b"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_upd2_incl",
            "line_nb": 750,
            "steps": [
                {
                    "command": [
                        "unfold map_upd; repeat intro.",
                        "VernacExtend",
                        "928aab603e5e89e862c69af5baf1a8cfb807f7fe"
                    ]
                },
                {
                    "command": [
                        "if_tac; auto.",
                        "VernacExtend",
                        "405a5d1c67f2928c68a29c10540d8abdea32b1bd"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "compatible_upd",
            "line_nb": 754,
            "steps": [
                {
                    "command": [
                        "unfold map_upd; repeat intro.",
                        "VernacExtend",
                        "928aab603e5e89e862c69af5baf1a8cfb807f7fe"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec k0 k); eauto; congruence.",
                        "VernacExtend",
                        "c66d22562fc4d68e9799540566552ea4cb773ad6"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_add_upd",
            "line_nb": 758,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "rewrite <- !map_add_single.",
                        "VernacExtend",
                        "8c62a2bc01a3d94288f383afd1b5c92d376115e1"
                    ]
                },
                {
                    "command": [
                        "rewrite map_add_assoc; auto.",
                        "VernacExtend",
                        "69cce443880c4da5fb5f2a92f49c5ad4f50e8650"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "in_maps_add",
            "line_nb": 764,
            "steps": [
                {
                    "command": [
                        "induction l; [discriminate | simpl; intros].",
                        "VernacExtend",
                        "eb4a58c88cc22229a0c279e65b2ca606b7243fa9"
                    ]
                },
                {
                    "command": [
                        "unfold map_add at 1 in H.",
                        "VernacExtend",
                        "d4b6cfcc7be37925e10c36566074300a26ebc37c"
                    ]
                },
                {
                    "command": [
                        "destruct (a k) eqn: Ha.",
                        "VernacExtend",
                        "e7de28b91045725a7305e56b7ba97d2b96d0dc52"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "inv H; eauto.",
                        "VernacExtend",
                        "6f2315e63385977bc898037039698b06fa2a3a9a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "destruct (IHl _ _ H) as (? & ? & ?); eauto.",
                        "VernacExtend",
                        "1bb53e0dbdd4e83ec5ed34e5b2871d256fc474e6"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "all_compatible_cons",
            "line_nb": 774,
            "steps": [
                {
                    "command": [
                        "split; repeat intro.",
                        "VernacExtend",
                        "58781e8240fd8f74127c645d945c17db427c39f7"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eapply in_maps_add in H1 as (m2 & ? & ?).",
                        "VernacExtend",
                        "7b3f5a9d653c1f998271de290a319b4d4b2cbe30"
                    ]
                },
                {
                    "command": [
                        "eapply (H m m2); simpl; eauto.",
                        "VernacExtend",
                        "d8b82b943a8359f18e0e1d57c539ab68ffa0ffd6"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eapply (H m1 m2); simpl; eauto.",
                        "VernacExtend",
                        "bd48b0b6eebea80c9dbe2263e6d5e8b630d4ed17"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "maps_add_in",
            "line_nb": 782,
            "steps": [
                {
                    "command": [
                        "induction l; [contradiction | simpl; intros].",
                        "VernacExtend",
                        "22047d06c8c5a8467bebb3b6e76d0015c32dbe68"
                    ]
                },
                {
                    "command": [
                        "destruct H.",
                        "VernacExtend",
                        "8b2bca015429da94c456243b461e17a2a0582c40"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "subst.",
                        "VernacExtend",
                        "ccc9cb848804101be22a0bb6c324861981c5c7f1"
                    ]
                },
                {
                    "command": [
                        "unfold map_add.",
                        "VernacExtend",
                        "b39ae9aa8c1f76a7dbc37f8a7673baec8079cab6"
                    ]
                },
                {
                    "command": [
                        "replace (m k) with (Some v); auto.",
                        "VernacExtend",
                        "1a8e96ff58627a79a0046a8a1f440159209fcbbe"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply all_compatible_cons in Hcompat as [].",
                        "VernacExtend",
                        "d1d783ab69996a2961694d5dd45ce936870157be"
                    ]
                },
                {
                    "command": [
                        "rewrite map_add_comm by auto.",
                        "VernacExtend",
                        "5f89a465e2e0c215e6d0c93768715299e40a8ad4"
                    ]
                },
                {
                    "command": [
                        "unfold map_add.",
                        "VernacExtend",
                        "b39ae9aa8c1f76a7dbc37f8a7673baec8079cab6"
                    ]
                },
                {
                    "command": [
                        "erewrite IHl; eauto.",
                        "VernacExtend",
                        "94d9441181f3f62466a5d4ed28b0c849005f279e"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "fold_right_maps_add",
            "line_nb": 795,
            "steps": [
                {
                    "command": [
                        "induction l; auto; simpl; intros.",
                        "VernacExtend",
                        "279ca8eb5e74b40505c14e4c71486078bc450c1c"
                    ]
                },
                {
                    "command": [
                        "rewrite map_add_assoc, IHl; auto.",
                        "VernacExtend",
                        "a0a6ba3ae51c6c46b4d42b798484416e0befeed5"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "disjoint_comm",
            "line_nb": 801,
            "steps": [
                {
                    "command": [
                        "repeat intro.",
                        "VernacExtend",
                        "b1b5d9b3004bf4634299c208df98406e88278608"
                    ]
                },
                {
                    "command": [
                        "destruct (x k) eqn: Hx; auto.",
                        "VernacExtend",
                        "de646b432d100a56b350277dc49933e46aadd674"
                    ]
                },
                {
                    "command": [
                        "specialize (H _ _ Hx); congruence.",
                        "VernacExtend",
                        "8222eb9aa580a790671aa30875fc8c4c58c7012c"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "disjoint_compatible",
            "line_nb": 806,
            "steps": [
                {
                    "command": [
                        "repeat intro.",
                        "VernacExtend",
                        "b1b5d9b3004bf4634299c208df98406e88278608"
                    ]
                },
                {
                    "command": [
                        "specialize (H _ _ H0); congruence.",
                        "VernacExtend",
                        "810036e4f8e7c6d310ba68d085f1398fed485323"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_disj_join_spec",
            "line_nb": 811,
            "steps": [
                {
                    "command": [
                        "unfold join, map_disj_join; simpl; split; intros.",
                        "VernacExtend",
                        "9040afee6bf9c1be3e5b8c05f65941c4708f0f0f"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "split.",
                        "VernacExtend",
                        "55abc140132bd88981001ac656020469a8d503eb"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "repeat intro.",
                        "VernacExtend",
                        "b1b5d9b3004bf4634299c208df98406e88278608"
                    ]
                },
                {
                    "command": [
                        "specialize (H k); rewrite H0 in H.",
                        "VernacExtend",
                        "1b7197505659706acaf6a0a348b15914cd6d9900"
                    ]
                },
                {
                    "command": [
                        "destruct (m2 k); auto; contradiction.",
                        "VernacExtend",
                        "1201275260dc4653791cd5d105f1bd23844abcf1"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "extensionality k; unfold map_add.",
                        "VernacExtend",
                        "768d166a32cf25dff94b22a55a630be0aaaee504"
                    ]
                },
                {
                    "command": [
                        "specialize (H k).",
                        "VernacExtend",
                        "6c707e243c7805092dce23d3ac041b564b621050"
                    ]
                },
                {
                    "command": [
                        "destruct (m1 k), (m2 k); auto; contradiction.",
                        "VernacExtend",
                        "1e578ca69a8c34eaf8381b4c79d3bf214b5e2834"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "destruct H as [Hdisj]; subst; unfold map_add.",
                        "VernacExtend",
                        "ae9aead161380267d190adf3cf998574174527d2"
                    ]
                },
                {
                    "command": [
                        "specialize (Hdisj k).",
                        "VernacExtend",
                        "3128c385ca7bd863bc9152437fe454f823118cf4"
                    ]
                },
                {
                    "command": [
                        "destruct (m1 k); [specialize (Hdisj _ eq_refl) as ->; auto|].",
                        "VernacExtend",
                        "0746e68a9771c3b7d5de6a586121649d84f4e0f0"
                    ]
                },
                {
                    "command": [
                        "destruct (m2 k); auto.",
                        "VernacExtend",
                        "3c07b7ec7fb31d1db2722c7e7b45efe9511ec570"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "disjoint_incl",
            "line_nb": 829,
            "steps": [
                {
                    "command": [
                        "repeat intro; eauto.",
                        "VernacExtend",
                        "1436bdeeaf05a31f9ab8832a17ee80b3a005d792"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "disjoint_add",
            "line_nb": 832,
            "steps": [
                {
                    "command": [
                        "unfold disjoint; intros.",
                        "VernacExtend",
                        "f1f5f300ae2b11afabcea447d0bcb0db41538561"
                    ]
                },
                {
                    "command": [
                        "unfold map_add.",
                        "VernacExtend",
                        "b39ae9aa8c1f76a7dbc37f8a7673baec8079cab6"
                    ]
                },
                {
                    "command": [
                        "specialize (H _ _ H1); specialize (H0 _ _ H1).",
                        "VernacExtend",
                        "bf789dae5f5f26321a03c2934dcc7f31528f6d7c"
                    ]
                },
                {
                    "command": [
                        "rewrite H, H0; auto.",
                        "VernacExtend",
                        "eb09bee19e29eca184380ddbc1607187c09be7a9"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_disj_PCM_obligation_1",
            "line_nb": 839,
            "steps": [
                {
                    "command": [
                        "exists (fun _ => empty_map); auto; repeat intro.",
                        "VernacExtend",
                        "388faa08c1474fa1e56b96f4659601865c508b00"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "destruct (t k); auto.",
                        "VernacExtend",
                        "981c570f7d5ec7853b6976706b79a71a1eac0104"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "map_disj_PCM_obligation_2",
            "line_nb": 844,
            "steps": [
                {
                    "command": [
                        "constructor.",
                        "VernacExtend",
                        "3c77e6be855b5086df5e918bf2a0537e1010479a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "extensionality k.",
                        "VernacExtend",
                        "3d0435f326186ec7f64a04595b4266d139fac42d"
                    ]
                },
                {
                    "command": [
                        "specialize (H k); specialize (H0 k).",
                        "VernacExtend",
                        "0ae72a9465d597680c8233c58a023c28bf7e6303"
                    ]
                },
                {
                    "command": [
                        "destruct (x k), (y k); try congruence; contradiction.",
                        "VernacExtend",
                        "45e2974ad4f41c845ec263c43794624a7ee80f84"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "rewrite map_disj_join_spec in *.",
                        "VernacExtend",
                        "302dab2e0dcf02ce22e34ba16db048694fe4b5d5"
                    ]
                },
                {
                    "command": [
                        "destruct H, H0; subst.",
                        "VernacExtend",
                        "55c813ab3dce6a9405cf83918c66779c9a12e88d"
                    ]
                },
                {
                    "command": [
                        "rewrite map_add_assoc.",
                        "VernacExtend",
                        "6a85c2b39dd8043a4127f2126361460867190fae"
                    ]
                },
                {
                    "command": [
                        "eexists; rewrite !map_disj_join_spec; repeat split.",
                        "VernacExtend",
                        "e77fe05e1343f7290a80dcd9aa252e3a003901c6"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "eapply disjoint_incl; eauto.",
                        "VernacExtend",
                        "0fc73e3d35018cce243b45b953f7f8a6fd869ae4"
                    ]
                },
                {
                    "command": [
                        "rewrite map_add_comm by (apply disjoint_compatible; auto); apply map_incl_add.",
                        "VernacExtend",
                        "b7c881d609a0e0a2f7c09df4495a026f6d6b40a6"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply disjoint_add; auto.",
                        "VernacExtend",
                        "2cdc6c4ebb26bd436aa23b8b289a8291d799c57b"
                    ]
                },
                {
                    "command": [
                        "eapply disjoint_incl; eauto.",
                        "VernacExtend",
                        "0fc73e3d35018cce243b45b953f7f8a6fd869ae4"
                    ]
                },
                {
                    "command": [
                        "apply map_incl_add.",
                        "VernacExtend",
                        "cfb891eee5f82e7a834dfc8471b09fd2bc57e0a4"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros ???; rewrite !map_disj_join_spec; intros []; subst.",
                        "VernacExtend",
                        "d0468a786d6c2278b5a7b79043aac3e92380ba71"
                    ]
                },
                {
                    "command": [
                        "split; [symmetry | apply map_add_comm, disjoint_compatible]; auto.",
                        "VernacExtend",
                        "9ad07ae3149e18d894a394706ebca5d9f895a666"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "extensionality k; specialize (H k); specialize (H0 k).",
                        "VernacExtend",
                        "02a40390ac890c1619807f11769e7187c53f182c"
                    ]
                },
                {
                    "command": [
                        "destruct (a k), (b k); auto.",
                        "VernacExtend",
                        "be9feaec1ad63c91e2e0cecc86f72f37f6dc30c6"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct (a' k); [contradiction | auto].",
                        "VernacExtend",
                        "bfdd36e08bf25303072504dc1749729b42c421a9"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct (a' k); [contradiction | auto].",
                        "VernacExtend",
                        "bfdd36e08bf25303072504dc1749729b42c421a9"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct (b' k); [contradiction | auto].",
                        "VernacExtend",
                        "ce4f299eb4109b8d6df95d389bfb4807dd480f28"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "map_disj_PCM_obligation_3",
            "line_nb": 878,
            "steps": [
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "disj_join_sub",
            "line_nb": 881,
            "steps": [
                {
                    "command": [
                        "intros; exists (fun x => match m2 x, m1 x with Some v, None => Some v | _, _ => None end).",
                        "VernacExtend",
                        "90cc9f3412d803272a526e456f50aca5bbfb8bb3"
                    ]
                },
                {
                    "command": [
                        "intro k; specialize (H k).",
                        "VernacExtend",
                        "edb244e6bd7f6dcf1fccc0812ecede2f82b786e0"
                    ]
                },
                {
                    "command": [
                        "destruct (m1 k).",
                        "VernacExtend",
                        "91f4b75c578899e42e0d8130f07e457032225bb7"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "erewrite H; eauto.",
                        "VernacExtend",
                        "0ca7db4f55f0dcaab4ac07b4ef52a442d5d75439"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "destruct (m2 k); auto.",
                        "VernacExtend",
                        "3c07b7ec7fb31d1db2722c7e7b45efe9511ec570"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "all_disjoint_compatible",
            "line_nb": 891,
            "steps": [
                {
                    "command": [
                        "unfold all_disjoint, all_compatible; intros.",
                        "VernacExtend",
                        "0bf693e1d74044074bf5ba0393063ada85050c87"
                    ]
                },
                {
                    "command": [
                        "apply In_Znth in H0 as (i & ? & ?); apply In_Znth in H1 as (j & ? & ?); subst.",
                        "VernacExtend",
                        "90c040a8b9b949a60c7efe4dbbf9de6a65e9885e"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec i j); [subst; reflexivity|].",
                        "VernacExtend",
                        "4a9910480956de4918943ebf60a5b9ce262b4a1b"
                    ]
                },
                {
                    "command": [
                        "apply disjoint_compatible; auto.",
                        "VernacExtend",
                        "de038c36415110222558d215d593044898970898"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "all_disjoint_nil",
            "line_nb": 897,
            "steps": [
                {
                    "command": [
                        "repeat intro.",
                        "VernacExtend",
                        "b1b5d9b3004bf4634299c208df98406e88278608"
                    ]
                },
                {
                    "command": [
                        "rewrite Zlength_nil in *; omega.",
                        "VernacExtend",
                        "11e355bcc65e98c7aa282771754cdae5eb378b32"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "all_disjoint_cons",
            "line_nb": 901,
            "steps": [
                {
                    "command": [
                        "split.",
                        "VernacExtend",
                        "55abc140132bd88981001ac656020469a8d503eb"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "split; repeat intro.",
                        "VernacExtend",
                        "58781e8240fd8f74127c645d945c17db427c39f7"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct (maps_add l k) eqn: Hl; auto.",
                        "VernacExtend",
                        "e711d5994cc3c4dd15d4a7576b0790386deed87d"
                    ]
                },
                {
                    "command": [
                        "eapply in_maps_add in Hl as (m2 & ? & ?).",
                        "VernacExtend",
                        "0f8470f38b012c22caa80a18e7f701fdfed9aab0"
                    ]
                },
                {
                    "command": [
                        "apply In_Znth in H1 as (j & ? & ?); subst.",
                        "VernacExtend",
                        "bb05890c09aa40b44d910272598a71a4593b3bed"
                    ]
                },
                {
                    "command": [
                        "specialize (H 0 (j + 1)).",
                        "VernacExtend",
                        "523a7892400fd2e722c9b6d630ccf28927d4cfb9"
                    ]
                },
                {
                    "command": [
                        "rewrite Znth_0_cons, Znth_pos_cons, Z.add_simpl_r, Zlength_cons in H by omega.",
                        "VernacExtend",
                        "76093a26da70d2beb0932bb673935022267fba92"
                    ]
                },
                {
                    "command": [
                        "erewrite H in H2; eauto; omega.",
                        "VernacExtend",
                        "7ba58b202481f3a65737a28f89d7aa766e12d196"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "specialize (H (i + 1) (j + 1)).",
                        "VernacExtend",
                        "f90f06b4e63191674526085d24fd9be89fe3558c"
                    ]
                },
                {
                    "command": [
                        "rewrite !Znth_pos_cons, !Z.add_simpl_r, Zlength_cons in H by omega.",
                        "VernacExtend",
                        "bfa5c643e2e6158bfd28c0b043b2aca9a900f098"
                    ]
                },
                {
                    "command": [
                        "eapply H; eauto; omega.",
                        "VernacExtend",
                        "2f718a21d2fbde43fbfdacd5003145b463ea58d9"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros []; repeat intro.",
                        "VernacExtend",
                        "6e227c66806d32cee619d97ddc66a2546249ce3d"
                    ]
                },
                {
                    "command": [
                        "rewrite Zlength_cons in *.",
                        "VernacExtend",
                        "d830a2f67b4441abd1b7fdb7d225bc45c7ff5b2f"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec i 0), (eq_dec j 0); subst; try contradiction.",
                        "VernacExtend",
                        "5bee03f028dc0930d9e720c7e6c7a9c4ce48a419"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite Znth_0_cons in H4; rewrite Znth_pos_cons by omega.",
                        "VernacExtend",
                        "23edb332968d34de67623e4b57030652d715b05f"
                    ]
                },
                {
                    "command": [
                        "specialize (H _ _ H4).",
                        "VernacExtend",
                        "46a92073515a62a91e70d87039f58369e64ce08c"
                    ]
                },
                {
                    "command": [
                        "destruct (Znth _ _ _) eqn: Hj; auto.",
                        "VernacExtend",
                        "3b7ab924907f445d9ea1c4c7f961694846f200dc"
                    ]
                },
                {
                    "command": [
                        "apply maps_add_in with (l := l) in Hj; try congruence.",
                        "VernacExtend",
                        "036d21c41ec08feb5a61dc1b76bd4672dfa2cc65"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "apply all_disjoint_compatible; auto.",
                        "VernacExtend",
                        "1221045126f6df663bea29fefa9663dd5d1540a8"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "apply Znth_In; omega.",
                        "VernacExtend",
                        "3d3b9a20330e3f6c325f4eb2e8fceb0fab9667b1"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite Znth_0_cons; rewrite Znth_pos_cons in H4 by omega.",
                        "VernacExtend",
                        "3cec14a7e37b3a24a88e42c8cc90db6a24c58527"
                    ]
                },
                {
                    "command": [
                        "destruct (m k) eqn: Hm; auto.",
                        "VernacExtend",
                        "064afbb8bd9fc8a7a54d852a8bca84bfd6d6ec8f"
                    ]
                },
                {
                    "command": [
                        "specialize (H _ _ Hm).",
                        "VernacExtend",
                        "779e03c5a1a84cee47b2f5b622451669c5bf4c8d"
                    ]
                },
                {
                    "command": [
                        "apply maps_add_in with (l := l) in H4; try congruence.",
                        "VernacExtend",
                        "0fe6a5a00d95d03ca2bb21c80b7ec323f8965c03"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "apply all_disjoint_compatible; auto.",
                        "VernacExtend",
                        "1221045126f6df663bea29fefa9663dd5d1540a8"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "apply Znth_In; omega.",
                        "VernacExtend",
                        "3d3b9a20330e3f6c325f4eb2e8fceb0fab9667b1"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite Znth_pos_cons in * by omega.",
                        "VernacExtend",
                        "3a0e132e9a0453eaa7b6aeda15ee7e265e6b58ae"
                    ]
                },
                {
                    "command": [
                        "eapply (H0 (i - 1) (j - 1)); eauto; omega.",
                        "VernacExtend",
                        "3e11ebe812e58c5a2341843b9ec8d962029963ad"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "all_disjoint_rev1",
            "line_nb": 942,
            "steps": [
                {
                    "command": [
                        "unfold all_disjoint; intros.",
                        "VernacExtend",
                        "089b6b60201d98988d3ee498febe7fb5efca1004"
                    ]
                },
                {
                    "command": [
                        "rewrite Zlength_rev in *.",
                        "VernacExtend",
                        "11c2c261efdf9ff8a9bab4896c2952dcb78a69ec"
                    ]
                },
                {
                    "command": [
                        "rewrite !Znth_rev by auto.",
                        "VernacExtend",
                        "1515bdc22f497f3c43f057d7cdc5d62a3ea69fd6"
                    ]
                },
                {
                    "command": [
                        "apply H; omega.",
                        "VernacExtend",
                        "25f1ceb280800c37161013440275309d43c00c5f"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "all_disjoint_rev",
            "line_nb": 948,
            "steps": [
                {
                    "command": [
                        "split; [apply all_disjoint_rev1|].",
                        "VernacExtend",
                        "67a316e91253991c5f613ae381de6152b7e3fbf3"
                    ]
                },
                {
                    "command": [
                        "intros ?%all_disjoint_rev1.",
                        "VernacExtend",
                        "d69edd5849dee1248e00b9273fe43a74df5262f4"
                    ]
                },
                {
                    "command": [
                        "rewrite rev_involutive in *; auto.",
                        "VernacExtend",
                        "e4428b6b9b9fc5dc03cf6a0a33e6915f78bc9c18"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "maps_add_rev",
            "line_nb": 953,
            "steps": [
                {
                    "command": [
                        "induction l; auto; simpl; intros.",
                        "VernacExtend",
                        "279ca8eb5e74b40505c14e4c71486078bc450c1c"
                    ]
                },
                {
                    "command": [
                        "apply all_compatible_cons in H as [].",
                        "VernacExtend",
                        "047a1561851649003edc85d5b4e82bd1337c3d2c"
                    ]
                },
                {
                    "command": [
                        "rewrite map_add_comm, fold_right_app by auto; simpl.",
                        "VernacExtend",
                        "ab836153336b2ea443755ed28bea2f3e773097aa"
                    ]
                },
                {
                    "command": [
                        "rewrite map_add_empty.",
                        "VernacExtend",
                        "c81152cbbdb1cadf6d946154ed7a46499e20aa1b"
                    ]
                },
                {
                    "command": [
                        "rewrite (fold_right_maps_add _ a).",
                        "VernacExtend",
                        "114a56e1713afcb068165003f98696eec0498662"
                    ]
                },
                {
                    "command": [
                        "rewrite <- IHl; auto.",
                        "VernacExtend",
                        "3caf862ca6806d59542cc74bf9ce681744f7a041"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "all_disjoint_snoc",
            "line_nb": 961,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "replace (l ++ [m]) with (rev (m :: rev l)) by (simpl; rewrite rev_involutive; auto).",
                        "VernacExtend",
                        "cf8483bc275d3fe83bb94b7a3dfa810d4a745dad"
                    ]
                },
                {
                    "command": [
                        "rewrite all_disjoint_rev, rev_involutive, all_disjoint_cons, <- all_disjoint_rev.",
                        "VernacExtend",
                        "4a7901a9061387f316ba5e274b94c61926c08789"
                    ]
                },
                {
                    "command": [
                        "split; intros []; rewrite maps_add_rev in *; auto; apply all_disjoint_compatible; auto.",
                        "VernacExtend",
                        "36a8b857cbab068b19315649a8f0eaa5fb0e79a0"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "empty_map_disjoint",
            "line_nb": 967,
            "steps": [
                {
                    "command": [
                        "repeat intro; discriminate.",
                        "VernacExtend",
                        "0f7e0f955ecbd2713115ff9440d779b920c36e1b"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_upd_sub",
            "line_nb": 971,
            "steps": [
                {
                    "command": [
                        "intros; unfold map_upd, map_sub.",
                        "VernacExtend",
                        "63fed1bc51f6f997c9dac75446cad322315d0c2b"
                    ]
                },
                {
                    "command": [
                        "extensionality x.",
                        "VernacExtend",
                        "a02a0d77f789b5337c65fc4009fcc8ebde3d5cef"
                    ]
                },
                {
                    "command": [
                        "if_tac; subst; auto.",
                        "VernacExtend",
                        "3bcdd0ed955d7a9c586ca964b06506fda91d5147"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_sub_upd",
            "line_nb": 976,
            "steps": [
                {
                    "command": [
                        "intros; unfold map_upd, map_sub.",
                        "VernacExtend",
                        "63fed1bc51f6f997c9dac75446cad322315d0c2b"
                    ]
                },
                {
                    "command": [
                        "extensionality x.",
                        "VernacExtend",
                        "a02a0d77f789b5337c65fc4009fcc8ebde3d5cef"
                    ]
                },
                {
                    "command": [
                        "if_tac; subst; auto.",
                        "VernacExtend",
                        "3bcdd0ed955d7a9c586ca964b06506fda91d5147"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "disjoint_sub",
            "line_nb": 981,
            "steps": [
                {
                    "command": [
                        "unfold map_sub, disjoint; intros.",
                        "VernacExtend",
                        "126d3c1faa3511f8b8e2e4fa0acb59297d6c03c5"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec _ _); [discriminate | eauto].",
                        "VernacExtend",
                        "1142f01a6c09ff6e3159aa520610ce0f82e5e33d"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "completable_alt",
            "line_nb": 993,
            "steps": [
                {
                    "command": [
                        "unfold completable, hist_sub; intros; simpl; split.",
                        "VernacExtend",
                        "d8b143c3b39957b3a60e7ef81d45709294105dd5"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros ([(?, ?)|] & Hcase).",
                        "VernacExtend",
                        "6d0e023221b198c49b270e4591e014d35754224b"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct Hcase as (? & ? & Hsh & Hj); split; auto.",
                        "VernacExtend",
                        "6b6d2dbaa046194129b863bc7f92e81ad36ae9e5"
                    ]
                },
                {
                    "command": [
                        "if_tac.",
                        "VernacExtend",
                        "a006ab589e4ef6015fb470fbedb2c4c4dac27076"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "subst; apply join_Tsh in Hsh; tauto.",
                        "VernacExtend",
                        "7acc64eaadfc13f3b001059373ff1e6b97db2f2d"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "rewrite map_disj_join_spec in Hj; destruct Hj; subst.",
                        "VernacExtend",
                        "7c188374edd0df6b06918d787d70f475b877fe12"
                    ]
                },
                {
                    "command": [
                        "apply map_incl_add.",
                        "VernacExtend",
                        "cfb891eee5f82e7a834dfc8471b09fd2bc57e0a4"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "hnf in Hcase.",
                        "VernacExtend",
                        "94f14f11a23abb615c69e50d3436a242113be1bf"
                    ]
                },
                {
                    "command": [
                        "inv Hcase.",
                        "VernacExtend",
                        "f59840f8244c563f412b2adca78b3a1258d21711"
                    ]
                },
                {
                    "command": [
                        "rewrite eq_dec_refl; auto.",
                        "VernacExtend",
                        "d0f183f79590ce7220aaf8dc6e0509aac828f6ee"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "if_tac.",
                        "VernacExtend",
                        "a006ab589e4ef6015fb470fbedb2c4c4dac27076"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "intros []; subst; exists None; split; auto.",
                        "VernacExtend",
                        "935c71bfae224042b15db81afd066e4f5b997381"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "intros [? Hincl].",
                        "VernacExtend",
                        "381eb6248a407c165eeafc287275e325db466523"
                    ]
                },
                {
                    "command": [
                        "apply disj_join_sub in Hincl as (h' & ?).",
                        "VernacExtend",
                        "3c3e9c29072448b20dbb1863211df3d02a735993"
                    ]
                },
                {
                    "command": [
                        "exists (Some (Share.comp sh, h')).",
                        "VernacExtend",
                        "25057841c7f8cef0ed32accaa3950bff755a8c3a"
                    ]
                },
                {
                    "command": [
                        "split; auto.",
                        "VernacExtend",
                        "fcd44a714bd12fa54b1c7746996e44dbac16df06"
                    ]
                },
                {
                    "command": [
                        "split.",
                        "VernacExtend",
                        "55abc140132bd88981001ac656020469a8d503eb"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "intro Hbot; contradiction H.",
                        "VernacExtend",
                        "faec608d6007485d52c53811542de9f4f6059a8c"
                    ]
                },
                {
                    "command": [
                        "rewrite <- Share.comp_inv at 1.",
                        "VernacExtend",
                        "89178361d0d97c48bfe3725a4ea6d944fdf767ec"
                    ]
                },
                {
                    "command": [
                        "rewrite Hbot; apply comp_bot.",
                        "VernacExtend",
                        "fe2d0f391b1f666d35b6789d11de254d4616d481"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "split; [apply comp_join_top | auto].",
                        "VernacExtend",
                        "77ab055f285e066fa4a3bbe157079bd957046bbd"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_sub_upd",
            "line_nb": 1026,
            "steps": [
                {
                    "command": [
                        "unfold hist_sub; intros.",
                        "VernacExtend",
                        "b19e978a9aff96d58fd21e814ace4b566bca4e52"
                    ]
                },
                {
                    "command": [
                        "destruct Hsub; split; auto.",
                        "VernacExtend",
                        "50e7c34e681e2a672357da25a67eed15e7af7cc9"
                    ]
                },
                {
                    "command": [
                        "if_tac; subst; auto.",
                        "VernacExtend",
                        "3bcdd0ed955d7a9c586ca964b06506fda91d5147"
                    ]
                },
                {
                    "command": [
                        "apply map_upd2_incl; auto.",
                        "VernacExtend",
                        "6dcf88fa7b594a39273d9c1849b54461f78c6722"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_list_inj",
            "line_nb": 1059,
            "steps": [
                {
                    "command": [
                        "unfold hist_list; intros; apply list_nth_error_eq.",
                        "VernacExtend",
                        "0cf877dd8d67f8613a4a00d3dc5a4be8bd0de05d"
                    ]
                },
                {
                    "command": [
                        "intro j; specialize (Hl1 j); specialize (Hl2 j).",
                        "VernacExtend",
                        "34a8a9f177f71d32b544374a8bacd6c357201ccf"
                    ]
                },
                {
                    "command": [
                        "destruct (nth_error l1 j).",
                        "VernacExtend",
                        "72010a2b4970027ec4e6482c626c1df5aae1f8de"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "symmetry; rewrite <- Hl2, Hl1; auto.",
                        "VernacExtend",
                        "54d59a919b73b8280ad247de8092227158940741"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "destruct (nth_error l2 j); auto.",
                        "VernacExtend",
                        "4517b89f67acf9354e603f4c96289f820eb23616"
                    ]
                },
                {
                    "command": [
                        "specialize (Hl2 h0); rewrite Hl1 in Hl2; tauto.",
                        "VernacExtend",
                        "7ebd3651fa0e5f6357307eec5bdd420f7f1ce751"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_list_nil_inv1",
            "line_nb": 1069,
            "steps": [
                {
                    "command": [
                        "unfold hist_list; intros.",
                        "VernacExtend",
                        "eea700464a901a5305a42c797d6e36ac703742ed"
                    ]
                },
                {
                    "command": [
                        "destruct l; auto.",
                        "VernacExtend",
                        "4bfcd2f625a7deb5fd623e7d5faa40328d66978c"
                    ]
                },
                {
                    "command": [
                        "specialize (H O h); destruct H as [_ H]; specialize (H eq_refl); discriminate.",
                        "VernacExtend",
                        "3e439f546fa8bae9e91b402ac4bbc326350068ae"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_list_nil_inv2",
            "line_nb": 1074,
            "steps": [
                {
                    "command": [
                        "unfold hist_list; intros.",
                        "VernacExtend",
                        "eea700464a901a5305a42c797d6e36ac703742ed"
                    ]
                },
                {
                    "command": [
                        "extensionality t.",
                        "VernacExtend",
                        "9a05c33a6fee8425d67f57eef1b03542953217e6"
                    ]
                },
                {
                    "command": [
                        "specialize (H t); destruct (h t); auto.",
                        "VernacExtend",
                        "6abb3dfb3a15b1df62faac896119d16fb9c444c5"
                    ]
                },
                {
                    "command": [
                        "destruct (H h0) as [H' _].",
                        "VernacExtend",
                        "8af0909f41fa4c143fc57d2f3376fdda1c5aea11"
                    ]
                },
                {
                    "command": [
                        "specialize (H' eq_refl); rewrite nth_error_nil in H'; discriminate.",
                        "VernacExtend",
                        "1361defec6157835b87a3c9a1f8e146357215dd2"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_next",
            "line_nb": 1082,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "specialize (Hlist (length l)).",
                        "VernacExtend",
                        "328a0c65626b780a58c41b5bb6a2e1e95da71f4e"
                    ]
                },
                {
                    "command": [
                        "destruct (h (length l)); auto.",
                        "VernacExtend",
                        "f83c56841edca4744b568053b6ab03e779dc7711"
                    ]
                },
                {
                    "command": [
                        "destruct (Hlist h0) as [H' _].",
                        "VernacExtend",
                        "897db1ec33dd1de45b41ca1b7495bfbca0d6ed31"
                    ]
                },
                {
                    "command": [
                        "pose proof (nth_error_Some l (length l)) as (Hlt & _).",
                        "VernacExtend",
                        "602240f4e50bd01feea3717be3d023c20dcb0868"
                    ]
                },
                {
                    "command": [
                        "lapply Hlt; [omega|].",
                        "VernacExtend",
                        "c13444c55726e1fe176c0f33b8b95d234b1f0278"
                    ]
                },
                {
                    "command": [
                        "rewrite H' by auto; discriminate.",
                        "VernacExtend",
                        "acf489d55f4a44a27e4303811b35bb5b0da794c6"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_add",
            "line_nb": 1092,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "erewrite (add_andp (ghost_hist_ref _ _ _ _)) by apply own_valid.",
                        "VernacExtend",
                        "746b3043f4e425ce5a311b94e19c2715c36249e2"
                    ]
                },
                {
                    "command": [
                        "Intros.",
                        "VernacExtend",
                        "58784a78af6fa36ccbd531d2a460b187e88b99db"
                    ]
                },
                {
                    "command": [
                        "destruct H as [? Hcomp]; simpl in *.",
                        "VernacExtend",
                        "355ad1a6455edff114118e4cc6e3f547e871bad2"
                    ]
                },
                {
                    "command": [
                        "rewrite completable_alt in Hcomp; destruct Hcomp as [_ Hcomp].",
                        "VernacExtend",
                        "cb6de047120d34fe9d3b86170678b96eee3842e2"
                    ]
                },
                {
                    "command": [
                        "apply (ref_add(P := map_disj_PCM)) with (b := fun k => if eq_dec k t' then Some e else None).",
                        "VernacExtend",
                        "5d4a3764078273c940cd02af26c014c71da1017a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "repeat intro.",
                        "VernacExtend",
                        "b1b5d9b3004bf4634299c208df98406e88278608"
                    ]
                },
                {
                    "command": [
                        "unfold map_upd.",
                        "VernacExtend",
                        "78d810b5a9749307e72e2aecd8899c2dfc26b707"
                    ]
                },
                {
                    "command": [
                        "if_tac; [|destruct (h k); auto].",
                        "VernacExtend",
                        "a857c235613a09f82125ef98060936354dc56ead"
                    ]
                },
                {
                    "command": [
                        "subst; destruct (h t') eqn: Hh; auto.",
                        "VernacExtend",
                        "cb6e26860563134b07cf2da13f5e7a48f9a7edd9"
                    ]
                },
                {
                    "command": [
                        "if_tac in Hcomp; [congruence|].",
                        "VernacExtend",
                        "0fe943d91dc832edf736c0f494c94f365f769648"
                    ]
                },
                {
                    "command": [
                        "apply Hcomp in Hh; congruence.",
                        "VernacExtend",
                        "3fb363228675e20f86d5c9a5828fdf6b20414eb0"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "repeat intro.",
                        "VernacExtend",
                        "b1b5d9b3004bf4634299c208df98406e88278608"
                    ]
                },
                {
                    "command": [
                        "unfold map_upd.",
                        "VernacExtend",
                        "78d810b5a9749307e72e2aecd8899c2dfc26b707"
                    ]
                },
                {
                    "command": [
                        "if_tac; [|destruct (h' k); auto].",
                        "VernacExtend",
                        "dab499b4dafd3d1ba3fbdce05cb2f851dd353894"
                    ]
                },
                {
                    "command": [
                        "subst; rewrite Hfresh; auto.",
                        "VernacExtend",
                        "4352bbb5d3db915fe120338d5d0ba9234acd753f"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros ?? Hsub.",
                        "VernacExtend",
                        "80d6dac6af9f8e2e0da2b5665002155eae2322a0"
                    ]
                },
                {
                    "command": [
                        "exists (map_upd c t' e); repeat intro.",
                        "VernacExtend",
                        "b706ba3fa89d3d33a614b5ea97842d7f1cf98522"
                    ]
                },
                {
                    "command": [
                        "unfold map_upd.",
                        "VernacExtend",
                        "78d810b5a9749307e72e2aecd8899c2dfc26b707"
                    ]
                },
                {
                    "command": [
                        "if_tac; [|destruct (c k); auto].",
                        "VernacExtend",
                        "2c33842c35fef29322e71aee73f0160a6a57d0e4"
                    ]
                },
                {
                    "command": [
                        "subst; destruct (c t') eqn: Hc; auto.",
                        "VernacExtend",
                        "d9401c790cbfc7d23b2166aa9bb991c26182cc96"
                    ]
                },
                {
                    "command": [
                        "destruct Hsub as [x Hsub]; hnf in Hsub.",
                        "VernacExtend",
                        "582459a21d168f854783a665f8a703622ac182ae"
                    ]
                },
                {
                    "command": [
                        "specialize (Hsub t'); rewrite Hc in Hsub.",
                        "VernacExtend",
                        "090eb5bdf729ce046436499d0e5780bec99031e3"
                    ]
                },
                {
                    "command": [
                        "destruct (x t'); congruence.",
                        "VernacExtend",
                        "237a094d636122dd137a695cb8f6da4b39c5897a"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_incl_nil",
            "line_nb": 1121,
            "steps": [
                {
                    "command": [
                        "repeat intro; discriminate.",
                        "VernacExtend",
                        "0f7e0f955ecbd2713115ff9440d779b920c36e1b"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_list_nil",
            "line_nb": 1124,
            "steps": [
                {
                    "command": [
                        "split; [discriminate|].",
                        "VernacExtend",
                        "eb4e362215878d083aceff8d8c2608934e0e9948"
                    ]
                },
                {
                    "command": [
                        "rewrite nth_error_nil; discriminate.",
                        "VernacExtend",
                        "58047a18ac70e04071258b887cf402a24816b6f0"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_list_snoc",
            "line_nb": 1128,
            "steps": [
                {
                    "command": [
                        "unfold hist_list, map_upd; split.",
                        "VernacExtend",
                        "b37d9aab912dd50fd6e42249f8adf207a23ffaa8"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "if_tac.",
                        "VernacExtend",
                        "a006ab589e4ef6015fb470fbedb2c4c4dac27076"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "intro X; inv X.",
                        "VernacExtend",
                        "2d792e412ecbdebe662755b4a36ea0bf9c49378e"
                    ]
                },
                {
                    "command": [
                        "rewrite nth_error_app2, minus_diag; auto.",
                        "VernacExtend",
                        "53ffcfe15ce134936a969e1b240bf5d4cd03d9bf"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite H.",
                        "VernacExtend",
                        "6192df8b89486a3ba89a78e26e0d70cae2dc94c2"
                    ]
                },
                {
                    "command": [
                        "intro X; rewrite nth_error_app1; auto.",
                        "VernacExtend",
                        "2330d7974a7e797a3afb42e225f7a86e8fe68d05"
                    ]
                },
                {
                    "command": [
                        "rewrite <- nth_error_Some, X; discriminate.",
                        "VernacExtend",
                        "98dd279385f49cb73af615da3f5e1f31623e4f33"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "if_tac.",
                        "VernacExtend",
                        "a006ab589e4ef6015fb470fbedb2c4c4dac27076"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "subst; rewrite nth_error_app2, minus_diag; auto.",
                        "VernacExtend",
                        "eac6e99273353f6c5ac29e8069703b000ee421df"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "intro X; apply H; rewrite nth_error_app1 in X; auto.",
                        "VernacExtend",
                        "7b4af07e83fea71ec79aeb68779ba121c76ed4fb"
                    ]
                },
                {
                    "command": [
                        "assert (t < length (l ++ [e]))%nat; [|rewrite app_length in *; simpl in *; omega].",
                        "VernacExtend",
                        "002b70f68402d143ebb3997d186c235034eb52ab"
                    ]
                },
                {
                    "command": [
                        "rewrite <- nth_error_Some, X; discriminate.",
                        "VernacExtend",
                        "98dd279385f49cb73af615da3f5e1f31623e4f33"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_sub_list_incl",
            "line_nb": 1148,
            "steps": [
                {
                    "command": [
                        "unfold hist_list, hist_incl; intros.",
                        "VernacExtend",
                        "3045fdc2367b4b2d31759cdf9313149b1ce026f7"
                    ]
                },
                {
                    "command": [
                        "apply Hlist.",
                        "VernacExtend",
                        "b687c7853e60168c648d5c5139ba02bdbdb18d9c"
                    ]
                },
                {
                    "command": [
                        "destruct Hsub.",
                        "VernacExtend",
                        "bdc6f7bc5c2ceeaea14755cfe9a1bd5dd4a4f80a"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec sh Tsh); subst; auto.",
                        "VernacExtend",
                        "1fa1a990f27fa3ccddae31fa2574bc0aea32723c"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_sub_Tsh",
            "line_nb": 1154,
            "steps": [
                {
                    "command": [
                        "intros; unfold hist_sub; rewrite eq_dec_refl; repeat split; auto; tauto.",
                        "VernacExtend",
                        "daa5996b43ce50bc654ececed4dc862bf365aedb"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_ref_join_nil",
            "line_nb": 1176,
            "steps": [
                {
                    "command": [
                        "intros; rewrite hist_ref_join by auto.",
                        "VernacExtend",
                        "bbe0908b44b0daf8e1bac6bd349edfac8d804752"
                    ]
                },
                {
                    "command": [
                        "apply pred_ext; entailer!.",
                        "VernacExtend",
                        "7e40fa0d54fd280db9895c6340dab7239561a3f2"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply hist_list_nil_inv2 in H0; subst; auto.",
                        "VernacExtend",
                        "b32664467d353f90c2a4ab2f360c6db228a8b80f"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "Exists (fun _ : nat => @None hist_el); apply andp_right, derives_refl.",
                        "VernacExtend",
                        "1e4db5ee3e36ff8a3e47bd52fa4353eb6f8bb663"
                    ]
                },
                {
                    "command": [
                        "apply prop_right; split; [apply hist_list_nil|].",
                        "VernacExtend",
                        "5495f5e1cf8d80ebefaf654d189df97a87f00e60"
                    ]
                },
                {
                    "command": [
                        "split; auto.",
                        "VernacExtend",
                        "fcd44a714bd12fa54b1c7746996e44dbac16df06"
                    ]
                },
                {
                    "command": [
                        "if_tac; auto.",
                        "VernacExtend",
                        "405a5d1c67f2928c68a29c10540d8abdea32b1bd"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_ref_incl",
            "line_nb": 1187,
            "steps": [
                {
                    "command": [
                        "intros; rewrite hist_ref_join by auto.",
                        "VernacExtend",
                        "bbe0908b44b0daf8e1bac6bd349edfac8d804752"
                    ]
                },
                {
                    "command": [
                        "Intros l; eapply prop_right, hist_sub_list_incl; eauto.",
                        "VernacExtend",
                        "cb06bb6382a6468a6e655d35f3945cfc68f2847a"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "newer_trans",
            "line_nb": 1203,
            "steps": [
                {
                    "command": [
                        "repeat intro.",
                        "VernacExtend",
                        "b1b5d9b3004bf4634299c208df98406e88278608"
                    ]
                },
                {
                    "command": [
                        "specialize (H _ H1); omega.",
                        "VernacExtend",
                        "878b59039415f6b3c9020412c8afd0a642c4ea35"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "newer_upd",
            "line_nb": 1207,
            "steps": [
                {
                    "command": [
                        "unfold newer, map_upd; intros.",
                        "VernacExtend",
                        "79be48ea374a30b24f9fbd4f84b5d5ce9d5faded"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec t' t1); [omega|].",
                        "VernacExtend",
                        "f6fb735081178894a63dc92c49ac283a0694b681"
                    ]
                },
                {
                    "command": [
                        "eapply newer_trans; eauto; omega.",
                        "VernacExtend",
                        "0e1bdc93972b76e69b9243b4261630c22f1f75f4"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "newer_over",
            "line_nb": 1212,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "specialize (H t').",
                        "VernacExtend",
                        "7f13e5857608acde6ea6955d0bb141b4704d2c38"
                    ]
                },
                {
                    "command": [
                        "destruct (h t'); auto.",
                        "VernacExtend",
                        "b266274fa04d9e6f9cfa87fb9e7232071554f149"
                    ]
                },
                {
                    "command": [
                        "lapply H; [omega | discriminate].",
                        "VernacExtend",
                        "b28bed0b608b0166792e4aeedc76f82fe59afb27"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "newer_out",
            "line_nb": 1218,
            "steps": [
                {
                    "command": [
                        "intros; eapply newer_over; eauto.",
                        "VernacExtend",
                        "afba8d3808aeecf43a6ee5cca31a47871686232d"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_incl_lt",
            "line_nb": 1241,
            "steps": [
                {
                    "command": [
                        "unfold hist_incl; repeat intro.",
                        "VernacExtend",
                        "b57a9bbd85f53563a82336a809558ed58d9b3ccb"
                    ]
                },
                {
                    "command": [
                        "specialize (H t').",
                        "VernacExtend",
                        "7f13e5857608acde6ea6955d0bb141b4704d2c38"
                    ]
                },
                {
                    "command": [
                        "destruct (h t'); [|contradiction].",
                        "VernacExtend",
                        "2be1eb475fac5d04338ab0add92d568b6c6d5370"
                    ]
                },
                {
                    "command": [
                        "specialize (H _ eq_refl).",
                        "VernacExtend",
                        "c74707bfee696e3fe6e6fa824d698086cc697cc8"
                    ]
                },
                {
                    "command": [
                        "rewrite <- nth_error_Some, H; discriminate.",
                        "VernacExtend",
                        "6e423183c656bb94a321c31cf91ff53ca9487d0d"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_list_lt",
            "line_nb": 1248,
            "steps": [
                {
                    "command": [
                        "intros; apply hist_incl_lt; repeat intro; apply H; auto.",
                        "VernacExtend",
                        "3e838c008535d99a08a451980c6dd074f876694d"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_list'_in",
            "line_nb": 1253,
            "steps": [
                {
                    "command": [
                        "induction 1.",
                        "VernacExtend",
                        "dfe896305621800fcbb03b32d51d497edbdf1dc5"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "split; [intros (? & ?); discriminate | contradiction].",
                        "VernacExtend",
                        "201b23909c21872ed317ebc941ad0f24da7d8495"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intro; subst; split.",
                        "VernacExtend",
                        "48a565bcf830d456be1a6cfe5ae045e77660e87c"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "unfold map_upd; intros (? & Hin); rewrite in_app in *.",
                        "VernacExtend",
                        "f36d1f3df166282d111bdd5646a445092e03a623"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec x t); [inv Hin; simpl; auto|].",
                        "VernacExtend",
                        "1fc4790de8035b9477d79713d12da98f4ce58ed6"
                    ]
                },
                {
                    "command": [
                        "rewrite <- IHHl; eauto.",
                        "VernacExtend",
                        "7c9234f6f7458574ead4118c8d96f6f1e9977554"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite in_app; intros [Hin | [Heq | ?]]; [| inv Heq | contradiction].",
                        "VernacExtend",
                        "cd856a5ed45f1da6096704df3d321f29beb78e7a"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "rewrite <- IHHl in Hin; destruct Hin as (? & ?).",
                        "VernacExtend",
                        "0ab0baf78360a705762c6ac1fd1d1c5818d69460"
                    ]
                },
                {
                    "command": [
                        "apply newer_out in Hlast.",
                        "VernacExtend",
                        "a7a6f26e0c86ee4de4754ad999168526c1c0441f"
                    ]
                },
                {
                    "command": [
                        "unfold map_upd; exists x; if_tac; auto; congruence.",
                        "VernacExtend",
                        "cbe98c16b160f979a003fd241b600b82f5515e9d"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "unfold map_upd; eexists; apply eq_dec_refl.",
                        "VernacExtend",
                        "9930a2a1205d3985ae06c6d665e43ab57d076d8b"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "hist_list_weak",
            "line_nb": 1272,
            "steps": [
                {
                    "command": [
                        "induction l using rev_ind; intros.",
                        "VernacExtend",
                        "9ab92c11a5febb178fa25256bbf8c80fc8f38cc5"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply hist_list_nil_inv2 in Hl; subst; auto.",
                        "VernacExtend",
                        "2515b777ccfcfc79a8cce843c854487dae4a2c1e"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "destruct (Hl (length l) x) as (_ & H); exploit H.",
                        "VernacExtend",
                        "b49515d1d01a45e97e4a4a00bcf5c1769c43e1e3"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "rewrite nth_error_app2, minus_diag by omega; auto.",
                        "VernacExtend",
                        "fad239a323bdc97848a5fbe99d6aeba930faebbc"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "intro Hx.",
                        "VernacExtend",
                        "218b6ef98d0605f2e1745b1d78b2fbbb6c4b9a85"
                    ]
                },
                {
                    "command": [
                        "set (h0 := fun k => if eq_dec k (length l) then None else h k).",
                        "VernacExtend",
                        "a636d93582cc175d2cd5a4c9604ae1b95b82cdda"
                    ]
                },
                {
                    "command": [
                        "replace h with (map_upd h0 (length l) x).",
                        "VernacExtend",
                        "b9c9285861ad75afd8a64c936d4f6c768c4dfcbe"
                    ]
                },
                {
                    "command": [
                        "constructor.",
                        "VernacExtend",
                        "3c77e6be855b5086df5e918bf2a0537e1010479a"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "pose proof (hist_list_lt _ _ Hl) as Hn.",
                        "VernacExtend",
                        "a27376eb07e7466f3a762c6bd55902c9ea296d93"
                    ]
                },
                {
                    "command": [
                        "intro t; specialize (Hn t).",
                        "VernacExtend",
                        "22a91d7bc83456c8af9811eca98a483e8906b115"
                    ]
                },
                {
                    "command": [
                        "subst h0; simpl; if_tac; [contradiction|].",
                        "VernacExtend",
                        "ec34fb0836d372e1f9be79cfe08ee260771d6ab0"
                    ]
                },
                {
                    "command": [
                        "intro X; specialize (Hn X); rewrite app_length in Hn; simpl in Hn; omega.",
                        "VernacExtend",
                        "32e14d1c46328d1658c0f3117b2fc1c25cb149ec"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply IHl.",
                        "VernacExtend",
                        "af412c6009bba78f939aa53ab07dcd1baaf5888b"
                    ]
                },
                {
                    "command": [
                        "intros t e; specialize (Hl t e).",
                        "VernacExtend",
                        "7dada8aead816e5d142c648df13578a7a4accf6c"
                    ]
                },
                {
                    "command": [
                        "subst h0; simpl; if_tac.",
                        "VernacExtend",
                        "20f44fdb777fe9b16001739ce3d7dd2ff4326c1d"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "split; [discriminate|].",
                        "VernacExtend",
                        "eb4e362215878d083aceff8d8c2608934e0e9948"
                    ]
                },
                {
                    "command": [
                        "intro X; assert (t < length l)%nat by (rewrite <- nth_error_Some, X; discriminate); omega.",
                        "VernacExtend",
                        "223e4322f738812fb3864acbb555a68a0c6b0e7f"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "rewrite Hl; destruct (lt_dec t (length l)).",
                        "VernacExtend",
                        "67190ecb47207a7d67e3a905e427c58825dbe7f1"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "rewrite nth_error_app1 by auto; reflexivity.",
                        "VernacExtend",
                        "f5049e0914a9280b5dddf6993ba1c2899a6717c1"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "split; intro X.",
                        "VernacExtend",
                        "19badb57669af1362d7d3e629735434511a07d22"
                    ]
                },
                {
                    "command": [
                        "--",
                        "VernacBullet",
                        "ba168e40f4056f7e624b4823d483fd7320648256"
                    ]
                },
                {
                    "command": [
                        "assert (t < length (l ++ [x]))%nat by (rewrite <- nth_error_Some, X; discriminate); rewrite app_length in *; simpl in *; omega.",
                        "VernacExtend",
                        "fc3a780b874e8e7b3ef2e22469c23fc2fe89a2bc"
                    ]
                },
                {
                    "command": [
                        "--",
                        "VernacBullet",
                        "ba168e40f4056f7e624b4823d483fd7320648256"
                    ]
                },
                {
                    "command": [
                        "assert (t < length l)%nat by (rewrite <- nth_error_Some, X; discriminate); contradiction.",
                        "VernacExtend",
                        "6548d5f8d6b51d7b5bcf5e2956cc6b02508e0232"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "unfold map_upd; subst h0; simpl.",
                        "VernacExtend",
                        "a4827343aca1d6143b778fd7632e1b478a256ce9"
                    ]
                },
                {
                    "command": [
                        "extensionality k'; if_tac; subst; auto.",
                        "VernacExtend",
                        "33e64477e63e48fbae579dc82d96de87e02fd898"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "ghost_hist_init",
            "line_nb": 1384,
            "steps": [
                {
                    "command": [
                        "split; simpl; auto.",
                        "VernacExtend",
                        "e2ee7819fbb32d2c4a8d46eec291a3c64ca8c3fb"
                    ]
                },
                {
                    "command": [
                        "rewrite completable_alt; split; auto.",
                        "VernacExtend",
                        "942cc7831fdaf333c64d9e5c80d765608c924dd7"
                    ]
                },
                {
                    "command": [
                        "rewrite eq_dec_refl; auto.",
                        "VernacExtend",
                        "d0f183f79590ce7220aaf8dc6e0509aac828f6ee"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "add_events_1",
            "line_nb": 1391,
            "steps": [
                {
                    "command": [
                        "intros; apply (add_events_snoc _ []); auto.",
                        "VernacExtend",
                        "37626189e360486a1ec3fc6310a5c77ca6f555b0"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "add_events_trans",
            "line_nb": 1394,
            "steps": [
                {
                    "command": [
                        "induction 2.",
                        "VernacExtend",
                        "1af3b9f2643066cd76726ca6025cb318959840d3"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "rewrite app_nil_r; auto.",
                        "VernacExtend",
                        "1d1177ca5089e90b0ad0d23abdc633163bacb58e"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "rewrite app_assoc; constructor; auto.",
                        "VernacExtend",
                        "3825b75ebd0facd70ba17b93c9de5d637fb8603f"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "add_events_add",
            "line_nb": 1401,
            "steps": [
                {
                    "command": [
                        "induction 1.",
                        "VernacExtend",
                        "dfe896305621800fcbb03b32d51d497edbdf1dc5"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eexists; rewrite map_add_empty; split; auto; discriminate.",
                        "VernacExtend",
                        "9125acde62ba2c3b2a4e054de4835067240bd1c6"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "destruct IHadd_events as (h2 & ? & Hh2); subst.",
                        "VernacExtend",
                        "443ab1240214da91a68865c1054fb233f024b080"
                    ]
                },
                {
                    "command": [
                        "assert (compatible h h2).",
                        "VernacExtend",
                        "8445b2850e253f7042d03505b9401b212da8c540"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "repeat intro.",
                        "VernacExtend",
                        "b1b5d9b3004bf4634299c208df98406e88278608"
                    ]
                },
                {
                    "command": [
                        "destruct (Hh2 _ _ H1) as [Hk _].",
                        "VernacExtend",
                        "e737eed30afbe20160125274f5f44a54e89f9ab4"
                    ]
                },
                {
                    "command": [
                        "specialize (Hk k); lapply Hk; [omega | congruence].",
                        "VernacExtend",
                        "1424cef8fad31fa07bc2a0fd614b87ffb46e7817"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "assert (newer h t).",
                        "VernacExtend",
                        "ad614c68b272c1f09d2a615a6b69bdf8a0d65a5e"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "repeat intro; apply Ht.",
                        "VernacExtend",
                        "40dc17d2a67dc2b4829a1fe5655b2477fa985c37"
                    ]
                },
                {
                    "command": [
                        "unfold map_add.",
                        "VernacExtend",
                        "b39ae9aa8c1f76a7dbc37f8a7673baec8079cab6"
                    ]
                },
                {
                    "command": [
                        "destruct (h t'); auto.",
                        "VernacExtend",
                        "b266274fa04d9e6f9cfa87fb9e7232071554f149"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "rewrite map_add_comm, map_add_upd, map_add_comm; auto.",
                        "VernacExtend",
                        "208644b344db8fd26212d146ad164d83fa7b8271"
                    ]
                },
                {
                    "command": [
                        "eexists; split; eauto; intros.",
                        "VernacExtend",
                        "a0ecb9f4170be5c6c914721720a6b3970887bfa2"
                    ]
                },
                {
                    "command": [
                        "unfold map_upd in *.",
                        "VernacExtend",
                        "cee623ce2e1ea47a76b115d8c9916bba0830e67b"
                    ]
                },
                {
                    "command": [
                        "rewrite in_app; simpl.",
                        "VernacExtend",
                        "5c0e0ff2077284f161ea2a8895f61b6069f3aafd"
                    ]
                },
                {
                    "command": [
                        "destruct (eq_dec t0 t); [inv H2; auto|].",
                        "VernacExtend",
                        "715d7ca16a2b62bdb6ccae4ade9995bf6d0f828f"
                    ]
                },
                {
                    "command": [
                        "destruct (Hh2 _ _ H2); auto.",
                        "VernacExtend",
                        "ec2cd2b0b6d3124a1bc7a5172a6edb65109511c7"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "apply compatible_upd; [symmetry; auto|].",
                        "VernacExtend",
                        "31f692f8e1ea3c8f65ff8a4b217618ee664b4da4"
                    ]
                },
                {
                    "command": [
                        "specialize (H1 t).",
                        "VernacExtend",
                        "c9a653bf551af759fcbd386777553947bf657a05"
                    ]
                },
                {
                    "command": [
                        "destruct (h t); auto.",
                        "VernacExtend",
                        "e6e63dcedd9552a3ba96bfe93b5e219d6cad2f0f"
                    ]
                },
                {
                    "command": [
                        "lapply H1; [omega | discriminate].",
                        "VernacExtend",
                        "520e709be52759e7b48891ff64012bb156d3e6d6"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "add_events_dom",
            "line_nb": 1432,
            "steps": [
                {
                    "command": [
                        "intros; apply add_events_add in H as (? & ? & Hh2); subst.",
                        "VernacExtend",
                        "878a702608cf261a5ff0d11888f4d7a486eadce9"
                    ]
                },
                {
                    "command": [
                        "unfold map_add in H0.",
                        "VernacExtend",
                        "a3ed886334834ec1b64c8ab9e388f30d61c6d7d9"
                    ]
                },
                {
                    "command": [
                        "destruct (h t); [inv H0; auto|].",
                        "VernacExtend",
                        "974569f2e9b39c7171fda52b45d208025e372a98"
                    ]
                },
                {
                    "command": [
                        "destruct (Hh2 _ _ H0); auto.",
                        "VernacExtend",
                        "dc0467ab7b9caa1de38228031d747c6d9c55baa5"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "add_events_incl",
            "line_nb": 1438,
            "steps": [
                {
                    "command": [
                        "intros; apply add_events_add in H as (? & ? & ?); subst.",
                        "VernacExtend",
                        "4739a7d3215f0a4518ca34c1b8e5236efe1dd08c"
                    ]
                },
                {
                    "command": [
                        "apply map_incl_add.",
                        "VernacExtend",
                        "cfb891eee5f82e7a834dfc8471b09fd2bc57e0a4"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "add_events_newer",
            "line_nb": 1442,
            "steps": [
                {
                    "command": [
                        "repeat intro.",
                        "VernacExtend",
                        "b1b5d9b3004bf4634299c208df98406e88278608"
                    ]
                },
                {
                    "command": [
                        "apply H0.",
                        "VernacExtend",
                        "c75b3371fc84f2aae811de7e80b1bdb43e4d249a"
                    ]
                },
                {
                    "command": [
                        "destruct (h t') eqn: Ht'; [|contradiction].",
                        "VernacExtend",
                        "2df3880884945a6351f238a24762b035b952b9cb"
                    ]
                },
                {
                    "command": [
                        "eapply add_events_incl in Ht' as ->; eauto.",
                        "VernacExtend",
                        "fb71a5594c1392e5f514a8df1489345541af159d"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "add_events_in",
            "line_nb": 1448,
            "steps": [
                {
                    "command": [
                        "induction 1; [contradiction|].",
                        "VernacExtend",
                        "68d33ee145cb2b883954178d903bff1cf43dc104"
                    ]
                },
                {
                    "command": [
                        "rewrite in_app; intros [? | [? | ?]]; try contradiction.",
                        "VernacExtend",
                        "b661d14107c053b2d82111a2244340ff59991c90"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "destruct IHadd_events as (? & ? & ?); auto.",
                        "VernacExtend",
                        "9f278734979afa65331f1db7945ab921a4f353ff"
                    ]
                },
                {
                    "command": [
                        "do 2 eexists; eauto.",
                        "VernacExtend",
                        "87b62310489815d0095220d7785034cdcbe60c43"
                    ]
                },
                {
                    "command": [
                        "unfold map_upd; if_tac; auto; subst.",
                        "VernacExtend",
                        "9c5ded0e41a29852abad7e2c980f2b8988733f9e"
                    ]
                },
                {
                    "command": [
                        "specialize (Ht t); rewrite H2 in Ht; lapply Ht; [omega | discriminate].",
                        "VernacExtend",
                        "2443b202284e15c4c85c3606908a5713279317a1"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "subst; unfold map_upd; do 2 eexists; [|apply eq_dec_refl].",
                        "VernacExtend",
                        "d8c8cc86916d1aba0fb84a936d1f839815120264"
                    ]
                },
                {
                    "command": [
                        "eapply add_events_newer; eauto.",
                        "VernacExtend",
                        "b0d5652272c1db3dd6efde73b480cc17e51cf161"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "weak_view_shift_obligation_1",
            "line_nb": 1466,
            "steps": [
                {
                    "command": [
                        "repeat intro.",
                        "VernacExtend",
                        "b1b5d9b3004bf4634299c208df98406e88278608"
                    ]
                },
                {
                    "command": [
                        "destruct H1.",
                        "VernacExtend",
                        "e752c2122f55c888e09082f784a6da990b01fbe7"
                    ]
                },
                {
                    "command": [
                        "apply age_level in H.",
                        "VernacExtend",
                        "cab1ee3d49024d43572fc289b15512cbdff1144d"
                    ]
                },
                {
                    "command": [
                        "lapply (H0 a0); [|split; auto; omega].",
                        "VernacExtend",
                        "200ca1e62a9c90553d195ce11f35312fbf4c7d22"
                    ]
                },
                {
                    "command": [
                        "intro HQ; destruct (HQ _ H2) as (? & ? & ? & ? & ? & ? & []).",
                        "VernacExtend",
                        "fdbd5aa0ef310c9acf9f7d823956a962a4e92d01"
                    ]
                },
                {
                    "command": [
                        "eexists; split; eauto; eexists; split; eauto; repeat split; auto; omega.",
                        "VernacExtend",
                        "96f596052bcdbff36094faef30a20f5cb8657a72"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "view_shift_nonexpansive",
            "line_nb": 1474,
            "steps": [
                {
                    "command": [
                        "apply nonexpansive2_super_non_expansive; repeat intro.",
                        "VernacExtend",
                        "5688dc88ac5b6debd2769e284d6854c82c62b87a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "split; intros ??%necR_level Hshift ? HP ? J; destruct (Hshift _ HP _ J) as (? & ? & m' & ? & ? & ? & []); destruct HP; eexists; split; eauto; eexists; split; eauto; repeat split; auto; apply (H m'); auto; omega.",
                        "VernacExtend",
                        "e883254c799fdaee07cf492e24c4dc3e8f629c51"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "split; intros ??%necR_level Hshift ? []; apply Hshift; split; auto; apply (H a0); auto; omega.",
                        "VernacExtend",
                        "6aebca8c790e4e40d022d3dcc33916c6542da002"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "view_shift_nonexpansive_l",
            "line_nb": 1481,
            "steps": [
                {
                    "command": [
                        "repeat intro.",
                        "VernacExtend",
                        "b1b5d9b3004bf4634299c208df98406e88278608"
                    ]
                },
                {
                    "command": [
                        "apply (nonexpansive_super_non_expansive (fun P => weak_view_shift P Q)); repeat intro.",
                        "VernacExtend",
                        "749df78096713d87c70145d959a770e3bb779b1b"
                    ]
                },
                {
                    "command": [
                        "split; intros ??%necR_level Hshift ? []; apply Hshift; split; auto; apply (H a0); auto; omega.",
                        "VernacExtend",
                        "6aebca8c790e4e40d022d3dcc33916c6542da002"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "view_shift_nonexpansive_R",
            "line_nb": 1486,
            "steps": [
                {
                    "command": [
                        "repeat intro.",
                        "VernacExtend",
                        "b1b5d9b3004bf4634299c208df98406e88278608"
                    ]
                },
                {
                    "command": [
                        "apply (nonexpansive_super_non_expansive (fun Q => weak_view_shift P Q)); repeat intro.",
                        "VernacExtend",
                        "1231dc099b50a3c6f1e3a6162bdeaf29602fa7fd"
                    ]
                },
                {
                    "command": [
                        "split; intros ??%necR_level Hshift ? HP ? J; destruct (Hshift _ HP _ J) as (? & ? & m' & ? & ? & ? & []); destruct HP; eexists; split; eauto; eexists; split; eauto; repeat split; auto; apply (H m'); auto; omega.",
                        "VernacExtend",
                        "e883254c799fdaee07cf492e24c4dc3e8f629c51"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "view_shift_weak",
            "line_nb": 1491,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "change (predicates_hered.derives TT (weak_view_shift P Q)).",
                        "VernacExtend",
                        "08fc607a28a5ae81bc1e66db6895bd15914b5b9c"
                    ]
                },
                {
                    "command": [
                        "intros w _ ? [? HP] ? J.",
                        "VernacExtend",
                        "a8ee1d546f8be9f1c463788691a7699bde262823"
                    ]
                },
                {
                    "command": [
                        "destruct (H _ HP _ J) as (? & ? & ? & ? & ? & ? & ?).",
                        "VernacExtend",
                        "52dee0fec60b8ef34ab6289eee9efb9b861f8d61"
                    ]
                },
                {
                    "command": [
                        "eexists; split; eauto; eexists; split; eauto; repeat split; auto; omega.",
                        "VernacExtend",
                        "96f596052bcdbff36094faef30a20f5cb8657a72"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "apply_view_shift",
            "line_nb": 1498,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "change (predicates_hered.derives ((weak_view_shift P Q && emp) * P) (own.bupd Q)).",
                        "VernacExtend",
                        "a6cd02de215b7434f28a70572525f7581e268ceb"
                    ]
                },
                {
                    "command": [
                        "intros ? (? & ? & ? & [Hshift Hemp] & HP) ? J.",
                        "VernacExtend",
                        "09e58c37b8f718e71034a7d37f7c3aa5b34cd2cb"
                    ]
                },
                {
                    "command": [
                        "destruct (join_level _ _ _ H).",
                        "VernacExtend",
                        "e78021f7e985fb4aee82e3d0ffa180b4b6faf842"
                    ]
                },
                {
                    "command": [
                        "apply Hemp in H; subst.",
                        "VernacExtend",
                        "44010ca18d0fb31a038b82218f83473b0abf3f20"
                    ]
                },
                {
                    "command": [
                        "lapply (Hshift a); [|split; auto; omega].",
                        "VernacExtend",
                        "c6e47d27a44477eca50d179c2518943bc74df29b"
                    ]
                },
                {
                    "command": [
                        "intro X; destruct (X _ J) as (? & ? & ? & ? & ? & ? & []); eauto 7.",
                        "VernacExtend",
                        "a268592f358c937b50cfe469aa44888705aa76bc"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}