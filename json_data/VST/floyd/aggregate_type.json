{
    "filename": "floyd/aggregate_type.v",
    "coq_project": "VST",
    "vernac_cmds": [
        [
            "Require Import VST.floyd.base2.",
            "VernacRequire",
            "c9732b06b9c2316526989f551596fbf382fa6641"
        ],
        [
            "Require Import VST.floyd.assert_lemmas.",
            "VernacRequire",
            "4413811f0a091c743ad2a442323c55ec979c1e0f"
        ],
        [
            "Require Import VST.floyd.type_induction.",
            "VernacRequire",
            "b89058f74a555f32a00b01d6d87f589d950b2448"
        ],
        [
            "Require Import VST.floyd.jmeq_lemmas.",
            "VernacRequire",
            "a6fb0c3a29692102d721ac4dd667babf679323f6"
        ],
        [
            "Require Export VST.floyd.fieldlist.",
            "VernacRequire",
            "fedf2e502d563acdcdd7e4e96864bdcb602f11f4"
        ],
        [
            "Require Export VST.floyd.compact_prod_sum.",
            "VernacRequire",
            "c70f552eaa911c86b7b715c77e806b85f0d89ee9"
        ],
        [
            "Require Export VST.floyd.sublist.",
            "VernacRequire",
            "ab3df40f53c720f8a095be941d23933f19e63148"
        ],
        [
            "Definition proj_struct (i : ident) (m : members) {A: ident * type -> Type} (v: compact_prod (map A m)) (d: A (i, field_type i m)): A (i, field_type i m) := proj_compact_prod (i, field_type i m) m v d member_dec.",
            "VernacDefinition",
            "912729c3f13b7298fb92eca52abe995c444b5cc0"
        ],
        [
            "Definition proj_union (i : ident) (m : members) {A: ident * type -> Type} (v: compact_sum (map A m)) (d: A (i, field_type i m)): A (i, field_type i m) := proj_compact_sum (i, field_type i m) m v d member_dec.",
            "VernacDefinition",
            "d1237abda82e197ebc05b4667439a78b2305712b"
        ],
        [
            "Definition members_union_inj {m: members} {A} (v: compact_sum (map A m)) (it: ident * type): Prop := compact_sum_inj v it member_dec.",
            "VernacDefinition",
            "16b18af219c65c7411aa79ff830fbe6f3a1d7bd8"
        ],
        [
            "Definition upd_sublist {X: Type} (lo hi: Z) (l: list X) (l0: list X) : list X := firstn (Z.to_nat lo) l ++ l0 ++ skipn (Z.to_nat hi) l.",
            "VernacDefinition",
            "f8c04f50d1026e3a649f75760f49c9b122eae52e"
        ],
        [
            "Definition upd_struct (i : ident) (m : members) {A: ident * type -> Type} (v: compact_prod (map A m)) (v0: A (i, field_type i m)): compact_prod (map A m) := upd_compact_prod _ v (i, field_type i m) v0 member_dec.",
            "VernacDefinition",
            "7f11598c47362c29cf7a72eec91545d16766da3f"
        ],
        [
            "Definition upd_union (i : ident) (m : members) {A: ident * type -> Type} (v: compact_sum (map A m)) (v0: A (i, field_type i m)): compact_sum (map A m) := upd_compact_sum _ v (i, field_type i m) v0 member_dec.",
            "VernacDefinition",
            "dbc8654d1dcf7a4f034e6a8938538d10ce7ffc95"
        ],
        [
            "Lemma proj_struct_JMeq: forall (i: ident) (m : members) {A1 A2: ident * type -> Type} (v1: compact_prod (map A1 m)) (v2: compact_prod (map A2 m)) (d1: A1 (i, field_type i m)) (d2: A2 (i, field_type i m)), (forall i, in_members i m -> @eq Type (A1 (i, field_type i m)) (A2 (i, field_type i m))) -> members_no_replicate m = true -> in_members i m -> JMeq v1 v2 -> JMeq (proj_struct i m v1 d1) (proj_struct i m v2 d2).",
            "VernacStartTheoremProof",
            "899d169edef3437bc9f140c83911b593532112e6"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply proj_compact_prod_JMeq; auto.",
            "VernacExtend",
            "422448ec2fa1f38a9bc5f71da669521e25458c89"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "clear - H H0.",
            "VernacExtend",
            "58e1de226be4685579a9469cbd7d2405ded5f7cf"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "pose proof In_field_type _ _ H0 H1.",
            "VernacExtend",
            "87101bfe47222f24a18d39d70364b61097c09499"
        ],
        [
            "destruct i as [i t].",
            "VernacExtend",
            "ed1a40be464f0509091063908ae6f83e674588de"
        ],
        [
            "simpl fst in H2; simpl snd in H2.",
            "VernacExtend",
            "450be68d089783884cbb0f37e69ae570cac8d393"
        ],
        [
            "rewrite <- H2.",
            "VernacExtend",
            "c204509e5e85cb1396c425732210ff127ac38a7b"
        ],
        [
            "apply H; auto.",
            "VernacExtend",
            "4fad0139824cf3bfe52c76bdec7336aa3652c5f4"
        ],
        [
            "apply List.in_map with (f := fst) in H1.",
            "VernacExtend",
            "4e403faadfd3c5efed27b4d68c7e862111f3fb87"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply in_members_field_type; auto.",
            "VernacExtend",
            "d08f202b3bf3f32686908375ff59d00c2e5ac773"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma members_union_inj_JMeq: forall (m : members) {A1 A2: ident * type -> Type} (v1: compact_sum (map A1 m)) (v2: compact_sum (map A2 m)), (forall i, in_members i m -> @eq Type (A1 (i, field_type i m)) (A2 (i, field_type i m))) -> members_no_replicate m = true -> JMeq v1 v2 -> (forall it, members_union_inj v1 it <-> members_union_inj v2 it).",
            "VernacStartTheoremProof",
            "cec511d8f913e66fb357d559c51e1b1808d312eb"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply compact_sum_inj_JMeq; auto.",
            "VernacExtend",
            "38fa54924d84a721b23c4a241e1c0edd96af7663"
        ],
        [
            "intros [? ?] ?.",
            "VernacExtend",
            "b805715f627160a66fc5f6118469fe246f93116a"
        ],
        [
            "specialize (H i).",
            "VernacExtend",
            "127e405bbb638c9528691e836c73b4d438c7a336"
        ],
        [
            "spec H.",
            "VernacExtend",
            "c7a045c1cfd9908cdf3626bbe876cad8b9f0c976"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "change i with (fst (i, t)).",
            "VernacExtend",
            "0cb121c51eae679f909076910effd1b13322ea37"
        ],
        [
            "apply in_map.",
            "VernacExtend",
            "8b1d6650eff402b483dc29bd25bb3e04ea7f525b"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply In_field_type in H2; auto.",
            "VernacExtend",
            "2d78098a876f34ab1161ff0ad34f055169be7dd6"
        ],
        [
            "simpl snd in H2.",
            "VernacExtend",
            "f5ad687e71968ed85ad1213ce5358e80d4489d88"
        ],
        [
            "rewrite <- H2; simpl fst.",
            "VernacExtend",
            "78fa6be2b6ab53fc58420a522f532c3ce5ff4245"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma proj_union_JMeq: forall (i: ident) (m : members) {A1 A2: ident * type -> Type} (v1: compact_sum (map A1 m)) (v2: compact_sum (map A2 m)) (d1: A1 (i, field_type i m)) (d2: A2 (i, field_type i m)), (forall i, in_members i m -> @eq Type (A1 (i, field_type i m)) (A2 (i, field_type i m))) -> members_no_replicate m = true -> members_union_inj v1 (i, field_type i m) -> JMeq v1 v2 -> JMeq (proj_union i m v1 d1) (proj_union i m v2 d2).",
            "VernacStartTheoremProof",
            "41b4adee0c850f5ede66f711f7d91b5d7b2744e0"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply proj_compact_sum_JMeq; auto.",
            "VernacExtend",
            "bcc1a53dd866e349e8d8d9dbe6afe410b28d46b1"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "clear - H H0.",
            "VernacExtend",
            "58e1de226be4685579a9469cbd7d2405ded5f7cf"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "pose proof In_field_type _ _ H0 H1.",
            "VernacExtend",
            "87101bfe47222f24a18d39d70364b61097c09499"
        ],
        [
            "destruct i as [i t].",
            "VernacExtend",
            "ed1a40be464f0509091063908ae6f83e674588de"
        ],
        [
            "simpl fst in H2; simpl snd in H2.",
            "VernacExtend",
            "450be68d089783884cbb0f37e69ae570cac8d393"
        ],
        [
            "rewrite <- H2.",
            "VernacExtend",
            "c204509e5e85cb1396c425732210ff127ac38a7b"
        ],
        [
            "apply H; auto.",
            "VernacExtend",
            "4fad0139824cf3bfe52c76bdec7336aa3652c5f4"
        ],
        [
            "apply List.in_map with (f := fst) in H1.",
            "VernacExtend",
            "4e403faadfd3c5efed27b4d68c7e862111f3fb87"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ]
    ],
    "proofs": [
        {
            "name": "proj_struct_JMeq",
            "line_nb": 13,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply proj_compact_prod_JMeq; auto.",
                        "VernacExtend",
                        "422448ec2fa1f38a9bc5f71da669521e25458c89"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "clear - H H0.",
                        "VernacExtend",
                        "58e1de226be4685579a9469cbd7d2405ded5f7cf"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "pose proof In_field_type _ _ H0 H1.",
                        "VernacExtend",
                        "87101bfe47222f24a18d39d70364b61097c09499"
                    ]
                },
                {
                    "command": [
                        "destruct i as [i t].",
                        "VernacExtend",
                        "ed1a40be464f0509091063908ae6f83e674588de"
                    ]
                },
                {
                    "command": [
                        "simpl fst in H2; simpl snd in H2.",
                        "VernacExtend",
                        "450be68d089783884cbb0f37e69ae570cac8d393"
                    ]
                },
                {
                    "command": [
                        "rewrite <- H2.",
                        "VernacExtend",
                        "c204509e5e85cb1396c425732210ff127ac38a7b"
                    ]
                },
                {
                    "command": [
                        "apply H; auto.",
                        "VernacExtend",
                        "4fad0139824cf3bfe52c76bdec7336aa3652c5f4"
                    ]
                },
                {
                    "command": [
                        "apply List.in_map with (f := fst) in H1.",
                        "VernacExtend",
                        "4e403faadfd3c5efed27b4d68c7e862111f3fb87"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply in_members_field_type; auto.",
                        "VernacExtend",
                        "d08f202b3bf3f32686908375ff59d00c2e5ac773"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "members_union_inj_JMeq",
            "line_nb": 29,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply compact_sum_inj_JMeq; auto.",
                        "VernacExtend",
                        "38fa54924d84a721b23c4a241e1c0edd96af7663"
                    ]
                },
                {
                    "command": [
                        "intros [? ?] ?.",
                        "VernacExtend",
                        "b805715f627160a66fc5f6118469fe246f93116a"
                    ]
                },
                {
                    "command": [
                        "specialize (H i).",
                        "VernacExtend",
                        "127e405bbb638c9528691e836c73b4d438c7a336"
                    ]
                },
                {
                    "command": [
                        "spec H.",
                        "VernacExtend",
                        "c7a045c1cfd9908cdf3626bbe876cad8b9f0c976"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "change i with (fst (i, t)).",
                        "VernacExtend",
                        "0cb121c51eae679f909076910effd1b13322ea37"
                    ]
                },
                {
                    "command": [
                        "apply in_map.",
                        "VernacExtend",
                        "8b1d6650eff402b483dc29bd25bb3e04ea7f525b"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply In_field_type in H2; auto.",
                        "VernacExtend",
                        "2d78098a876f34ab1161ff0ad34f055169be7dd6"
                    ]
                },
                {
                    "command": [
                        "simpl snd in H2.",
                        "VernacExtend",
                        "f5ad687e71968ed85ad1213ce5358e80d4489d88"
                    ]
                },
                {
                    "command": [
                        "rewrite <- H2; simpl fst.",
                        "VernacExtend",
                        "78fa6be2b6ab53fc58420a522f532c3ce5ff4245"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "proj_union_JMeq",
            "line_nb": 45,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply proj_compact_sum_JMeq; auto.",
                        "VernacExtend",
                        "bcc1a53dd866e349e8d8d9dbe6afe410b28d46b1"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "clear - H H0.",
                        "VernacExtend",
                        "58e1de226be4685579a9469cbd7d2405ded5f7cf"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "pose proof In_field_type _ _ H0 H1.",
                        "VernacExtend",
                        "87101bfe47222f24a18d39d70364b61097c09499"
                    ]
                },
                {
                    "command": [
                        "destruct i as [i t].",
                        "VernacExtend",
                        "ed1a40be464f0509091063908ae6f83e674588de"
                    ]
                },
                {
                    "command": [
                        "simpl fst in H2; simpl snd in H2.",
                        "VernacExtend",
                        "450be68d089783884cbb0f37e69ae570cac8d393"
                    ]
                },
                {
                    "command": [
                        "rewrite <- H2.",
                        "VernacExtend",
                        "c204509e5e85cb1396c425732210ff127ac38a7b"
                    ]
                },
                {
                    "command": [
                        "apply H; auto.",
                        "VernacExtend",
                        "4fad0139824cf3bfe52c76bdec7336aa3652c5f4"
                    ]
                },
                {
                    "command": [
                        "apply List.in_map with (f := fst) in H1.",
                        "VernacExtend",
                        "4e403faadfd3c5efed27b4d68c7e862111f3fb87"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}