{
    "filename": "veric/composite_compute.v",
    "coq_project": "VST",
    "vernac_cmds": [
        [
            "Require Import Coq.Sorting.Permutation.",
            "VernacRequire",
            "91cb696adf793d75c8f1c3333c2ab6d7da008e71"
        ],
        [
            "Require Import Coq.Sorting.Sorting.",
            "VernacRequire",
            "827f5de4d2069b37ded3898dbc26d381ac4ceb8c"
        ],
        [
            "Require Import Coq.Structures.Orders.",
            "VernacRequire",
            "3d314ce5a8211f9514cd0d318aca556f0adb5451"
        ],
        [
            "Require Import VST.veric.base.",
            "VernacRequire",
            "44430f3044f6ed3bc31c11a137cd98cdfe01c277"
        ],
        [
            "Require Import compcert.cfrontend.Ctypes.",
            "VernacRequire",
            "7112843117c4021682751b14f43439fd963104b6"
        ],
        [
            "Axiom list_norepet_NoDup: forall {A: Type} (l: list A), list_norepet l <-> NoDup l.",
            "VernacAssumption",
            "ba7b67718b65b1c82ccfd181f4de92bcfac2e3a0"
        ],
        [
            "Lemma PTree_In_fst_elements {A: Type}: forall (T: PTree.t A) i, In i (map fst (PTree.elements T)) <-> exists a, PTree.get i T = Some a.",
            "VernacStartTheoremProof",
            "e2c173d91b5a5ba8798596bc119c7bdb7425d94e"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "split; intros.",
            "VernacExtend",
            "3c0a2af2969d0c39838e9010244dfd28201b7f3e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply list_in_map_inv in H.",
            "VernacExtend",
            "ca70c474fe9a3bdba1c5baa122cbca6557f746a1"
        ],
        [
            "destruct H as [[i0 a] [? ?]].",
            "VernacExtend",
            "37f13e8897aa02595f9df659f358cb6c5cf8d030"
        ],
        [
            "simpl in H; subst i0.",
            "VernacExtend",
            "d4f472b63f77a05d66d3e5cd81bf67c749d70395"
        ],
        [
            "apply PTree.elements_complete in H0.",
            "VernacExtend",
            "d6263aa70240f56ec35a43dfd0789b0db1570c20"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct H as [a ?].",
            "VernacExtend",
            "1c2a2e10fd969970120efc3db29033684bd46ed0"
        ],
        [
            "apply PTree.elements_correct in H.",
            "VernacExtend",
            "8d26d499d1a21947e1e88ac61b2594e32d487d3d"
        ],
        [
            "apply (in_map fst) in H.",
            "VernacExtend",
            "2bba470cc78e94bc24ac0494e9d3525429ff3180"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma PTree_gs {A: Type}: forall (T: PTree.t A) i j x, (exists a, PTree.get i T= Some a) -> exists a, PTree.get i (PTree.set j x T) = Some a.",
            "VernacStartTheoremProof",
            "c5127e5740af5e0d98f116e1c0c70cb4c961295e"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "destruct H.",
            "VernacExtend",
            "8b2bca015429da94c456243b461e17a2a0582c40"
        ],
        [
            "destruct (Pos.eq_dec i j).",
            "VernacExtend",
            "1a29fb3fb768f530e095c8ce38a1166cd3857110"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "rewrite PTree.gss; eauto.",
            "VernacExtend",
            "cf0ec1a664541f5042741ef47db5329d2f4c0b08"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite PTree.gso; eauto.",
            "VernacExtend",
            "1fa75408fc0eac8c8d4a170b78ce8ee6712dc525"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma PTree_gs_equiv {A: Type}: forall (T: PTree.t A) i j x, (exists a, PTree.get i T= Some a) \\/ i = j <-> exists a, PTree.get i (PTree.set j x T) = Some a.",
            "VernacStartTheoremProof",
            "5fc3c3abfa73ebbd32a6503b53ccf237292c8cb0"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "split; intros.",
            "VernacExtend",
            "3c0a2af2969d0c39838e9010244dfd28201b7f3e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct H; [apply PTree_gs; auto |].",
            "VernacExtend",
            "fb5006114681dc513bb63bdff1eafa68158455b9"
        ],
        [
            "subst; rewrite PTree.gss; eauto.",
            "VernacExtend",
            "91ea844454908cc9d390678033a45bea632d3a9a"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (Pos.eq_dec i j); auto.",
            "VernacExtend",
            "d75f490a618451884acf4e204d8405dd749f4bcb"
        ],
        [
            "rewrite PTree.gso in H by auto.",
            "VernacExtend",
            "eee2650942919d9da0f2459d3d6ef2aa48103898"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma PTree_set_In_fst_elements {A: Type}: forall (T: PTree.t A) i i' a', In i (map fst (PTree.elements T)) -> In i (map fst (PTree.elements (PTree.set i' a' T))).",
            "VernacStartTheoremProof",
            "81b74fecfd8e5ddeaec92baa24c183a1ed66366a"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "rewrite PTree_In_fst_elements in H |- *.",
            "VernacExtend",
            "11cf6101dda0f0a9ef48cf75d43eb26269c0df6d"
        ],
        [
            "apply PTree_gs; auto.",
            "VernacExtend",
            "0137753a23038f42d9169772515c5a493013372a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fixpoint relative_defined_type {A: Type} (l: list (ident * A)) (t: type): Prop := match t with | Tarray t' _ _ => relative_defined_type l t' | Tstruct id _ => In id (map fst l) | Tunion id _ => In id (map fst l) | _ => True end.",
            "VernacFixpoint",
            "9ce599e8f8ee0a42f005745023629e8ef354a306"
        ],
        [
            "Lemma relative_defined_type_mono: forall {A B: Type} (l1: list (ident * A)) (l2: list (ident * B)) (t: type), (forall i, In i (map fst l1) -> In i (map fst l2)) -> relative_defined_type l1 t -> relative_defined_type l2 t.",
            "VernacStartTheoremProof",
            "3c7ea738a42290c174814faf49215424864a7642"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "induction t; auto.",
            "VernacExtend",
            "f3a71cbb1d4317191cf94a3dde1e0ae84fc436cb"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "firstorder.",
            "VernacExtend",
            "ceb9f57e98a5f5a73ee421cf30fd2f4f09432d14"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "firstorder.",
            "VernacExtend",
            "ceb9f57e98a5f5a73ee421cf30fd2f4f09432d14"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma relative_defined_type_equiv: forall {A B: Type} (l1: list (ident * A)) (l2: list (ident * B)) (t: type), (forall i, In i (map fst l1) <-> In i (map fst l2)) -> (relative_defined_type l1 t <-> relative_defined_type l2 t).",
            "VernacStartTheoremProof",
            "5e47936acf5b7cee05ffeb9cdedadfc6d2afdb75"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "split; apply relative_defined_type_mono; firstorder.",
            "VernacExtend",
            "0e09bb7a660f1e5f6f891a873a1fa5b719238bb1"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Inductive ordered_composite: list (positive * composite) -> Prop := | ordered_composite_nil: ordered_composite nil | ordered_composite_cons: forall i co l, Forall (relative_defined_type l) (map snd (co_members co)) -> ordered_composite l -> ordered_composite ((i, co) :: l).",
            "VernacInductive",
            "f742898fdba40cf45b460e753baf1a8d6ddc0944"
        ],
        [
            "Module composite_reorder.",
            "VernacDefineModule",
            "f9a236503e524699113eba67ac0be2061960b0f8"
        ],
        [
            "Module CompositeRankOrder <: TotalLeBool.",
            "VernacDefineModule",
            "d53387f378a220fd79e39a4867c126d985e60eea"
        ],
        [
            "Definition t := (positive * composite)%type.",
            "VernacDefinition",
            "8c83aabaaa273aaf670773ac384e567ae79cb112"
        ],
        [
            "Definition leb (x y: t) := Nat.leb (co_rank (snd y)) (co_rank (snd x)).",
            "VernacDefinition",
            "e17a87868f5303b79299582a3549b65f0af139e7"
        ],
        [
            "Theorem leb_total : forall a1 a2, leb a1 a2 = true \\/ leb a2 a1 = true.",
            "VernacStartTheoremProof",
            "b1de225e7d144152cd4e76254e08288a34dad155"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold leb.",
            "VernacExtend",
            "a031f9632fa7f27d9c8c5b51008ba5de99f6fbfd"
        ],
        [
            "rewrite !Nat.leb_le.",
            "VernacExtend",
            "32b95ef905f6262ade0e04d50c6ecaf71d1e31be"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem leb_trans: Transitive (fun x y => is_true (leb x y)).",
            "VernacStartTheoremProof",
            "657d69c7246ebd9aec74e755f00a3422b8016e1b"
        ],
        [
            "hnf; intros; unfold leb, is_true in *.",
            "VernacExtend",
            "712d0f4e7c99ea54e8e67fe33b91d73bd672f000"
        ],
        [
            "rewrite !Nat.leb_le in *.",
            "VernacExtend",
            "1a87ebbd70f7e14647f8592678f71a256c53cad1"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End CompositeRankOrder.",
            "VernacEndSegment",
            "4ccd2e4dc8c604eba7022dd3ecaf0c05e4351569"
        ],
        [
            "Module CompositeRankSort := Sort CompositeRankOrder.",
            "VernacDefineModule",
            "2684bcec58f10d4f3aa3c377d1576ed589a794b3"
        ],
        [
            "Section composite_reorder.",
            "VernacBeginSection",
            "b6a391b478b9cc371d1db772b324e8e8b4b537a5"
        ],
        [
            "Context (cenv: composite_env) (cenv_consistent: composite_env_consistent cenv).",
            "VernacContext",
            "60cd9ec9583d50d31ac9333443951aaea14d30b8"
        ],
        [
            "Definition rebuild_composite_elements := CompositeRankSort.sort (PTree.elements cenv).",
            "VernacDefinition",
            "538df8de4dd925bd524a5633b02ea66d84b7c6c1"
        ],
        [
            "Inductive ordered_and_complete: list (positive * composite) -> Prop := | ordered_and_complete_nil: ordered_and_complete nil | ordered_and_complete_cons: forall i co l, (forall i' co', cenv ! i' = Some co' -> (co_rank co' < co_rank co)%nat -> In (i', co') l) -> ordered_and_complete l -> ordered_and_complete ((i, co) :: l).",
            "VernacInductive",
            "5c8a60c080df3cb325538ad8aef2624e816bb9f8"
        ],
        [
            "Theorem RCT_Permutation: Permutation rebuild_composite_elements (PTree.elements cenv).",
            "VernacStartTheoremProof",
            "e8a5613212a17c8081e2a7244ffaea6089f79d58"
        ],
        [
            "symmetry.",
            "VernacExtend",
            "a08fc0dc04bba893008bded8181f393e2d8db167"
        ],
        [
            "apply CompositeRankSort.Permuted_sort.",
            "VernacExtend",
            "38473fcdb38d70b4654c25aa0798306f6da9f2b4"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma RCT_ordered_and_complete: ordered_and_complete rebuild_composite_elements.",
            "VernacStartTheoremProof",
            "3755fa38ed3218add8678bcfb8add41b6b6c9615"
        ],
        [
            "pose proof RCT_Permutation.",
            "VernacExtend",
            "7bdb3eb85d3be71353596a88e982696a772ec351"
        ],
        [
            "assert (forall i co, cenv ! i = Some co -> In (i, co) rebuild_composite_elements).",
            "VernacExtend",
            "e1687cdaf9ff3f91f4f5e2659917b9529d5ca1c2"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "eapply Permutation_in.",
            "VernacExtend",
            "dc4a5558930ef67dffbe5f407d33b4078b63a8f3"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "symmetry; apply RCT_Permutation.",
            "VernacExtend",
            "affc05743206cb85bb07c9dc3d8c69ccb141408b"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply PTree.elements_correct; auto.",
            "VernacExtend",
            "685218594a9d63e832abf291d06365ac37d4a93c"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "clear H.",
            "VernacExtend",
            "f2c5826643b985ca1b67f3433f38ccbe2735e582"
        ],
        [
            "pose proof CompositeRankSort.StronglySorted_sort (PTree.elements cenv) CompositeRankOrder.leb_trans.",
            "VernacExtend",
            "5403ba1a7dfd9dae36baf8842932ac045c19052b"
        ],
        [
            "pose proof app_nil_l rebuild_composite_elements.",
            "VernacExtend",
            "d39406eab92718a65a78d68381e36a00315a31b8"
        ],
        [
            "unfold rebuild_composite_elements in *.",
            "VernacExtend",
            "25bba388d26d3bc50c1b3d6e6572786096b80554"
        ],
        [
            "set (l := (CompositeRankSort.sort (PTree.elements cenv))) in H1 at 1 |- *.",
            "VernacExtend",
            "fc0a45e856f38eab4743b5b9a2c28f293ccce9df"
        ],
        [
            "revert H1; generalize (@nil (positive * composite)).",
            "VernacExtend",
            "180819855336494e02e41e8488d6bf9927d98203"
        ],
        [
            "clearbody l.",
            "VernacExtend",
            "0aa80066b018b6c90bd7a35b8d868fcce6781aeb"
        ],
        [
            "induction l; intros.",
            "VernacExtend",
            "f3f6b28c6822ad560a06f008ea0a5aa487d0e8e3"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "specialize (IHl (l0 ++ a :: nil)).",
            "VernacExtend",
            "a8001b89e18575e93202eaf5884dc1f48e1619f6"
        ],
        [
            "rewrite <- app_assoc in IHl.",
            "VernacExtend",
            "561fedbe6e076c0b9a377555b37b8a46c66da9d9"
        ],
        [
            "specialize (IHl H1).",
            "VernacExtend",
            "b500d14cfc6e88d9577fedb67a865168a7fc3a13"
        ],
        [
            "destruct a as [i co]; constructor; auto.",
            "VernacExtend",
            "4931852cb0e5dc618498c216dd475177f6a56366"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply H0 in H2.",
            "VernacExtend",
            "d887f7b54fc680f0802cf0c8ef67f7262135c938"
        ],
        [
            "rewrite <- H1 in H2, H.",
            "VernacExtend",
            "dea70d00818fa284076fa0ff8e8e7e085dffef57"
        ],
        [
            "clear - H2 H3 H.",
            "VernacExtend",
            "aed084370ab8d1c88ec834ddbb74f2702f993fe3"
        ],
        [
            "induction l0.",
            "VernacExtend",
            "1b2b4c3240e1b9b9edc85a55e4c7dd6b9d2dca6d"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct H2; auto.",
            "VernacExtend",
            "83ed5549c45bb23ca69f370c66ce4c97a6e5721d"
        ],
        [
            "exfalso; inv H0.",
            "VernacExtend",
            "68ef32288480ee3fb94703b5925d90201985cb01"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inv H.",
            "VernacExtend",
            "711efba707a6a75ce2cd6ff4b80f031c0d63ab98"
        ],
        [
            "destruct H2.",
            "VernacExtend",
            "7d33163a064bad536ec0f601f214b86de6ac5ab6"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "exfalso.",
            "VernacExtend",
            "f6514338e7c49f3c5a647bc69b7154700a8e57f1"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "rewrite Forall_forall in H5.",
            "VernacExtend",
            "42e495c5b92ca131f0fc30d529843b8b6c7205f7"
        ],
        [
            "specialize (H5 (i, co)).",
            "VernacExtend",
            "5617bb8699487b5339bbdde5a67781071057b643"
        ],
        [
            "rewrite in_app in H5.",
            "VernacExtend",
            "96cc2c7441d6c440f917a6031f1eb9cfc443849f"
        ],
        [
            "specialize (H5 (or_intror (or_introl eq_refl))).",
            "VernacExtend",
            "b6ea57af43f3a046de42b5d6e6eb38db6f5d4f24"
        ],
        [
            "unfold is_true in H5.",
            "VernacExtend",
            "4a6fe09fe96b3798dd2b44471ae70fc1ad9b1560"
        ],
        [
            "rewrite Nat.leb_le in H5; simpl in H5.",
            "VernacExtend",
            "2c3b1e0e3c0b53286e475b6ab84a8a65bff0d88d"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "apply IHl0; auto.",
            "VernacExtend",
            "990572f7c2a9a47a4a71aeae27b2320f5ec34879"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem RCT_ordered: ordered_composite rebuild_composite_elements.",
            "VernacStartTheoremProof",
            "dc84fda6b141a809a6c94900402a99ee7d176978"
        ],
        [
            "pose proof RCT_ordered_and_complete.",
            "VernacExtend",
            "35f7554e4dc4d6eadf8233e0bd259a665d74afe1"
        ],
        [
            "assert (forall i co, In (i, co) rebuild_composite_elements -> complete_members cenv (co_members co) = true /\\ co_rank co = rank_members cenv (co_members co)).",
            "VernacExtend",
            "9b014807f1bfe7cced5b26325a47d08430c29fd7"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "eapply Permutation_in in H0; [| exact RCT_Permutation].",
            "VernacExtend",
            "d39170ec30af15d41e2d383e60e4b7733ad64813"
        ],
        [
            "apply PTree.elements_complete in H0; auto.",
            "VernacExtend",
            "943ab9938070ea00ce6798241d86d2e0a08704bd"
        ],
        [
            "split.",
            "VernacExtend",
            "55abc140132bd88981001ac656020469a8d503eb"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply co_consistent_complete.",
            "VernacExtend",
            "996158fa5fb07cf2c03046f934cbbe9ae325e4c1"
        ],
        [
            "eapply cenv_consistent; eauto.",
            "VernacExtend",
            "a6ebecf2312a3bf52d128fd020d236ee2b0d9523"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply co_consistent_rank.",
            "VernacExtend",
            "2027c5acc11a28e641a2179dbf071f3349771828"
        ],
        [
            "eapply cenv_consistent; eauto.",
            "VernacExtend",
            "a6ebecf2312a3bf52d128fd020d236ee2b0d9523"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "induction H.",
            "VernacExtend",
            "f8e74d6b42ecd6b509e6a20cee53bb69d051cd07"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "specialize (IHordered_and_complete (fun i co HH => H0 i co (or_intror HH))).",
            "VernacExtend",
            "584169ffbac671649e4e5bba0c88ef40faa27ee7"
        ],
        [
            "constructor; auto.",
            "VernacExtend",
            "686f227fe0f57af60032eb35216aef1e62d0c0e5"
        ],
        [
            "clear IHordered_and_complete H1.",
            "VernacExtend",
            "17ca7eb439455918c0609349ad4be6f48195202a"
        ],
        [
            "specialize (H0 _ _ (or_introl eq_refl)).",
            "VernacExtend",
            "013c49c10caeb2c2ae0e7e554a5fac6f2a806eea"
        ],
        [
            "assert (rank_members cenv (co_members co) <= co_rank co)%nat by omega.",
            "VernacExtend",
            "a14e8d22688ad0988ab75523d4694b8205d06e32"
        ],
        [
            "destruct H0 as [? _].",
            "VernacExtend",
            "1e578e84e7a531f32f36c087bbd511d26e131ff7"
        ],
        [
            "induction (co_members co) as [| [i0 t0] ?].",
            "VernacExtend",
            "a783c5376ca4c0a2cde94ba5e111ae010bc3380d"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "simpl in H0; rewrite andb_true_iff in H0; destruct H0.",
            "VernacExtend",
            "ec8c682eca06898a639ea1a22cd7e7d3ad1a8c52"
        ],
        [
            "simpl in H1; pose proof Max.max_lub_r _ _ _ H1.",
            "VernacExtend",
            "0cfa7c7d3895ef91c11d474956ef44f1c703c06d"
        ],
        [
            "apply Max.max_lub_l in H1.",
            "VernacExtend",
            "aaaeed1b268eab7be65ab2253781310d71084890"
        ],
        [
            "constructor; auto; clear IHm H2 H3.",
            "VernacExtend",
            "34caeea569c332cd147889ae3ff28c1e3db87bd0"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "induction t0; try solve [simpl; auto].",
            "VernacExtend",
            "b3d0e175160e279f541cd76c48840ef4054559f7"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "spec IHt0; auto.",
            "VernacExtend",
            "783675278544b463ac8b568be197040e26fac9c2"
        ],
        [
            "spec IHt0; [simpl in H1; omega |].",
            "VernacExtend",
            "66bbc8a9a57ae202f7139ae5d8e0d1fb93ca91ba"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "simpl in H0, H1 |- *.",
            "VernacExtend",
            "92caf4ca067d3aad8906e7a79af77acba3301e40"
        ],
        [
            "destruct (cenv ! i1) eqn:?H; [| inv H0].",
            "VernacExtend",
            "e89007e361eb7e3cdce6c8ce1e9a659ac600b9f5"
        ],
        [
            "specialize (H _ _ H2).",
            "VernacExtend",
            "13af501273bcceaa40743ebc8dc98765676febd3"
        ],
        [
            "spec H; [omega |].",
            "VernacExtend",
            "3b6530c84a66e5ef96b1a7c49acc4f5300648d9e"
        ],
        [
            "apply (in_map fst) in H; auto.",
            "VernacExtend",
            "705af64d79fe93a235009c9142db8e510778e4d5"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "simpl in H0, H1 |- *.",
            "VernacExtend",
            "92caf4ca067d3aad8906e7a79af77acba3301e40"
        ],
        [
            "destruct (cenv ! i1) eqn:?H; [| inv H0].",
            "VernacExtend",
            "e89007e361eb7e3cdce6c8ce1e9a659ac600b9f5"
        ],
        [
            "specialize (H _ _ H2).",
            "VernacExtend",
            "13af501273bcceaa40743ebc8dc98765676febd3"
        ],
        [
            "spec H; [omega |].",
            "VernacExtend",
            "3b6530c84a66e5ef96b1a7c49acc4f5300648d9e"
        ],
        [
            "apply (in_map fst) in H; auto.",
            "VernacExtend",
            "705af64d79fe93a235009c9142db8e510778e4d5"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End composite_reorder.",
            "VernacEndSegment",
            "918e2b36a78f167007a6f1a9d2bac951da4611d8"
        ],
        [
            "End composite_reorder.",
            "VernacEndSegment",
            "918e2b36a78f167007a6f1a9d2bac951da4611d8"
        ],
        [
            "Module type_func.",
            "VernacDefineModule",
            "6992fed2a2b742ecd75c1e52f5959a7c18a0ce32"
        ],
        [
            "Section type_func.",
            "VernacBeginSection",
            "13683b1cebd8474618908d437d134718c1409464"
        ],
        [
            "Context {A: Type} (f_default: type -> A) (f_array: A -> type -> Z -> attr -> A) (f_struct: A -> ident -> attr -> A) (f_union: A -> ident -> attr -> A) (f_member: struct_or_union -> list (ident * type * A) -> A).",
            "VernacContext",
            "2e9b0873ad579f9f8d7788eb74f1fce92223e3e7"
        ],
        [
            "Fixpoint F (env: PTree.t A) (t: type): A := match t with | Tarray t n a => f_array (F env t) t n a | Tstruct id a => match env ! id with | Some v => f_struct v id a | None => f_default t end | Tunion id a => match env ! id with | Some v => f_union v id a | None => f_default t end | _ => f_default t end.",
            "VernacFixpoint",
            "85b0db8371eb639c67e5225cf7b83afd5ccd9b00"
        ],
        [
            "Definition Complete (cenv: composite_env) (env: PTree.t A): Prop := forall i, (exists co, PTree.get i cenv = Some co) <-> (exists a, PTree.get i env = Some a).",
            "VernacDefinition",
            "2cd04d56556c73995ab41fb6c4df459e35e0323a"
        ],
        [
            "Definition Consistent (cenv: composite_env) (env: PTree.t A): Prop := forall i co a, PTree.get i cenv = Some co -> PTree.get i env = Some a -> a = f_member (co_su co) (map (fun it0: positive * type => let (i0, t0) := it0 in (i0, t0, F env t0)) (co_members co)).",
            "VernacDefinition",
            "c6b73dd21166a6f806ddfdd89ef915d9c4289ae1"
        ],
        [
            "Definition env_rec (i: positive) (co: composite) (env: PTree.t A): PTree.t A := PTree.set i (f_member (co_su co) (map (fun it0: positive * type => let (i0, t0) := it0 in (i0, t0, F env t0)) (co_members co))) env.",
            "VernacDefinition",
            "ef071d98c417b927074048df2237ad86c980b4d7"
        ],
        [
            "Definition Env (l: list (positive * composite)): PTree.t A := fold_right (fun (ic: positive * composite) => let (i, co) := ic in env_rec i co) (PTree.empty A) l.",
            "VernacDefinition",
            "776353afa308e0b44479d7632e70c214ae805394"
        ],
        [
            "Lemma F_PTree_set: forall t env i a, ~ In i (map fst (PTree.elements env)) -> relative_defined_type (PTree.elements env) t -> F env t = F (PTree.set i a env) t.",
            "VernacStartTheoremProof",
            "6b566ab5b45a235272d505162a7a2a8fb0242bb7"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "induction t; auto.",
            "VernacExtend",
            "f3a71cbb1d4317191cf94a3dde1e0ae84fc436cb"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "apply IHt in H0.",
            "VernacExtend",
            "225de53c60b70fd81e77afb783e149c1d1af86d9"
        ],
        [
            "rewrite H0; auto.",
            "VernacExtend",
            "48df2b0b453adadcea8e6914bccb68bfc33b286b"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in H0 |- *.",
            "VernacExtend",
            "53dfb12d29da9115f22ff2e19bd6e71b0d980d9b"
        ],
        [
            "rewrite PTree.gso; auto.",
            "VernacExtend",
            "63a9bc52270c656dbc7d2efe43bb711a7ed93e4e"
        ],
        [
            "intro; subst; tauto.",
            "VernacExtend",
            "cf2aeffb6ea104f4a3e2dd5d72c6ba7434be6858"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in H0 |- *.",
            "VernacExtend",
            "53dfb12d29da9115f22ff2e19bd6e71b0d980d9b"
        ],
        [
            "rewrite PTree.gso; auto.",
            "VernacExtend",
            "63a9bc52270c656dbc7d2efe43bb711a7ed93e4e"
        ],
        [
            "intro; subst; tauto.",
            "VernacExtend",
            "cf2aeffb6ea104f4a3e2dd5d72c6ba7434be6858"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma relative_defined_type_PTree_set: forall t (env: PTree.t A) i a, relative_defined_type (PTree.elements env) t -> relative_defined_type (PTree.elements (PTree.set i a env)) t.",
            "VernacStartTheoremProof",
            "a4e2182f72cf885bed2bce88f52a99810a8bf3a9"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "revert H; apply relative_defined_type_mono.",
            "VernacExtend",
            "980187808e1202b0288004d2390ea9e5907648ac"
        ],
        [
            "intros; apply PTree_set_In_fst_elements; auto.",
            "VernacExtend",
            "c718d0f0a7a5938cbeda219a8e82cf50f759fa26"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Section Consistency_Induction_Step.",
            "VernacBeginSection",
            "194df5ca308862d2c413d299038e39e63838063c"
        ],
        [
            "Context (cenv: composite_env) (env: PTree.t A) (l: list (positive * composite)) (i0: positive) (co0: composite).",
            "VernacContext",
            "23ac7b6c1502bffeb0983b894facabbbdef7e067"
        ],
        [
            "Hypothesis NOT_IN_LIST: ~ In i0 (map fst l).",
            "VernacAssumption",
            "e35a71f04d0650ecf9214a29debc03027212ab69"
        ],
        [
            "Hypothesis RDT_list: Forall (relative_defined_type l) (map snd (co_members co0)).",
            "VernacAssumption",
            "753a53b7883c032a1d911e4a8a8418377733945d"
        ],
        [
            "Hypothesis CENV0: PTree.get i0 cenv = Some co0.",
            "VernacAssumption",
            "a36883f4c8096dfdbea9331e002c07ad617c41ef"
        ],
        [
            "Hypothesis IH_In_equiv: forall i, In i (map fst l) <-> In i (map fst (PTree.elements env)).",
            "VernacAssumption",
            "b9882b471d9f94203fb02b09229bd6b74b8cc4cb"
        ],
        [
            "Hypothesis IH_RDT: forall i co a, PTree.get i cenv = Some co -> PTree.get i env = Some a -> Forall (relative_defined_type (PTree.elements env)) (map snd (co_members co)).",
            "VernacAssumption",
            "2f8c1c60060fd94a6a4aed39c00654ab00849ee9"
        ],
        [
            "Hypothesis IH_main: Consistent cenv env.",
            "VernacAssumption",
            "7a7631f4ae3f56e6165a933d61e0d048085d37fa"
        ],
        [
            "Lemma NOT_IN: ~ In i0 (map fst (PTree.elements env)).",
            "VernacStartTheoremProof",
            "2bceddd5e91a2feadd832f7c0b0484ebe6562e15"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "rewrite <- IH_In_equiv; auto.",
            "VernacExtend",
            "0896b86232bab9c488683877031c7011f5aa4844"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma RDT_PTree: Forall (relative_defined_type (PTree.elements env)) (map snd (co_members co0)).",
            "VernacStartTheoremProof",
            "2af41ef2c3c26eb37943d228435ecfdb8db0c6aa"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "revert RDT_list; apply Forall_impl.",
            "VernacExtend",
            "3f6075c8f2cf3ffb35d364560304a4a0b661e198"
        ],
        [
            "intros t.",
            "VernacExtend",
            "3c4fe6f257739f9d979bf15fca5e899c1914c76d"
        ],
        [
            "apply relative_defined_type_mono.",
            "VernacExtend",
            "b94ff6f178c11348811fe07cfff998b0e1acc3eb"
        ],
        [
            "firstorder.",
            "VernacExtend",
            "ceb9f57e98a5f5a73ee421cf30fd2f4f09432d14"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma establish_In_equiv: forall i, In i (map fst ((i0, co0) :: l)) <-> In i (map fst (PTree.elements (env_rec i0 co0 env))).",
            "VernacStartTheoremProof",
            "923eaf50eb01ca93792abbfde341d40a7bce73e5"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "specialize (IH_In_equiv i).",
            "VernacExtend",
            "72b31c5c640b5d8b4eff676fb9e9d105a1a3a7d2"
        ],
        [
            "rewrite PTree_In_fst_elements in IH_In_equiv |- *.",
            "VernacExtend",
            "db252e91a433b988c4047154db33fb8dc1264ef6"
        ],
        [
            "unfold env_rec.",
            "VernacExtend",
            "bb121949741e8478dfa7cfccfb36e7af07812aa7"
        ],
        [
            "rewrite <- PTree_gs_equiv.",
            "VernacExtend",
            "8b04c8a2a55d9d2328495b5e0eaffa4c49f4fedc"
        ],
        [
            "simpl In.",
            "VernacExtend",
            "d758f9b5c423df2cd31bf3f3579e5998e9ae2935"
        ],
        [
            "assert (i0 = i <-> i = i0) by (split; intros; congruence).",
            "VernacExtend",
            "099c615777259285e02f88c9b0cc0c5dd025961d"
        ],
        [
            "tauto.",
            "VernacExtend",
            "9bfafe84fb6724789bdf6cfd21cd721dd63fdabd"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma establish_RDT: forall i co a, PTree.get i cenv = Some co -> PTree.get i (env_rec i0 co0 env) = Some a -> Forall (relative_defined_type (PTree.elements (env_rec i0 co0 env))) (map snd (co_members co)).",
            "VernacStartTheoremProof",
            "39383ed3f78577abaa328c28548fade5c80c458a"
        ],
        [
            "pose proof RDT_PTree as RDT_PTree.",
            "VernacExtend",
            "76899f164c5a8cdfa2babce2f41d5b7ca96269ce"
        ],
        [
            "intros i co a CENV ENV.",
            "VernacExtend",
            "f27097e1e43959fd15ed911bd636b83e0aa2f8eb"
        ],
        [
            "unfold env_rec in ENV.",
            "VernacExtend",
            "c2c14a6492713effe03460993fa240de466f0e76"
        ],
        [
            "destruct (Pos.eq_dec i i0).",
            "VernacExtend",
            "65f747a80cb4002dc7e2d2bd9577fb08c6f8a4fd"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "subst i0; rewrite CENV in CENV0; inversion CENV0; subst co0; clear CENV0.",
            "VernacExtend",
            "16a4ef10e13ec48f313855f02c1d5165cb2089eb"
        ],
        [
            "rewrite PTree.gss in ENV.",
            "VernacExtend",
            "f19acf590998a63673e086ac85bef051274226f1"
        ],
        [
            "inversion ENV; clear a ENV H0.",
            "VernacExtend",
            "6979e9e40322d89b74b9ba20777addb54457e134"
        ],
        [
            "revert RDT_PTree.",
            "VernacExtend",
            "3b9d4d59233017132e093c520a606b80d0873d39"
        ],
        [
            "apply Forall_impl; intros t.",
            "VernacExtend",
            "ba474e32db8379b0e8bf0809295b3b301c0a49e7"
        ],
        [
            "apply relative_defined_type_PTree_set.",
            "VernacExtend",
            "f9d3412efc214460150e85a3b2810d79052e4394"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite PTree.gso in ENV by auto.",
            "VernacExtend",
            "04301f92b2b0f75899acdd27f899e91c27c3ed0c"
        ],
        [
            "specialize (IH_RDT _ _ _ CENV ENV).",
            "VernacExtend",
            "679d91500dd31a8919b7f2c983170d010e591e12"
        ],
        [
            "revert IH_RDT.",
            "VernacExtend",
            "57dc26e2b58328c98c565e56ae7810536520f05a"
        ],
        [
            "apply Forall_impl; intros t.",
            "VernacExtend",
            "ba474e32db8379b0e8bf0809295b3b301c0a49e7"
        ],
        [
            "apply relative_defined_type_PTree_set.",
            "VernacExtend",
            "f9d3412efc214460150e85a3b2810d79052e4394"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma establish_main: Consistent cenv (env_rec i0 co0 env).",
            "VernacStartTheoremProof",
            "4fd0e3c5f5fac2d3e6950c0fcfb2790fcbd50a85"
        ],
        [
            "pose proof NOT_IN as NOT_IN.",
            "VernacExtend",
            "dced8064018907ff7aeb613fd5ac33b93e92cded"
        ],
        [
            "pose proof RDT_PTree as RDT_PTree.",
            "VernacExtend",
            "76899f164c5a8cdfa2babce2f41d5b7ca96269ce"
        ],
        [
            "intros i co a CENV ENV.",
            "VernacExtend",
            "f27097e1e43959fd15ed911bd636b83e0aa2f8eb"
        ],
        [
            "unfold env_rec in ENV.",
            "VernacExtend",
            "c2c14a6492713effe03460993fa240de466f0e76"
        ],
        [
            "destruct (Pos.eq_dec i i0).",
            "VernacExtend",
            "65f747a80cb4002dc7e2d2bd9577fb08c6f8a4fd"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "subst i0; rewrite CENV in CENV0; inversion CENV0; subst co0; clear CENV0.",
            "VernacExtend",
            "16a4ef10e13ec48f313855f02c1d5165cb2089eb"
        ],
        [
            "rewrite PTree.gss in ENV.",
            "VernacExtend",
            "f19acf590998a63673e086ac85bef051274226f1"
        ],
        [
            "inversion ENV; clear a ENV H0.",
            "VernacExtend",
            "6979e9e40322d89b74b9ba20777addb54457e134"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "apply map_ext_in.",
            "VernacExtend",
            "b7bdc11592344de1bd61785a34d0d70b5a9677d5"
        ],
        [
            "intros (i1, t1) ?.",
            "VernacExtend",
            "87d053a3a9af5e28101bae639b5a1c0ed61aeeab"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "apply F_PTree_set; auto.",
            "VernacExtend",
            "1123896657a664c0a8ea77563372fb6ab73c7d79"
        ],
        [
            "rewrite Forall_forall in RDT_PTree; apply RDT_PTree.",
            "VernacExtend",
            "0cddf9619b8274d076618d4201eb3f2f8b09585b"
        ],
        [
            "apply (in_map snd) in H; auto.",
            "VernacExtend",
            "1dd10a683fb482e3a367171de4562b2840f88bf1"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite PTree.gso in ENV by auto.",
            "VernacExtend",
            "04301f92b2b0f75899acdd27f899e91c27c3ed0c"
        ],
        [
            "specialize (IH_main _ _ _ CENV ENV).",
            "VernacExtend",
            "ae134f9e75f076a07c83aec7082d42501f57efad"
        ],
        [
            "subst a.",
            "VernacExtend",
            "d7670e5f9c196bd417b16b29da3532f33d34884d"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "apply map_ext_in.",
            "VernacExtend",
            "b7bdc11592344de1bd61785a34d0d70b5a9677d5"
        ],
        [
            "intros (i1, t1) ?.",
            "VernacExtend",
            "87d053a3a9af5e28101bae639b5a1c0ed61aeeab"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "apply F_PTree_set; auto.",
            "VernacExtend",
            "1123896657a664c0a8ea77563372fb6ab73c7d79"
        ],
        [
            "specialize (IH_RDT _ _ _ CENV ENV).",
            "VernacExtend",
            "679d91500dd31a8919b7f2c983170d010e591e12"
        ],
        [
            "rewrite Forall_forall in IH_RDT; apply IH_RDT.",
            "VernacExtend",
            "ec9c90c634d01c07c5b4931059278c1d418bfd91"
        ],
        [
            "apply (in_map snd) in H; auto.",
            "VernacExtend",
            "1dd10a683fb482e3a367171de4562b2840f88bf1"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End Consistency_Induction_Step.",
            "VernacEndSegment",
            "9fd8c04faecf4b118a562e3c57d94fd0d9a3d638"
        ],
        [
            "Lemma Consistency: forall cenv l, Permutation l (PTree.elements cenv) -> ordered_composite l -> Consistent cenv (Env l).",
            "VernacStartTheoremProof",
            "240238a7a9d8c24427d4b017f332d8137bd3c0c4"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "assert (forall i co, In (i, co) l -> PTree.get i cenv = Some co).",
            "VernacExtend",
            "f0bdcb693e7c0c746bb62de1841d85b6b63a8c71"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply PTree.elements_complete.",
            "VernacExtend",
            "50b7c3921a305e7c9bd7a5c05d2beb4fafa95811"
        ],
        [
            "eapply Permutation_in; eauto.",
            "VernacExtend",
            "9fdcb0f750a08e8b856d88a92bebe26374a7f254"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "assert (NoDup (map fst l)).",
            "VernacExtend",
            "a02509294863bcca549e17b32bb64bf406b1cbff"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "eapply Permutation_NoDup; [symmetry; apply Permutation_map; eassumption |].",
            "VernacExtend",
            "acd8c1a4a2fbb0382e88f0d84d131c40c63594de"
        ],
        [
            "rewrite <- list_norepet_NoDup.",
            "VernacExtend",
            "9895968034e8901ebad69a2f53d49aaf13259ba9"
        ],
        [
            "apply PTree.elements_keys_norepet.",
            "VernacExtend",
            "0673b474cdfec171390443dc0e56c61bfbd49d0d"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "clear H.",
            "VernacExtend",
            "f2c5826643b985ca1b67f3433f38ccbe2735e582"
        ],
        [
            "assert ( (forall i, In i (map fst l) <-> In i (map fst (PTree.elements (Env l)))) /\\ (forall i co a, PTree.get i cenv = Some co -> PTree.get i (Env l) = Some a -> Forall (relative_defined_type (PTree.elements (Env l))) (map snd (co_members co))) /\\ Consistent cenv (Env l)); [| tauto].",
            "VernacExtend",
            "7b8e35e1006c86302159bbd5e098e09d372a47b8"
        ],
        [
            "induction l as [| [i0 co0] l].",
            "VernacExtend",
            "cb71c6d79aad29025372f425de9036b1c853cb12"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "split; [| split]; hnf; intros.",
            "VernacExtend",
            "9eb0b5dc04061bac0ad183ae77fe993c1969c5e1"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "simpl; tauto.",
            "VernacExtend",
            "2c27d7b56602355c3ed4605e551cd6a88509ac37"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold Env in H3; simpl in H3.",
            "VernacExtend",
            "8d82be8851e284548790543e9cd846440a3c7ab2"
        ],
        [
            "rewrite PTree.gempty in H3; inv H3.",
            "VernacExtend",
            "55e3d1426dcd4c8edbbfc749d5aaf181c007de6b"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold Env in H3; simpl in H3.",
            "VernacExtend",
            "8d82be8851e284548790543e9cd846440a3c7ab2"
        ],
        [
            "rewrite PTree.gempty in H3; inv H3.",
            "VernacExtend",
            "55e3d1426dcd4c8edbbfc749d5aaf181c007de6b"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "inv H0.",
            "VernacExtend",
            "52c34ef20c88d5292e2350aff94f149a3968b772"
        ],
        [
            "rename H4 into RDT_list; specialize (IHl H6); clear H6.",
            "VernacExtend",
            "a20daf59f47e54145500fe3294124b1bb2dd531a"
        ],
        [
            "assert (CENV0: PTree.get i0 cenv = Some co0).",
            "VernacExtend",
            "e1f5001a6969b11066703a6e0dc933532ea50c2f"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "apply H1; left; auto.",
            "VernacExtend",
            "dc6f882de0ff2f232de65f2c8a3d9be7068b12c0"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "spec IHl; [| clear H1].",
            "VernacExtend",
            "9b7619893f68fde108cf8f3388d2626c203fff2c"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intros; apply H1; right; auto.",
            "VernacExtend",
            "96b525faaa49d6f3a34472a0476bb65ea70c4d58"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "inv H2.",
            "VernacExtend",
            "6144021562e950304ba8e947fdc2423691182458"
        ],
        [
            "rename H1 into NOT_IN_LIST; specialize (IHl H3); clear H3.",
            "VernacExtend",
            "01944c1e7aad9d7503458ea8a9206bf40a1804b0"
        ],
        [
            "destruct IHl as [IH_In_equiv [IH_RDT IH_main]].",
            "VernacExtend",
            "1bdc287e4127222764a5bbfae231bdfd733b0c91"
        ],
        [
            "split; [| split].",
            "VernacExtend",
            "d2f933e98f73ab8a5c6be2969adff348cdfe06d5"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply establish_In_equiv; auto.",
            "VernacExtend",
            "0d6f4863a684ffb6bab950dea428ce13f1539b31"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply establish_RDT; eauto.",
            "VernacExtend",
            "308d6483a27187351b98f27401f60033cb29000e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply establish_main; eauto.",
            "VernacExtend",
            "976345304305dd6d8d9eddd2d964dfe47730d139"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma Completeness: forall cenv l, Permutation l (PTree.elements cenv) -> Complete cenv (Env l).",
            "VernacStartTheoremProof",
            "7c2549c61432b798030c152214668886ecc225e2"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "intro.",
            "VernacExtend",
            "3999be354c758ba0d1866e0fcc78a7288779a224"
        ],
        [
            "rewrite <- !PTree_In_fst_elements.",
            "VernacExtend",
            "4b285ced25ad817c806e9e2964f291a8b256aba8"
        ],
        [
            "pose proof PTree.elements_keys_norepet cenv.",
            "VernacExtend",
            "9449aea8b26f13741876cfc7ebf51a9ae498b3d9"
        ],
        [
            "rewrite list_norepet_NoDup in H0.",
            "VernacExtend",
            "fe6a91022c2c4efb8a8d8e132c90e965856d9211"
        ],
        [
            "rewrite <- H in H0 |- *; clear H.",
            "VernacExtend",
            "2b5b2edbfc346ca5791037aa71d52bbb5b9caed2"
        ],
        [
            "induction l.",
            "VernacExtend",
            "1194af70832939708f8c7fde2f18f81c37b97a0c"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl; tauto.",
            "VernacExtend",
            "2c27d7b56602355c3ed4605e551cd6a88509ac37"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct a as [i0 co0].",
            "VernacExtend",
            "dd95397ef4ea2b4cc5af3f53e2ad6d8333d769d9"
        ],
        [
            "inv H0.",
            "VernacExtend",
            "52c34ef20c88d5292e2350aff94f149a3968b772"
        ],
        [
            "specialize (IHl H3).",
            "VernacExtend",
            "69f2717d13d55d0c081f600de07177be3c8b8028"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "unfold env_rec.",
            "VernacExtend",
            "bb121949741e8478dfa7cfccfb36e7af07812aa7"
        ],
        [
            "rewrite PTree_In_fst_elements, <- PTree_gs_equiv, <- PTree_In_fst_elements.",
            "VernacExtend",
            "b911dc0a6f7cdb931a6739e3f1580d936096315a"
        ],
        [
            "assert (i = i0 <-> i0 = i) by (split; intros; congruence).",
            "VernacExtend",
            "6a28063cb24d0dda2adba47b5368b0c23839cfd5"
        ],
        [
            "tauto.",
            "VernacExtend",
            "9bfafe84fb6724789bdf6cfd21cd721dd63fdabd"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End type_func.",
            "VernacEndSegment",
            "c60faa9b644db303ad2a293d752bc29e36b38766"
        ],
        [
            "End type_func.",
            "VernacEndSegment",
            "c60faa9b644db303ad2a293d752bc29e36b38766"
        ],
        [
            "Corollary composite_reorder_consistent {A: Type}: forall cenv f_default f_array f_struct f_union f_members, composite_env_consistent cenv -> type_func.Consistent f_default f_array f_struct f_union f_members cenv (@type_func.Env A f_default f_array f_struct f_union f_members (composite_reorder.rebuild_composite_elements cenv)).",
            "VernacStartTheoremProof",
            "1b6a4733ebcfb75390f7478601cd9ca20ddd588c"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply type_func.Consistency.",
            "VernacExtend",
            "b0ec6007dcd97ca8ddca8947375a6de67a674624"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply composite_reorder.RCT_Permutation.",
            "VernacExtend",
            "b8d38347748434122f42c57601479dc19ef48f2d"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply composite_reorder.RCT_ordered; auto.",
            "VernacExtend",
            "ea2f2c83ab15d27d4611d262100a5261e9542b47"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Corollary composite_reorder_complete {A: Type}: forall cenv f_default f_array f_struct f_union f_members, type_func.Complete cenv (@type_func.Env A f_default f_array f_struct f_union f_members (composite_reorder.rebuild_composite_elements cenv)).",
            "VernacStartTheoremProof",
            "418b78b177c0490b0f493193a79fb7238f0b6859"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply type_func.Completeness.",
            "VernacExtend",
            "4ec8dd9d2e294d371e0a445b43ff8e74dd03db00"
        ],
        [
            "apply composite_reorder.RCT_Permutation.",
            "VernacExtend",
            "b8d38347748434122f42c57601479dc19ef48f2d"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Section cuof.",
            "VernacBeginSection",
            "46f4a8f652b464a13822b13385d41e3e7e25496a"
        ],
        [
            "Context (cenv: composite_env).",
            "VernacContext",
            "17675fcbff1a4b6b07d0e154ffd74ea6d6e48295"
        ],
        [
            "Fixpoint complete_legal_cosu_type t := match t with | Tarray t' _ _ => complete_legal_cosu_type t' | Tstruct id _ => match cenv ! id with | Some co => match co_su co with | Struct => true | Union => false end | _ => false end | Tunion id _ => match cenv ! id with | Some co => match co_su co with | Struct => false | Union => true end | _ => false end | Tfunction _ _ _ | Tvoid => false | _ => true end.",
            "VernacFixpoint",
            "c54aa57a71b9a370157494347b54dac5bcce5f51"
        ],
        [
            "Fixpoint composite_complete_legal_cosu_type (m: members): bool := match m with | nil => true | (_, t) :: m' => complete_legal_cosu_type t && composite_complete_legal_cosu_type m' end.",
            "VernacFixpoint",
            "a4d6563a761d705ab4bf5908906859dae2a1775f"
        ],
        [
            "Definition composite_env_complete_legal_cosu_type: Prop := forall (id : positive) (co : composite), cenv ! id = Some co -> composite_complete_legal_cosu_type (co_members co) = true.",
            "VernacDefinition",
            "ce73c9a832ccf238e446abf208d07d07556d3904"
        ],
        [
            "End cuof.",
            "VernacEndSegment",
            "c4454f490025042803476d1e9a213d9d785f1a23"
        ],
        [
            "Lemma complete_legal_cosu_type_complete_type: forall cenv: composite_env, forall t, complete_legal_cosu_type cenv t = true -> complete_type cenv t = true.",
            "VernacStartTheoremProof",
            "ce84a33fa6def602baa04677ffb54107d621d75b"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "induction t; auto.",
            "VernacExtend",
            "f3a71cbb1d4317191cf94a3dde1e0ae84fc436cb"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "destruct (cenv ! i); auto.",
            "VernacExtend",
            "e754eb30d3d5795ca3714af9d2257921e6c8bbd7"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "destruct (cenv ! i); auto.",
            "VernacExtend",
            "e754eb30d3d5795ca3714af9d2257921e6c8bbd7"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ]
    ],
    "proofs": [
        {
            "name": "PTree_In_fst_elements",
            "line_nb": 6,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "split; intros.",
                        "VernacExtend",
                        "3c0a2af2969d0c39838e9010244dfd28201b7f3e"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply list_in_map_inv in H.",
                        "VernacExtend",
                        "ca70c474fe9a3bdba1c5baa122cbca6557f746a1"
                    ]
                },
                {
                    "command": [
                        "destruct H as [[i0 a] [? ?]].",
                        "VernacExtend",
                        "37f13e8897aa02595f9df659f358cb6c5cf8d030"
                    ]
                },
                {
                    "command": [
                        "simpl in H; subst i0.",
                        "VernacExtend",
                        "d4f472b63f77a05d66d3e5cd81bf67c749d70395"
                    ]
                },
                {
                    "command": [
                        "apply PTree.elements_complete in H0.",
                        "VernacExtend",
                        "d6263aa70240f56ec35a43dfd0789b0db1570c20"
                    ]
                },
                {
                    "command": [
                        "eauto.",
                        "VernacExtend",
                        "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct H as [a ?].",
                        "VernacExtend",
                        "1c2a2e10fd969970120efc3db29033684bd46ed0"
                    ]
                },
                {
                    "command": [
                        "apply PTree.elements_correct in H.",
                        "VernacExtend",
                        "8d26d499d1a21947e1e88ac61b2594e32d487d3d"
                    ]
                },
                {
                    "command": [
                        "apply (in_map fst) in H.",
                        "VernacExtend",
                        "2bba470cc78e94bc24ac0494e9d3525429ff3180"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "PTree_gs",
            "line_nb": 21,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "destruct H.",
                        "VernacExtend",
                        "8b2bca015429da94c456243b461e17a2a0582c40"
                    ]
                },
                {
                    "command": [
                        "destruct (Pos.eq_dec i j).",
                        "VernacExtend",
                        "1a29fb3fb768f530e095c8ce38a1166cd3857110"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "subst.",
                        "VernacExtend",
                        "ccc9cb848804101be22a0bb6c324861981c5c7f1"
                    ]
                },
                {
                    "command": [
                        "rewrite PTree.gss; eauto.",
                        "VernacExtend",
                        "cf0ec1a664541f5042741ef47db5329d2f4c0b08"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite PTree.gso; eauto.",
                        "VernacExtend",
                        "1fa75408fc0eac8c8d4a170b78ce8ee6712dc525"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "PTree_gs_equiv",
            "line_nb": 31,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "split; intros.",
                        "VernacExtend",
                        "3c0a2af2969d0c39838e9010244dfd28201b7f3e"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct H; [apply PTree_gs; auto |].",
                        "VernacExtend",
                        "fb5006114681dc513bb63bdff1eafa68158455b9"
                    ]
                },
                {
                    "command": [
                        "subst; rewrite PTree.gss; eauto.",
                        "VernacExtend",
                        "91ea844454908cc9d390678033a45bea632d3a9a"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct (Pos.eq_dec i j); auto.",
                        "VernacExtend",
                        "d75f490a618451884acf4e204d8405dd749f4bcb"
                    ]
                },
                {
                    "command": [
                        "rewrite PTree.gso in H by auto.",
                        "VernacExtend",
                        "eee2650942919d9da0f2459d3d6ef2aa48103898"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "PTree_set_In_fst_elements",
            "line_nb": 42,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "rewrite PTree_In_fst_elements in H |- *.",
                        "VernacExtend",
                        "11cf6101dda0f0a9ef48cf75d43eb26269c0df6d"
                    ]
                },
                {
                    "command": [
                        "apply PTree_gs; auto.",
                        "VernacExtend",
                        "0137753a23038f42d9169772515c5a493013372a"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "relative_defined_type_mono",
            "line_nb": 48,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "induction t; auto.",
                        "VernacExtend",
                        "f3a71cbb1d4317191cf94a3dde1e0ae84fc436cb"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "firstorder.",
                        "VernacExtend",
                        "ceb9f57e98a5f5a73ee421cf30fd2f4f09432d14"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "firstorder.",
                        "VernacExtend",
                        "ceb9f57e98a5f5a73ee421cf30fd2f4f09432d14"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "relative_defined_type_equiv",
            "line_nb": 58,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "split; apply relative_defined_type_mono; firstorder.",
                        "VernacExtend",
                        "0e09bb7a660f1e5f6f891a873a1fa5b719238bb1"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "leb_total",
            "line_nb": 67,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold leb.",
                        "VernacExtend",
                        "a031f9632fa7f27d9c8c5b51008ba5de99f6fbfd"
                    ]
                },
                {
                    "command": [
                        "rewrite !Nat.leb_le.",
                        "VernacExtend",
                        "32b95ef905f6262ade0e04d50c6ecaf71d1e31be"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "leb_trans",
            "line_nb": 73,
            "steps": [
                {
                    "command": [
                        "hnf; intros; unfold leb, is_true in *.",
                        "VernacExtend",
                        "712d0f4e7c99ea54e8e67fe33b91d73bd672f000"
                    ]
                },
                {
                    "command": [
                        "rewrite !Nat.leb_le in *.",
                        "VernacExtend",
                        "1a87ebbd70f7e14647f8592678f71a256c53cad1"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "RCT_Permutation",
            "line_nb": 84,
            "steps": [
                {
                    "command": [
                        "symmetry.",
                        "VernacExtend",
                        "a08fc0dc04bba893008bded8181f393e2d8db167"
                    ]
                },
                {
                    "command": [
                        "apply CompositeRankSort.Permuted_sort.",
                        "VernacExtend",
                        "38473fcdb38d70b4654c25aa0798306f6da9f2b4"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "RCT_ordered",
            "line_nb": 139,
            "steps": [
                {
                    "command": [
                        "pose proof RCT_ordered_and_complete.",
                        "VernacExtend",
                        "35f7554e4dc4d6eadf8233e0bd259a665d74afe1"
                    ]
                },
                {
                    "command": [
                        "assert (forall i co, In (i, co) rebuild_composite_elements -> complete_members cenv (co_members co) = true /\\ co_rank co = rank_members cenv (co_members co)).",
                        "VernacExtend",
                        "9b014807f1bfe7cced5b26325a47d08430c29fd7"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "eapply Permutation_in in H0; [| exact RCT_Permutation].",
                        "VernacExtend",
                        "d39170ec30af15d41e2d383e60e4b7733ad64813"
                    ]
                },
                {
                    "command": [
                        "apply PTree.elements_complete in H0; auto.",
                        "VernacExtend",
                        "943ab9938070ea00ce6798241d86d2e0a08704bd"
                    ]
                },
                {
                    "command": [
                        "split.",
                        "VernacExtend",
                        "55abc140132bd88981001ac656020469a8d503eb"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply co_consistent_complete.",
                        "VernacExtend",
                        "996158fa5fb07cf2c03046f934cbbe9ae325e4c1"
                    ]
                },
                {
                    "command": [
                        "eapply cenv_consistent; eauto.",
                        "VernacExtend",
                        "a6ebecf2312a3bf52d128fd020d236ee2b0d9523"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply co_consistent_rank.",
                        "VernacExtend",
                        "2027c5acc11a28e641a2179dbf071f3349771828"
                    ]
                },
                {
                    "command": [
                        "eapply cenv_consistent; eauto.",
                        "VernacExtend",
                        "a6ebecf2312a3bf52d128fd020d236ee2b0d9523"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "induction H.",
                        "VernacExtend",
                        "f8e74d6b42ecd6b509e6a20cee53bb69d051cd07"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "constructor.",
                        "VernacExtend",
                        "3c77e6be855b5086df5e918bf2a0537e1010479a"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "specialize (IHordered_and_complete (fun i co HH => H0 i co (or_intror HH))).",
                        "VernacExtend",
                        "584169ffbac671649e4e5bba0c88ef40faa27ee7"
                    ]
                },
                {
                    "command": [
                        "constructor; auto.",
                        "VernacExtend",
                        "686f227fe0f57af60032eb35216aef1e62d0c0e5"
                    ]
                },
                {
                    "command": [
                        "clear IHordered_and_complete H1.",
                        "VernacExtend",
                        "17ca7eb439455918c0609349ad4be6f48195202a"
                    ]
                },
                {
                    "command": [
                        "specialize (H0 _ _ (or_introl eq_refl)).",
                        "VernacExtend",
                        "013c49c10caeb2c2ae0e7e554a5fac6f2a806eea"
                    ]
                },
                {
                    "command": [
                        "assert (rank_members cenv (co_members co) <= co_rank co)%nat by omega.",
                        "VernacExtend",
                        "a14e8d22688ad0988ab75523d4694b8205d06e32"
                    ]
                },
                {
                    "command": [
                        "destruct H0 as [? _].",
                        "VernacExtend",
                        "1e578e84e7a531f32f36c087bbd511d26e131ff7"
                    ]
                },
                {
                    "command": [
                        "induction (co_members co) as [| [i0 t0] ?].",
                        "VernacExtend",
                        "a783c5376ca4c0a2cde94ba5e111ae010bc3380d"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "constructor.",
                        "VernacExtend",
                        "3c77e6be855b5086df5e918bf2a0537e1010479a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "simpl in H0; rewrite andb_true_iff in H0; destruct H0.",
                        "VernacExtend",
                        "ec8c682eca06898a639ea1a22cd7e7d3ad1a8c52"
                    ]
                },
                {
                    "command": [
                        "simpl in H1; pose proof Max.max_lub_r _ _ _ H1.",
                        "VernacExtend",
                        "0cfa7c7d3895ef91c11d474956ef44f1c703c06d"
                    ]
                },
                {
                    "command": [
                        "apply Max.max_lub_l in H1.",
                        "VernacExtend",
                        "aaaeed1b268eab7be65ab2253781310d71084890"
                    ]
                },
                {
                    "command": [
                        "constructor; auto; clear IHm H2 H3.",
                        "VernacExtend",
                        "34caeea569c332cd147889ae3ff28c1e3db87bd0"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "induction t0; try solve [simpl; auto].",
                        "VernacExtend",
                        "b3d0e175160e279f541cd76c48840ef4054559f7"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "spec IHt0; auto.",
                        "VernacExtend",
                        "783675278544b463ac8b568be197040e26fac9c2"
                    ]
                },
                {
                    "command": [
                        "spec IHt0; [simpl in H1; omega |].",
                        "VernacExtend",
                        "66bbc8a9a57ae202f7139ae5d8e0d1fb93ca91ba"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "simpl in H0, H1 |- *.",
                        "VernacExtend",
                        "92caf4ca067d3aad8906e7a79af77acba3301e40"
                    ]
                },
                {
                    "command": [
                        "destruct (cenv ! i1) eqn:?H; [| inv H0].",
                        "VernacExtend",
                        "e89007e361eb7e3cdce6c8ce1e9a659ac600b9f5"
                    ]
                },
                {
                    "command": [
                        "specialize (H _ _ H2).",
                        "VernacExtend",
                        "13af501273bcceaa40743ebc8dc98765676febd3"
                    ]
                },
                {
                    "command": [
                        "spec H; [omega |].",
                        "VernacExtend",
                        "3b6530c84a66e5ef96b1a7c49acc4f5300648d9e"
                    ]
                },
                {
                    "command": [
                        "apply (in_map fst) in H; auto.",
                        "VernacExtend",
                        "705af64d79fe93a235009c9142db8e510778e4d5"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "simpl in H0, H1 |- *.",
                        "VernacExtend",
                        "92caf4ca067d3aad8906e7a79af77acba3301e40"
                    ]
                },
                {
                    "command": [
                        "destruct (cenv ! i1) eqn:?H; [| inv H0].",
                        "VernacExtend",
                        "e89007e361eb7e3cdce6c8ce1e9a659ac600b9f5"
                    ]
                },
                {
                    "command": [
                        "specialize (H _ _ H2).",
                        "VernacExtend",
                        "13af501273bcceaa40743ebc8dc98765676febd3"
                    ]
                },
                {
                    "command": [
                        "spec H; [omega |].",
                        "VernacExtend",
                        "3b6530c84a66e5ef96b1a7c49acc4f5300648d9e"
                    ]
                },
                {
                    "command": [
                        "apply (in_map fst) in H; auto.",
                        "VernacExtend",
                        "705af64d79fe93a235009c9142db8e510778e4d5"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "F_PTree_set",
            "line_nb": 201,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "induction t; auto.",
                        "VernacExtend",
                        "f3a71cbb1d4317191cf94a3dde1e0ae84fc436cb"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "apply IHt in H0.",
                        "VernacExtend",
                        "225de53c60b70fd81e77afb783e149c1d1af86d9"
                    ]
                },
                {
                    "command": [
                        "rewrite H0; auto.",
                        "VernacExtend",
                        "48df2b0b453adadcea8e6914bccb68bfc33b286b"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "simpl in H0 |- *.",
                        "VernacExtend",
                        "53dfb12d29da9115f22ff2e19bd6e71b0d980d9b"
                    ]
                },
                {
                    "command": [
                        "rewrite PTree.gso; auto.",
                        "VernacExtend",
                        "63a9bc52270c656dbc7d2efe43bb711a7ed93e4e"
                    ]
                },
                {
                    "command": [
                        "intro; subst; tauto.",
                        "VernacExtend",
                        "cf2aeffb6ea104f4a3e2dd5d72c6ba7434be6858"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "simpl in H0 |- *.",
                        "VernacExtend",
                        "53dfb12d29da9115f22ff2e19bd6e71b0d980d9b"
                    ]
                },
                {
                    "command": [
                        "rewrite PTree.gso; auto.",
                        "VernacExtend",
                        "63a9bc52270c656dbc7d2efe43bb711a7ed93e4e"
                    ]
                },
                {
                    "command": [
                        "intro; subst; tauto.",
                        "VernacExtend",
                        "cf2aeffb6ea104f4a3e2dd5d72c6ba7434be6858"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "relative_defined_type_PTree_set",
            "line_nb": 217,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "revert H; apply relative_defined_type_mono.",
                        "VernacExtend",
                        "980187808e1202b0288004d2390ea9e5907648ac"
                    ]
                },
                {
                    "command": [
                        "intros; apply PTree_set_In_fst_elements; auto.",
                        "VernacExtend",
                        "c718d0f0a7a5938cbeda219a8e82cf50f759fa26"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "NOT_IN",
            "line_nb": 230,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "rewrite <- IH_In_equiv; auto.",
                        "VernacExtend",
                        "0896b86232bab9c488683877031c7011f5aa4844"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "RDT_PTree",
            "line_nb": 234,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "revert RDT_list; apply Forall_impl.",
                        "VernacExtend",
                        "3f6075c8f2cf3ffb35d364560304a4a0b661e198"
                    ]
                },
                {
                    "command": [
                        "intros t.",
                        "VernacExtend",
                        "3c4fe6f257739f9d979bf15fca5e899c1914c76d"
                    ]
                },
                {
                    "command": [
                        "apply relative_defined_type_mono.",
                        "VernacExtend",
                        "b94ff6f178c11348811fe07cfff998b0e1acc3eb"
                    ]
                },
                {
                    "command": [
                        "firstorder.",
                        "VernacExtend",
                        "ceb9f57e98a5f5a73ee421cf30fd2f4f09432d14"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "establish_In_equiv",
            "line_nb": 241,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "specialize (IH_In_equiv i).",
                        "VernacExtend",
                        "72b31c5c640b5d8b4eff676fb9e9d105a1a3a7d2"
                    ]
                },
                {
                    "command": [
                        "rewrite PTree_In_fst_elements in IH_In_equiv |- *.",
                        "VernacExtend",
                        "db252e91a433b988c4047154db33fb8dc1264ef6"
                    ]
                },
                {
                    "command": [
                        "unfold env_rec.",
                        "VernacExtend",
                        "bb121949741e8478dfa7cfccfb36e7af07812aa7"
                    ]
                },
                {
                    "command": [
                        "rewrite <- PTree_gs_equiv.",
                        "VernacExtend",
                        "8b04c8a2a55d9d2328495b5e0eaffa4c49f4fedc"
                    ]
                },
                {
                    "command": [
                        "simpl In.",
                        "VernacExtend",
                        "d758f9b5c423df2cd31bf3f3579e5998e9ae2935"
                    ]
                },
                {
                    "command": [
                        "assert (i0 = i <-> i = i0) by (split; intros; congruence).",
                        "VernacExtend",
                        "099c615777259285e02f88c9b0cc0c5dd025961d"
                    ]
                },
                {
                    "command": [
                        "tauto.",
                        "VernacExtend",
                        "9bfafe84fb6724789bdf6cfd21cd721dd63fdabd"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "establish_RDT",
            "line_nb": 251,
            "steps": [
                {
                    "command": [
                        "pose proof RDT_PTree as RDT_PTree.",
                        "VernacExtend",
                        "76899f164c5a8cdfa2babce2f41d5b7ca96269ce"
                    ]
                },
                {
                    "command": [
                        "intros i co a CENV ENV.",
                        "VernacExtend",
                        "f27097e1e43959fd15ed911bd636b83e0aa2f8eb"
                    ]
                },
                {
                    "command": [
                        "unfold env_rec in ENV.",
                        "VernacExtend",
                        "c2c14a6492713effe03460993fa240de466f0e76"
                    ]
                },
                {
                    "command": [
                        "destruct (Pos.eq_dec i i0).",
                        "VernacExtend",
                        "65f747a80cb4002dc7e2d2bd9577fb08c6f8a4fd"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "subst i0; rewrite CENV in CENV0; inversion CENV0; subst co0; clear CENV0.",
                        "VernacExtend",
                        "16a4ef10e13ec48f313855f02c1d5165cb2089eb"
                    ]
                },
                {
                    "command": [
                        "rewrite PTree.gss in ENV.",
                        "VernacExtend",
                        "f19acf590998a63673e086ac85bef051274226f1"
                    ]
                },
                {
                    "command": [
                        "inversion ENV; clear a ENV H0.",
                        "VernacExtend",
                        "6979e9e40322d89b74b9ba20777addb54457e134"
                    ]
                },
                {
                    "command": [
                        "revert RDT_PTree.",
                        "VernacExtend",
                        "3b9d4d59233017132e093c520a606b80d0873d39"
                    ]
                },
                {
                    "command": [
                        "apply Forall_impl; intros t.",
                        "VernacExtend",
                        "ba474e32db8379b0e8bf0809295b3b301c0a49e7"
                    ]
                },
                {
                    "command": [
                        "apply relative_defined_type_PTree_set.",
                        "VernacExtend",
                        "f9d3412efc214460150e85a3b2810d79052e4394"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite PTree.gso in ENV by auto.",
                        "VernacExtend",
                        "04301f92b2b0f75899acdd27f899e91c27c3ed0c"
                    ]
                },
                {
                    "command": [
                        "specialize (IH_RDT _ _ _ CENV ENV).",
                        "VernacExtend",
                        "679d91500dd31a8919b7f2c983170d010e591e12"
                    ]
                },
                {
                    "command": [
                        "revert IH_RDT.",
                        "VernacExtend",
                        "57dc26e2b58328c98c565e56ae7810536520f05a"
                    ]
                },
                {
                    "command": [
                        "apply Forall_impl; intros t.",
                        "VernacExtend",
                        "ba474e32db8379b0e8bf0809295b3b301c0a49e7"
                    ]
                },
                {
                    "command": [
                        "apply relative_defined_type_PTree_set.",
                        "VernacExtend",
                        "f9d3412efc214460150e85a3b2810d79052e4394"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "establish_main",
            "line_nb": 270,
            "steps": [
                {
                    "command": [
                        "pose proof NOT_IN as NOT_IN.",
                        "VernacExtend",
                        "dced8064018907ff7aeb613fd5ac33b93e92cded"
                    ]
                },
                {
                    "command": [
                        "pose proof RDT_PTree as RDT_PTree.",
                        "VernacExtend",
                        "76899f164c5a8cdfa2babce2f41d5b7ca96269ce"
                    ]
                },
                {
                    "command": [
                        "intros i co a CENV ENV.",
                        "VernacExtend",
                        "f27097e1e43959fd15ed911bd636b83e0aa2f8eb"
                    ]
                },
                {
                    "command": [
                        "unfold env_rec in ENV.",
                        "VernacExtend",
                        "c2c14a6492713effe03460993fa240de466f0e76"
                    ]
                },
                {
                    "command": [
                        "destruct (Pos.eq_dec i i0).",
                        "VernacExtend",
                        "65f747a80cb4002dc7e2d2bd9577fb08c6f8a4fd"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "subst i0; rewrite CENV in CENV0; inversion CENV0; subst co0; clear CENV0.",
                        "VernacExtend",
                        "16a4ef10e13ec48f313855f02c1d5165cb2089eb"
                    ]
                },
                {
                    "command": [
                        "rewrite PTree.gss in ENV.",
                        "VernacExtend",
                        "f19acf590998a63673e086ac85bef051274226f1"
                    ]
                },
                {
                    "command": [
                        "inversion ENV; clear a ENV H0.",
                        "VernacExtend",
                        "6979e9e40322d89b74b9ba20777addb54457e134"
                    ]
                },
                {
                    "command": [
                        "f_equal.",
                        "VernacExtend",
                        "dfce814d1efcef60f8330516ad88155a3a5ec317"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "apply map_ext_in.",
                        "VernacExtend",
                        "b7bdc11592344de1bd61785a34d0d70b5a9677d5"
                    ]
                },
                {
                    "command": [
                        "intros (i1, t1) ?.",
                        "VernacExtend",
                        "87d053a3a9af5e28101bae639b5a1c0ed61aeeab"
                    ]
                },
                {
                    "command": [
                        "f_equal.",
                        "VernacExtend",
                        "dfce814d1efcef60f8330516ad88155a3a5ec317"
                    ]
                },
                {
                    "command": [
                        "apply F_PTree_set; auto.",
                        "VernacExtend",
                        "1123896657a664c0a8ea77563372fb6ab73c7d79"
                    ]
                },
                {
                    "command": [
                        "rewrite Forall_forall in RDT_PTree; apply RDT_PTree.",
                        "VernacExtend",
                        "0cddf9619b8274d076618d4201eb3f2f8b09585b"
                    ]
                },
                {
                    "command": [
                        "apply (in_map snd) in H; auto.",
                        "VernacExtend",
                        "1dd10a683fb482e3a367171de4562b2840f88bf1"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite PTree.gso in ENV by auto.",
                        "VernacExtend",
                        "04301f92b2b0f75899acdd27f899e91c27c3ed0c"
                    ]
                },
                {
                    "command": [
                        "specialize (IH_main _ _ _ CENV ENV).",
                        "VernacExtend",
                        "ae134f9e75f076a07c83aec7082d42501f57efad"
                    ]
                },
                {
                    "command": [
                        "subst a.",
                        "VernacExtend",
                        "d7670e5f9c196bd417b16b29da3532f33d34884d"
                    ]
                },
                {
                    "command": [
                        "f_equal.",
                        "VernacExtend",
                        "dfce814d1efcef60f8330516ad88155a3a5ec317"
                    ]
                },
                {
                    "command": [
                        "apply map_ext_in.",
                        "VernacExtend",
                        "b7bdc11592344de1bd61785a34d0d70b5a9677d5"
                    ]
                },
                {
                    "command": [
                        "intros (i1, t1) ?.",
                        "VernacExtend",
                        "87d053a3a9af5e28101bae639b5a1c0ed61aeeab"
                    ]
                },
                {
                    "command": [
                        "f_equal.",
                        "VernacExtend",
                        "dfce814d1efcef60f8330516ad88155a3a5ec317"
                    ]
                },
                {
                    "command": [
                        "apply F_PTree_set; auto.",
                        "VernacExtend",
                        "1123896657a664c0a8ea77563372fb6ab73c7d79"
                    ]
                },
                {
                    "command": [
                        "specialize (IH_RDT _ _ _ CENV ENV).",
                        "VernacExtend",
                        "679d91500dd31a8919b7f2c983170d010e591e12"
                    ]
                },
                {
                    "command": [
                        "rewrite Forall_forall in IH_RDT; apply IH_RDT.",
                        "VernacExtend",
                        "ec9c90c634d01c07c5b4931059278c1d418bfd91"
                    ]
                },
                {
                    "command": [
                        "apply (in_map snd) in H; auto.",
                        "VernacExtend",
                        "1dd10a683fb482e3a367171de4562b2840f88bf1"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Consistency",
            "line_nb": 302,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "assert (forall i co, In (i, co) l -> PTree.get i cenv = Some co).",
                        "VernacExtend",
                        "f0bdcb693e7c0c746bb62de1841d85b6b63a8c71"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply PTree.elements_complete.",
                        "VernacExtend",
                        "50b7c3921a305e7c9bd7a5c05d2beb4fafa95811"
                    ]
                },
                {
                    "command": [
                        "eapply Permutation_in; eauto.",
                        "VernacExtend",
                        "9fdcb0f750a08e8b856d88a92bebe26374a7f254"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "assert (NoDup (map fst l)).",
                        "VernacExtend",
                        "a02509294863bcca549e17b32bb64bf406b1cbff"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "eapply Permutation_NoDup; [symmetry; apply Permutation_map; eassumption |].",
                        "VernacExtend",
                        "acd8c1a4a2fbb0382e88f0d84d131c40c63594de"
                    ]
                },
                {
                    "command": [
                        "rewrite <- list_norepet_NoDup.",
                        "VernacExtend",
                        "9895968034e8901ebad69a2f53d49aaf13259ba9"
                    ]
                },
                {
                    "command": [
                        "apply PTree.elements_keys_norepet.",
                        "VernacExtend",
                        "0673b474cdfec171390443dc0e56c61bfbd49d0d"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "clear H.",
                        "VernacExtend",
                        "f2c5826643b985ca1b67f3433f38ccbe2735e582"
                    ]
                },
                {
                    "command": [
                        "assert ( (forall i, In i (map fst l) <-> In i (map fst (PTree.elements (Env l)))) /\\ (forall i co a, PTree.get i cenv = Some co -> PTree.get i (Env l) = Some a -> Forall (relative_defined_type (PTree.elements (Env l))) (map snd (co_members co))) /\\ Consistent cenv (Env l)); [| tauto].",
                        "VernacExtend",
                        "7b8e35e1006c86302159bbd5e098e09d372a47b8"
                    ]
                },
                {
                    "command": [
                        "induction l as [| [i0 co0] l].",
                        "VernacExtend",
                        "cb71c6d79aad29025372f425de9036b1c853cb12"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "split; [| split]; hnf; intros.",
                        "VernacExtend",
                        "9eb0b5dc04061bac0ad183ae77fe993c1969c5e1"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "simpl; tauto.",
                        "VernacExtend",
                        "2c27d7b56602355c3ed4605e551cd6a88509ac37"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "unfold Env in H3; simpl in H3.",
                        "VernacExtend",
                        "8d82be8851e284548790543e9cd846440a3c7ab2"
                    ]
                },
                {
                    "command": [
                        "rewrite PTree.gempty in H3; inv H3.",
                        "VernacExtend",
                        "55e3d1426dcd4c8edbbfc749d5aaf181c007de6b"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "unfold Env in H3; simpl in H3.",
                        "VernacExtend",
                        "8d82be8851e284548790543e9cd846440a3c7ab2"
                    ]
                },
                {
                    "command": [
                        "rewrite PTree.gempty in H3; inv H3.",
                        "VernacExtend",
                        "55e3d1426dcd4c8edbbfc749d5aaf181c007de6b"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "inv H0.",
                        "VernacExtend",
                        "52c34ef20c88d5292e2350aff94f149a3968b772"
                    ]
                },
                {
                    "command": [
                        "rename H4 into RDT_list; specialize (IHl H6); clear H6.",
                        "VernacExtend",
                        "a20daf59f47e54145500fe3294124b1bb2dd531a"
                    ]
                },
                {
                    "command": [
                        "assert (CENV0: PTree.get i0 cenv = Some co0).",
                        "VernacExtend",
                        "e1f5001a6969b11066703a6e0dc933532ea50c2f"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "apply H1; left; auto.",
                        "VernacExtend",
                        "dc6f882de0ff2f232de65f2c8a3d9be7068b12c0"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "spec IHl; [| clear H1].",
                        "VernacExtend",
                        "9b7619893f68fde108cf8f3388d2626c203fff2c"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "intros; apply H1; right; auto.",
                        "VernacExtend",
                        "96b525faaa49d6f3a34472a0476bb65ea70c4d58"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "inv H2.",
                        "VernacExtend",
                        "6144021562e950304ba8e947fdc2423691182458"
                    ]
                },
                {
                    "command": [
                        "rename H1 into NOT_IN_LIST; specialize (IHl H3); clear H3.",
                        "VernacExtend",
                        "01944c1e7aad9d7503458ea8a9206bf40a1804b0"
                    ]
                },
                {
                    "command": [
                        "destruct IHl as [IH_In_equiv [IH_RDT IH_main]].",
                        "VernacExtend",
                        "1bdc287e4127222764a5bbfae231bdfd733b0c91"
                    ]
                },
                {
                    "command": [
                        "split; [| split].",
                        "VernacExtend",
                        "d2f933e98f73ab8a5c6be2969adff348cdfe06d5"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply establish_In_equiv; auto.",
                        "VernacExtend",
                        "0d6f4863a684ffb6bab950dea428ce13f1539b31"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eapply establish_RDT; eauto.",
                        "VernacExtend",
                        "308d6483a27187351b98f27401f60033cb29000e"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eapply establish_main; eauto.",
                        "VernacExtend",
                        "976345304305dd6d8d9eddd2d964dfe47730d139"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Completeness",
            "line_nb": 351,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "intro.",
                        "VernacExtend",
                        "3999be354c758ba0d1866e0fcc78a7288779a224"
                    ]
                },
                {
                    "command": [
                        "rewrite <- !PTree_In_fst_elements.",
                        "VernacExtend",
                        "4b285ced25ad817c806e9e2964f291a8b256aba8"
                    ]
                },
                {
                    "command": [
                        "pose proof PTree.elements_keys_norepet cenv.",
                        "VernacExtend",
                        "9449aea8b26f13741876cfc7ebf51a9ae498b3d9"
                    ]
                },
                {
                    "command": [
                        "rewrite list_norepet_NoDup in H0.",
                        "VernacExtend",
                        "fe6a91022c2c4efb8a8d8e132c90e965856d9211"
                    ]
                },
                {
                    "command": [
                        "rewrite <- H in H0 |- *; clear H.",
                        "VernacExtend",
                        "2b5b2edbfc346ca5791037aa71d52bbb5b9caed2"
                    ]
                },
                {
                    "command": [
                        "induction l.",
                        "VernacExtend",
                        "1194af70832939708f8c7fde2f18f81c37b97a0c"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "simpl; tauto.",
                        "VernacExtend",
                        "2c27d7b56602355c3ed4605e551cd6a88509ac37"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct a as [i0 co0].",
                        "VernacExtend",
                        "dd95397ef4ea2b4cc5af3f53e2ad6d8333d769d9"
                    ]
                },
                {
                    "command": [
                        "inv H0.",
                        "VernacExtend",
                        "52c34ef20c88d5292e2350aff94f149a3968b772"
                    ]
                },
                {
                    "command": [
                        "specialize (IHl H3).",
                        "VernacExtend",
                        "69f2717d13d55d0c081f600de07177be3c8b8028"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "unfold env_rec.",
                        "VernacExtend",
                        "bb121949741e8478dfa7cfccfb36e7af07812aa7"
                    ]
                },
                {
                    "command": [
                        "rewrite PTree_In_fst_elements, <- PTree_gs_equiv, <- PTree_In_fst_elements.",
                        "VernacExtend",
                        "b911dc0a6f7cdb931a6739e3f1580d936096315a"
                    ]
                },
                {
                    "command": [
                        "assert (i = i0 <-> i0 = i) by (split; intros; congruence).",
                        "VernacExtend",
                        "6a28063cb24d0dda2adba47b5368b0c23839cfd5"
                    ]
                },
                {
                    "command": [
                        "tauto.",
                        "VernacExtend",
                        "9bfafe84fb6724789bdf6cfd21cd721dd63fdabd"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "composite_reorder_consistent",
            "line_nb": 373,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply type_func.Consistency.",
                        "VernacExtend",
                        "b0ec6007dcd97ca8ddca8947375a6de67a674624"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply composite_reorder.RCT_Permutation.",
                        "VernacExtend",
                        "b8d38347748434122f42c57601479dc19ef48f2d"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply composite_reorder.RCT_ordered; auto.",
                        "VernacExtend",
                        "ea2f2c83ab15d27d4611d262100a5261e9542b47"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "composite_reorder_complete",
            "line_nb": 381,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply type_func.Completeness.",
                        "VernacExtend",
                        "4ec8dd9d2e294d371e0a445b43ff8e74dd03db00"
                    ]
                },
                {
                    "command": [
                        "apply composite_reorder.RCT_Permutation.",
                        "VernacExtend",
                        "b8d38347748434122f42c57601479dc19ef48f2d"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "complete_legal_cosu_type_complete_type",
            "line_nb": 392,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "induction t; auto.",
                        "VernacExtend",
                        "f3a71cbb1d4317191cf94a3dde1e0ae84fc436cb"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "destruct (cenv ! i); auto.",
                        "VernacExtend",
                        "e754eb30d3d5795ca3714af9d2257921e6c8bbd7"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "destruct (cenv ! i); auto.",
                        "VernacExtend",
                        "e754eb30d3d5795ca3714af9d2257921e6c8bbd7"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}