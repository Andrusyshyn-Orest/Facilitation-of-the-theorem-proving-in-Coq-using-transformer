{
    "filename": "raft-proofs/RaftMsgRefinementProof.v",
    "coq_project": "verdi-raft",
    "vernac_cmds": [
        [
            "Require Import FunctionalExtensionality.",
            "VernacRequire",
            "bb1bf6a28f9de1b2ad0dab7920189198216ed486"
        ],
        [
            "Require Import Verdi.GhostSimulations.",
            "VernacRequire",
            "891dab67151e6ddfd50d6b357dfdba6cdf4a4361"
        ],
        [
            "Require Import VerdiRaft.Raft.",
            "VernacRequire",
            "36b0b9afd1c52050ce42daf3c5fa4abb91993f25"
        ],
        [
            "Require Import Verdi.DupDropReordering.",
            "VernacRequire",
            "5de5d9f2b2a4369dcafe046138870eb434df7f30"
        ],
        [
            "Require Import VerdiRaft.SpecLemmas.",
            "VernacRequire",
            "0d675bfd5abc1d0ef9d53230c6dbdf3992517589"
        ],
        [
            "Require Import VerdiRaft.RaftRefinementInterface.",
            "VernacRequire",
            "927926da3b5a03c3f12be5b77cf55cd407b249d6"
        ],
        [
            "Require Import VerdiRaft.RaftMsgRefinementInterface.",
            "VernacRequire",
            "513c3ea8986ce8914ffd8d5d224755e07fd3cb06"
        ],
        [
            "Section RaftMsgRefinement.",
            "VernacBeginSection",
            "48be196015d891fdf88552909fd693fdbcec1cdf"
        ],
        [
            "Context {orig_base_params : BaseParams}.",
            "VernacContext",
            "69028e681894580fbc36a6124a9136decfafb159"
        ],
        [
            "Context {one_node_params : OneNodeParams orig_base_params}.",
            "VernacContext",
            "013ed31ca1bcacb0528fc416f1059cfa49b9df65"
        ],
        [
            "Context {raft_params : RaftParams orig_base_params}.",
            "VernacContext",
            "f5c24333154da8ee6ae37600b526f95496c92448"
        ],
        [
            "Lemma msg_refined_raft_invariant_handle_message P : forall xs p ys net st' ps' gd d l, msg_refined_raft_net_invariant_append_entries P -> msg_refined_raft_net_invariant_append_entries_reply P -> msg_refined_raft_net_invariant_request_vote P -> msg_refined_raft_net_invariant_request_vote_reply P -> handleMessage (pSrc p) (pDst p) (snd (pBody p)) (snd (nwState net (pDst p))) = (d, l) -> update_elections_data_net (pDst p) (pSrc p) (snd (pBody p)) (nwState net (pDst p)) = gd -> P net -> msg_refined_raft_intermediate_reachable net -> nwPackets net = xs ++ p :: ys -> (forall h, st' h = update name_eq_dec (nwState net) (pDst p) (gd, d) h) -> (forall p', In p' ps' -> In p' (xs ++ ys) \\/ In p' (send_packets (pDst p) (@add_ghost_msg _ _ ghost_log_params (pDst p) (gd, d) l))) -> P (mkNetwork ps' st').",
            "VernacStartTheoremProof",
            "849400bf13ad734182e5098216a70a4c28f2a002"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold handleMessage, update_elections_data_net in *.",
            "VernacExtend",
            "88bb13b05f157d6a10493295ff8a05cedba123d6"
        ],
        [
            "break_match; repeat break_let; repeat find_inversion; [eapply_prop msg_refined_raft_net_invariant_request_vote| eapply_prop msg_refined_raft_net_invariant_request_vote_reply| eapply_prop msg_refined_raft_net_invariant_append_entries| eapply_prop msg_refined_raft_net_invariant_append_entries_reply]; eauto; unfold send_packets in *; simpl in *; intros; subst; auto; find_apply_hyp_hyp; intuition.",
            "VernacExtend",
            "fd4cc0021e16fbe9b46cafbfef9ea997f2807629"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma msg_refined_raft_invariant_handle_input P : forall h inp net st' ps' gd out d l, msg_refined_raft_net_invariant_timeout P -> msg_refined_raft_net_invariant_client_request P -> handleInput h inp (snd (nwState net h)) = (out, d, l) -> update_elections_data_input h inp (nwState net h) = gd -> P net -> msg_refined_raft_intermediate_reachable net -> (forall h', st' h' = update name_eq_dec (nwState net) h (gd, d) h') -> (forall p', In p' ps' -> In p' (nwPackets net) \\/ In p' (send_packets h (@add_ghost_msg _ _ ghost_log_params h (gd, d) l))) -> P (mkNetwork ps' st').",
            "VernacStartTheoremProof",
            "29b74dafc289343a91e5a8776c01b7ed22373e76"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold handleInput, update_elections_data_input in *.",
            "VernacExtend",
            "c55819732db0480dd822b70c2652720fcd3d782b"
        ],
        [
            "break_match; repeat break_let; repeat find_inversion; [eapply_prop msg_refined_raft_net_invariant_timeout| eapply_prop msg_refined_raft_net_invariant_client_request]; eauto; subst; auto.",
            "VernacExtend",
            "ec28434a084aef616c614683e9a1b15f89531348"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem msg_refined_raft_net_invariant : forall P net, msg_refined_raft_net_invariant_init P -> msg_refined_raft_net_invariant_client_request P -> msg_refined_raft_net_invariant_timeout P -> msg_refined_raft_net_invariant_append_entries P -> msg_refined_raft_net_invariant_append_entries_reply P -> msg_refined_raft_net_invariant_request_vote P -> msg_refined_raft_net_invariant_request_vote_reply P -> msg_refined_raft_net_invariant_do_leader P -> msg_refined_raft_net_invariant_do_generic_server P -> msg_refined_raft_net_invariant_state_same_packet_subset P -> msg_refined_raft_net_invariant_reboot P -> msg_refined_raft_intermediate_reachable net -> P net.",
            "VernacStartTheoremProof",
            "c97c3dcacd982f840bd383be6ffa1b8f8db794a6"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "induction H10.",
            "VernacExtend",
            "cc2d430db6cd11e1f70a7ce1abe9a55a831be582"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "match goal with [H : step_failure _ _ _ |- _ ] => invcs H end.",
            "VernacExtend",
            "c10e0f5d3a8a5a13bf9a0a44db9f07cb3c4c7437"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold mgv_refined_net_handlers in *.",
            "VernacExtend",
            "926581ab16c060a5cddc13e5acb9a6226f3062cd"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold refined_net_handlers in *.",
            "VernacExtend",
            "861d641d10e302a1beea9e519c83e0a18e1cfe13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold RaftNetHandler in *.",
            "VernacExtend",
            "4f5162448b3323ee4bd42f9b644c76d552e65ab9"
        ],
        [
            "repeat break_let.",
            "VernacExtend",
            "af4c4045b2a41d256b959f44ffccc9ee0df74742"
        ],
        [
            "repeat find_inversion.",
            "VernacExtend",
            "610a52b1e463e62cd0972175e3f79f0f0fe13ec5"
        ],
        [
            "remember (update_elections_data_net (pDst p) (pSrc p) (snd (pBody p)) (nwState net (pDst p))) as post_ghost_state.",
            "VernacExtend",
            "a78af761c312142bfb4050016bc6ad8c8c61ab35"
        ],
        [
            "assert (msg_refined_raft_intermediate_reachable {| nwPackets := (xs ++ ys) ++ send_packets (pDst p) (@add_ghost_msg _ _ ghost_log_params (pDst p) (post_ghost_state, r0) l4); nwState := update name_eq_dec (nwState net) (pDst p) (post_ghost_state, r0) |}) by (subst; eapply MRRIR_handleMessage; eauto; in_crush).",
            "VernacExtend",
            "1b88cd0b1a8cdd05c52ec9911b24670e19bebb13"
        ],
        [
            "assert (msg_refined_raft_intermediate_reachable {| nwPackets := (xs ++ ys) ++ send_packets (pDst p) (@add_ghost_msg _ _ ghost_log_params (pDst p) (post_ghost_state, r0) l4) ++ send_packets (pDst p) (@add_ghost_msg _ _ ghost_log_params (pDst p) (post_ghost_state, r1) l5); nwState := update name_eq_dec (nwState net) (pDst p) (post_ghost_state, r1) |}) by (eapply MRRIR_doLeader; eauto; try solve [in_crush]; simpl in *; intros; repeat break_if; try congruence; auto).",
            "VernacExtend",
            "7a36be2bd93d1336964c918f2de2c8e4c422a3ee"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_do_generic_server.",
            "VernacExtend",
            "aaf4bdfa470c3ae9a28e7d12eed30193c0a3a2fd"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_do_leader.",
            "VernacExtend",
            "1803faa9e034bc5894fdfaca889b1c808c48206f"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply msg_refined_raft_invariant_handle_message with (P := P); eauto using in_app_or.",
            "VernacExtend",
            "7bc9878b7fc8001bc7a86fe8240a263c490628f9"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "break_if; intuition eauto.",
            "VernacExtend",
            "22af42d6021aa8d9eb5994b33d5a4d5b1b60a69e"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "eapply in_app_or.",
            "VernacExtend",
            "86e875cb0557dacb4bece28755ccbd49ab957d22"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "clear H11.",
            "VernacExtend",
            "ebb03e3a54410c03ea27a756f384c4a2f0451a58"
        ],
        [
            "match goal with | H : msg_refined_raft_intermediate_reachable ?net |- msg_refined_raft_intermediate_reachable ?net' => assert (net = net') end.",
            "VernacExtend",
            "e7ab7a6564d89623a1489ec6d82cfe7e4c3a5f64"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "f_equal; auto.",
            "VernacExtend",
            "8016959cfe83d1ba3fdad91954454045f7af1d22"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "repeat rewrite app_ass.",
            "VernacExtend",
            "c5b6ee361540fa0f14fb61b62365b89213ce66af"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply functional_extensionality.",
            "VernacExtend",
            "9c7e1fe6d23159d5580801709782c72a6cb0684f"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_if; simpl; auto.",
            "VernacExtend",
            "8ac6f5ba99010e018eb94836b63c491c1ada6cc2"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "repeat find_rewrite; auto.",
            "VernacExtend",
            "6831b6d2b7d04ba3a6d445586e80f021fa2c2286"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "break_if; eauto; congruence.",
            "VernacExtend",
            "cfa278bea860339bfc6ec218cc46522f45bab76d"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_if; auto.",
            "VernacExtend",
            "a2e09478420d86b1e96962fc0c46379eaedec645"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "unfold add_ghost_msg in *.",
            "VernacExtend",
            "c17e022dbc3b7e21639c5147bde8915bd78a21cf"
        ],
        [
            "do_in_map.",
            "VernacExtend",
            "fa0be9321c6684e706bb9aefb585d66dc4eaa336"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "do_in_app.",
            "VernacExtend",
            "2c9b69d223e1c158780a58bcb9177572208a6dad"
        ],
        [
            "intuition; try do_in_app; intuition.",
            "VernacExtend",
            "70ca8450095fee6bc7cffdb4e807d4d9eeb178a1"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "left.",
            "VernacExtend",
            "06dad9fc5698018f3f1213205145fec906c612b1"
        ],
        [
            "apply in_app_iff.",
            "VernacExtend",
            "81904922d8d0dfcb81be591d156f4a951c7c90a7"
        ],
        [
            "left.",
            "VernacExtend",
            "06dad9fc5698018f3f1213205145fec906c612b1"
        ],
        [
            "apply in_app_iff.",
            "VernacExtend",
            "81904922d8d0dfcb81be591d156f4a951c7c90a7"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "rewrite map_map.",
            "VernacExtend",
            "ae8e13105f5289f0c1e44cbfa83eff3c6f47acee"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eexists; intuition; eauto.",
            "VernacExtend",
            "24dde320e2560337fb5661cd528d597e09d6a1bd"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "unfold write_ghost_log.",
            "VernacExtend",
            "f2fba3289501a7bd27ed15f2275028bbf9fd0bb5"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "find_apply_lem_hyp doGenericServer_log.",
            "VernacExtend",
            "27c4515d7bcb570cdae481102ce4302551a8628a"
        ],
        [
            "find_apply_lem_hyp doLeader_log.",
            "VernacExtend",
            "76f650d93218d41c7eeac3fcd3a759bb72f2b9a5"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "left.",
            "VernacExtend",
            "06dad9fc5698018f3f1213205145fec906c612b1"
        ],
        [
            "apply in_app_iff.",
            "VernacExtend",
            "81904922d8d0dfcb81be591d156f4a951c7c90a7"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "rewrite map_map.",
            "VernacExtend",
            "ae8e13105f5289f0c1e44cbfa83eff3c6f47acee"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eexists; intuition; eauto.",
            "VernacExtend",
            "24dde320e2560337fb5661cd528d597e09d6a1bd"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "unfold write_ghost_log.",
            "VernacExtend",
            "f2fba3289501a7bd27ed15f2275028bbf9fd0bb5"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "find_apply_lem_hyp doGenericServer_log.",
            "VernacExtend",
            "27c4515d7bcb570cdae481102ce4302551a8628a"
        ],
        [
            "find_apply_lem_hyp doLeader_log.",
            "VernacExtend",
            "76f650d93218d41c7eeac3fcd3a759bb72f2b9a5"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "rewrite map_map.",
            "VernacExtend",
            "ae8e13105f5289f0c1e44cbfa83eff3c6f47acee"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eexists; intuition; eauto.",
            "VernacExtend",
            "24dde320e2560337fb5661cd528d597e09d6a1bd"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold mgv_refined_input_handlers in *.",
            "VernacExtend",
            "94672207002bd4f7fd63d025ead70f942c82e24d"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold refined_input_handlers in *.",
            "VernacExtend",
            "37932c13c6043c6d3194fd622107e0c3e55a1de5"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold RaftInputHandler in *.",
            "VernacExtend",
            "f91ffc5aa8483204c06858b0f6c6531588425cb3"
        ],
        [
            "repeat break_let.",
            "VernacExtend",
            "af4c4045b2a41d256b959f44ffccc9ee0df74742"
        ],
        [
            "repeat find_inversion.",
            "VernacExtend",
            "610a52b1e463e62cd0972175e3f79f0f0fe13ec5"
        ],
        [
            "remember (update_elections_data_input h inp (nwState net h)) as post_ghost_state.",
            "VernacExtend",
            "de1de6b6542f4f74078a60f44c07b1a4431c4a40"
        ],
        [
            "assert (msg_refined_raft_intermediate_reachable {| nwPackets := (nwPackets net) ++ send_packets h (@add_ghost_msg _ _ ghost_log_params h (post_ghost_state, r0) l4); nwState := update name_eq_dec (nwState net) h (post_ghost_state, r0) |}) by (subst; eapply MRRIR_handleInput; eauto; in_crush).",
            "VernacExtend",
            "84e13dedbd430e3eb169ab754e970fc2608fc24e"
        ],
        [
            "assert (msg_refined_raft_intermediate_reachable {| nwPackets := (nwPackets net) ++ send_packets h (@add_ghost_msg _ _ ghost_log_params h (post_ghost_state, r0) l4) ++ send_packets h (@add_ghost_msg _ _ ghost_log_params h (post_ghost_state, r1) l6); nwState := update name_eq_dec (nwState net) h (post_ghost_state, r1) |}) by (eapply MRRIR_doLeader; eauto; try solve [in_crush]; simpl in *; intros; repeat break_if; try congruence; auto).",
            "VernacExtend",
            "c2fd36779b89836ee9df02fe1d704ac7f2c8f948"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_do_generic_server.",
            "VernacExtend",
            "aaf4bdfa470c3ae9a28e7d12eed30193c0a3a2fd"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_do_leader.",
            "VernacExtend",
            "1803faa9e034bc5894fdfaca889b1c808c48206f"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply msg_refined_raft_invariant_handle_input with (P := P); eauto using in_app_or.",
            "VernacExtend",
            "5a7b36253243d94d7d08af395a63f3d2b59f3f2f"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "break_if; intuition eauto.",
            "VernacExtend",
            "22af42d6021aa8d9eb5994b33d5a4d5b1b60a69e"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "eapply in_app_or.",
            "VernacExtend",
            "86e875cb0557dacb4bece28755ccbd49ab957d22"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "clear H11.",
            "VernacExtend",
            "ebb03e3a54410c03ea27a756f384c4a2f0451a58"
        ],
        [
            "match goal with | H : msg_refined_raft_intermediate_reachable ?net |- msg_refined_raft_intermediate_reachable ?net' => assert (net = net') end.",
            "VernacExtend",
            "e7ab7a6564d89623a1489ec6d82cfe7e4c3a5f64"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "f_equal; auto.",
            "VernacExtend",
            "8016959cfe83d1ba3fdad91954454045f7af1d22"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "repeat rewrite app_ass.",
            "VernacExtend",
            "c5b6ee361540fa0f14fb61b62365b89213ce66af"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply functional_extensionality.",
            "VernacExtend",
            "9c7e1fe6d23159d5580801709782c72a6cb0684f"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_if; simpl; auto.",
            "VernacExtend",
            "8ac6f5ba99010e018eb94836b63c491c1ada6cc2"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "repeat find_rewrite; auto.",
            "VernacExtend",
            "6831b6d2b7d04ba3a6d445586e80f021fa2c2286"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "break_if; eauto; congruence.",
            "VernacExtend",
            "cfa278bea860339bfc6ec218cc46522f45bab76d"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_if; auto.",
            "VernacExtend",
            "a2e09478420d86b1e96962fc0c46379eaedec645"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "unfold add_ghost_msg in *.",
            "VernacExtend",
            "c17e022dbc3b7e21639c5147bde8915bd78a21cf"
        ],
        [
            "do_in_map.",
            "VernacExtend",
            "fa0be9321c6684e706bb9aefb585d66dc4eaa336"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "do_in_app.",
            "VernacExtend",
            "2c9b69d223e1c158780a58bcb9177572208a6dad"
        ],
        [
            "intuition; try do_in_app; intuition.",
            "VernacExtend",
            "70ca8450095fee6bc7cffdb4e807d4d9eeb178a1"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "left.",
            "VernacExtend",
            "06dad9fc5698018f3f1213205145fec906c612b1"
        ],
        [
            "apply in_app_iff.",
            "VernacExtend",
            "81904922d8d0dfcb81be591d156f4a951c7c90a7"
        ],
        [
            "left.",
            "VernacExtend",
            "06dad9fc5698018f3f1213205145fec906c612b1"
        ],
        [
            "apply in_app_iff.",
            "VernacExtend",
            "81904922d8d0dfcb81be591d156f4a951c7c90a7"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "rewrite map_map.",
            "VernacExtend",
            "ae8e13105f5289f0c1e44cbfa83eff3c6f47acee"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eexists; intuition; eauto.",
            "VernacExtend",
            "24dde320e2560337fb5661cd528d597e09d6a1bd"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "unfold write_ghost_log.",
            "VernacExtend",
            "f2fba3289501a7bd27ed15f2275028bbf9fd0bb5"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "find_apply_lem_hyp doGenericServer_log.",
            "VernacExtend",
            "27c4515d7bcb570cdae481102ce4302551a8628a"
        ],
        [
            "find_apply_lem_hyp doLeader_log.",
            "VernacExtend",
            "76f650d93218d41c7eeac3fcd3a759bb72f2b9a5"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "left.",
            "VernacExtend",
            "06dad9fc5698018f3f1213205145fec906c612b1"
        ],
        [
            "apply in_app_iff.",
            "VernacExtend",
            "81904922d8d0dfcb81be591d156f4a951c7c90a7"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "rewrite map_map.",
            "VernacExtend",
            "ae8e13105f5289f0c1e44cbfa83eff3c6f47acee"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eexists; intuition; eauto.",
            "VernacExtend",
            "24dde320e2560337fb5661cd528d597e09d6a1bd"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "unfold write_ghost_log.",
            "VernacExtend",
            "f2fba3289501a7bd27ed15f2275028bbf9fd0bb5"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "find_apply_lem_hyp doGenericServer_log.",
            "VernacExtend",
            "27c4515d7bcb570cdae481102ce4302551a8628a"
        ],
        [
            "find_apply_lem_hyp doLeader_log.",
            "VernacExtend",
            "76f650d93218d41c7eeac3fcd3a759bb72f2b9a5"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "rewrite map_map.",
            "VernacExtend",
            "ae8e13105f5289f0c1e44cbfa83eff3c6f47acee"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eexists; intuition; eauto.",
            "VernacExtend",
            "24dde320e2560337fb5661cd528d597e09d6a1bd"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "match goal with | [ H : nwPackets ?net = _ |- _ {| nwPackets := ?ps ; nwState := ?st |} ] => assert (forall p, In p (nwPackets {| nwPackets := ps ; nwState := st |}) -> In p (nwPackets net)) by (intros; simpl in *; find_rewrite; in_crush) end.",
            "VernacExtend",
            "b203337e62bf9558f309edf0764f029b73e5e0e4"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_state_same_packet_subset; [|eauto|idtac|]; eauto.",
            "VernacExtend",
            "a4fe2bf5e145698bd37615ea57fa4b6f867a786e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "match goal with | [ H : nwPackets ?net = _ |- _ {| nwPackets := ?ps ; nwState := ?st |} ] => assert (forall p, In p (nwPackets {| nwPackets := ps ; nwState := st |}) -> In p (nwPackets net)) by (intros; simpl in *; find_rewrite; in_crush) end.",
            "VernacExtend",
            "b203337e62bf9558f309edf0764f029b73e5e0e4"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_state_same_packet_subset; [|eauto|idtac|]; eauto.",
            "VernacExtend",
            "a4fe2bf5e145698bd37615ea57fa4b6f867a786e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_reboot; eauto; intros; simpl in *; repeat break_if; intuition; subst; intuition eauto.",
            "VernacExtend",
            "42b28978e514f276a8f50cd246cad07ad3bd732f"
        ],
        [
            "destruct (nwState net h); auto.",
            "VernacExtend",
            "0924dafe1265c91aa66502654e679d7812e1fadf"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply msg_refined_raft_invariant_handle_input; eauto.",
            "VernacExtend",
            "16170c2261ad918ebe7c35f680db74df5cba6f1f"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply msg_refined_raft_invariant_handle_message; eauto.",
            "VernacExtend",
            "879930a5686200c0509b464daf7542f337ee9df3"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_do_leader; eauto.",
            "VernacExtend",
            "9832ec37d87b64a3c4a89e9846456dc6649e0089"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_do_generic_server; eauto.",
            "VernacExtend",
            "0d5e9d5b6bd6eae55bed5787fcdabc9ee055eec5"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma msg_refined_raft_invariant_handle_message' P : forall xs p ys net st' ps' gd d l, msg_refined_raft_net_invariant_append_entries' P -> msg_refined_raft_net_invariant_append_entries_reply' P -> msg_refined_raft_net_invariant_request_vote' P -> msg_refined_raft_net_invariant_request_vote_reply' P -> handleMessage (pSrc p) (pDst p) (snd (pBody p)) (snd (nwState net (pDst p))) = (d, l) -> update_elections_data_net (pDst p) (pSrc p) (snd (pBody p)) (nwState net (pDst p)) = gd -> P net -> msg_refined_raft_intermediate_reachable net -> msg_refined_raft_intermediate_reachable (mkNetwork ps' st') -> nwPackets net = xs ++ p :: ys -> (forall h, st' h = update name_eq_dec (nwState net) (pDst p) (gd, d) h) -> (forall p', In p' ps' -> In p' (xs ++ ys) \\/ In p' (send_packets (pDst p) (@add_ghost_msg _ _ ghost_log_params (pDst p) (gd, d) l))) -> P (mkNetwork ps' st').",
            "VernacStartTheoremProof",
            "b65f227fa3e0a4dca844ce3411f9de2dcde17e2d"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold handleMessage, update_elections_data_net in *.",
            "VernacExtend",
            "88bb13b05f157d6a10493295ff8a05cedba123d6"
        ],
        [
            "break_match; repeat break_let; repeat find_inversion; [eapply_prop msg_refined_raft_net_invariant_request_vote'| eapply_prop msg_refined_raft_net_invariant_request_vote_reply'| eapply_prop msg_refined_raft_net_invariant_append_entries'| eapply_prop msg_refined_raft_net_invariant_append_entries_reply']; eauto; unfold send_packets in *; simpl in *; intros; subst; auto; find_apply_hyp_hyp; intuition.",
            "VernacExtend",
            "d63d9e32f9ba50a7ab73c30392fd3a4da6d68081"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma msg_refined_raft_invariant_handle_input' P : forall h inp net st' ps' gd out d l, msg_refined_raft_net_invariant_timeout' P -> msg_refined_raft_net_invariant_client_request' P -> handleInput h inp (snd (nwState net h)) = (out, d, l) -> update_elections_data_input h inp (nwState net h) = gd -> P net -> msg_refined_raft_intermediate_reachable net -> msg_refined_raft_intermediate_reachable (mkNetwork ps' st') -> (forall h', st' h' = update name_eq_dec (nwState net) h (gd, d) h') -> (forall p', In p' ps' -> In p' (nwPackets net) \\/ In p' (send_packets h (@add_ghost_msg _ _ ghost_log_params h (gd, d) l))) -> P (mkNetwork ps' st').",
            "VernacStartTheoremProof",
            "137e42c982bf853afd5bd752b64fbb0a82d6195a"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold handleInput, update_elections_data_input in *.",
            "VernacExtend",
            "c55819732db0480dd822b70c2652720fcd3d782b"
        ],
        [
            "break_match; repeat break_let; repeat find_inversion; [eapply_prop msg_refined_raft_net_invariant_timeout'| eapply_prop msg_refined_raft_net_invariant_client_request']; eauto; subst; auto.",
            "VernacExtend",
            "193f5f0bc4065805f09c2a6c3cd93c3ed7d281c4"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem msg_refined_raft_net_invariant' : forall P net, msg_refined_raft_net_invariant_init P -> msg_refined_raft_net_invariant_client_request' P -> msg_refined_raft_net_invariant_timeout' P -> msg_refined_raft_net_invariant_append_entries' P -> msg_refined_raft_net_invariant_append_entries_reply' P -> msg_refined_raft_net_invariant_request_vote' P -> msg_refined_raft_net_invariant_request_vote_reply' P -> msg_refined_raft_net_invariant_do_leader' P -> msg_refined_raft_net_invariant_do_generic_server' P -> msg_refined_raft_net_invariant_state_same_packet_subset' P -> msg_refined_raft_net_invariant_reboot' P -> msg_refined_raft_intermediate_reachable net -> P net.",
            "VernacStartTheoremProof",
            "49a4dd3260f1cf90066924da06c725d8a2c59f30"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "induction H10.",
            "VernacExtend",
            "cc2d430db6cd11e1f70a7ce1abe9a55a831be582"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "match goal with [H : step_failure _ _ _ |- _ ] => invcs H end.",
            "VernacExtend",
            "c10e0f5d3a8a5a13bf9a0a44db9f07cb3c4c7437"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "match goal with | [ H : msg_refined_raft_intermediate_reachable _ |- _ ?x ] => assert (msg_refined_raft_intermediate_reachable x) as Hpost by (eapply MRRIR_step_failure; eauto; eapply StepFailure_deliver; eauto) end.",
            "VernacExtend",
            "4370bcfc92bf3b7a2a59d5a59c130b7751a57a70"
        ],
        [
            "unfold mgv_refined_net_handlers in *.",
            "VernacExtend",
            "926581ab16c060a5cddc13e5acb9a6226f3062cd"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold refined_net_handlers in *.",
            "VernacExtend",
            "861d641d10e302a1beea9e519c83e0a18e1cfe13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold RaftNetHandler, update_elections_data_net in *.",
            "VernacExtend",
            "c0ce24d7e8ca7f2103f89b1543e0c46eaf26b9f9"
        ],
        [
            "repeat break_let.",
            "VernacExtend",
            "af4c4045b2a41d256b959f44ffccc9ee0df74742"
        ],
        [
            "repeat find_inversion.",
            "VernacExtend",
            "610a52b1e463e62cd0972175e3f79f0f0fe13ec5"
        ],
        [
            "match goal with | [ H : msg_refined_raft_intermediate_reachable ?net, H' : context [net] |- _ ] => match type of H' with | msg_refined_raft_intermediate_reachable _ => move H after H' end end.",
            "VernacExtend",
            "a979075a9d72965e699643155e60e3e062c4c024"
        ],
        [
            "remember (update_elections_data_net (pDst p) (pSrc p) (snd (pBody p)) (nwState net (pDst p))) as post_ghost_state.",
            "VernacExtend",
            "a78af761c312142bfb4050016bc6ad8c8c61ab35"
        ],
        [
            "assert (msg_refined_raft_intermediate_reachable {| nwPackets := (xs ++ ys) ++ send_packets (pDst p) (@add_ghost_msg _ _ ghost_log_params (pDst p) (post_ghost_state, r0) l4); nwState := update name_eq_dec (nwState net) (pDst p) (post_ghost_state, r0) |}) as Hr0 by (subst; eapply MRRIR_handleMessage; eauto; in_crush).",
            "VernacExtend",
            "b27803462f54472c29e40966527be2ffc3bb09a9"
        ],
        [
            "assert (msg_refined_raft_intermediate_reachable {| nwPackets := (xs ++ ys) ++ send_packets (pDst p) (@add_ghost_msg _ _ ghost_log_params (pDst p) (post_ghost_state, r0) l4) ++ send_packets (pDst p) (@add_ghost_msg _ _ ghost_log_params (pDst p) (post_ghost_state, r1) l5); nwState := update name_eq_dec (nwState net) (pDst p) (post_ghost_state, r1) |}) as Hr1 by (eapply MRRIR_doLeader; eauto; try solve [in_crush]; simpl in *; intros; repeat break_if; try congruence; auto).",
            "VernacExtend",
            "fe0f5938768a6392195f7ee24b1431ed6e25324b"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_do_generic_server'.",
            "VernacExtend",
            "22fe4c6e71ead77ee8cdd48525a19c23dbbfad16"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_do_leader'.",
            "VernacExtend",
            "0568a4ba1f276a3a566674a73c8ed3f6fba291df"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply msg_refined_raft_invariant_handle_message' with (P := P); auto.",
            "VernacExtend",
            "23028a1b191a711008c8eb100096806cf2e943cd"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eauto using in_app_or.",
            "VernacExtend",
            "6d2d762002cd1604ae41045caeae7f31230aad75"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "exact Hr1.",
            "VernacExtend",
            "8dfc169fab331086f9b06d44283c0abe8bb4cc2b"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "break_if; intuition eauto.",
            "VernacExtend",
            "22af42d6021aa8d9eb5994b33d5a4d5b1b60a69e"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "break_if; intuition eauto.",
            "VernacExtend",
            "22af42d6021aa8d9eb5994b33d5a4d5b1b60a69e"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "break_if; eauto; congruence.",
            "VernacExtend",
            "cfa278bea860339bfc6ec218cc46522f45bab76d"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "break_if; subst; repeat rewrite update_same by auto; repeat rewrite update_neq by auto; auto.",
            "VernacExtend",
            "24fc050ca694b8f3bd3e28331a6672e89eed392c"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "unfold add_ghost_msg in *.",
            "VernacExtend",
            "c17e022dbc3b7e21639c5147bde8915bd78a21cf"
        ],
        [
            "do_in_map.",
            "VernacExtend",
            "fa0be9321c6684e706bb9aefb585d66dc4eaa336"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "do_in_app.",
            "VernacExtend",
            "2c9b69d223e1c158780a58bcb9177572208a6dad"
        ],
        [
            "intuition; try do_in_app; intuition.",
            "VernacExtend",
            "70ca8450095fee6bc7cffdb4e807d4d9eeb178a1"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "left.",
            "VernacExtend",
            "06dad9fc5698018f3f1213205145fec906c612b1"
        ],
        [
            "apply in_app_iff.",
            "VernacExtend",
            "81904922d8d0dfcb81be591d156f4a951c7c90a7"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "apply in_app_iff.",
            "VernacExtend",
            "81904922d8d0dfcb81be591d156f4a951c7c90a7"
        ],
        [
            "left.",
            "VernacExtend",
            "06dad9fc5698018f3f1213205145fec906c612b1"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "rewrite map_map.",
            "VernacExtend",
            "ae8e13105f5289f0c1e44cbfa83eff3c6f47acee"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eexists; intuition; eauto.",
            "VernacExtend",
            "24dde320e2560337fb5661cd528d597e09d6a1bd"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "unfold write_ghost_log.",
            "VernacExtend",
            "f2fba3289501a7bd27ed15f2275028bbf9fd0bb5"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "find_apply_lem_hyp doGenericServer_log.",
            "VernacExtend",
            "27c4515d7bcb570cdae481102ce4302551a8628a"
        ],
        [
            "find_apply_lem_hyp doLeader_log.",
            "VernacExtend",
            "76f650d93218d41c7eeac3fcd3a759bb72f2b9a5"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "left.",
            "VernacExtend",
            "06dad9fc5698018f3f1213205145fec906c612b1"
        ],
        [
            "apply in_app_iff.",
            "VernacExtend",
            "81904922d8d0dfcb81be591d156f4a951c7c90a7"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "apply in_app_iff.",
            "VernacExtend",
            "81904922d8d0dfcb81be591d156f4a951c7c90a7"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "rewrite map_map.",
            "VernacExtend",
            "ae8e13105f5289f0c1e44cbfa83eff3c6f47acee"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eexists; intuition; eauto.",
            "VernacExtend",
            "24dde320e2560337fb5661cd528d597e09d6a1bd"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "unfold write_ghost_log.",
            "VernacExtend",
            "f2fba3289501a7bd27ed15f2275028bbf9fd0bb5"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "find_apply_lem_hyp doGenericServer_log.",
            "VernacExtend",
            "27c4515d7bcb570cdae481102ce4302551a8628a"
        ],
        [
            "find_apply_lem_hyp doLeader_log.",
            "VernacExtend",
            "76f650d93218d41c7eeac3fcd3a759bb72f2b9a5"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "rewrite map_map.",
            "VernacExtend",
            "ae8e13105f5289f0c1e44cbfa83eff3c6f47acee"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eexists; intuition; eauto.",
            "VernacExtend",
            "24dde320e2560337fb5661cd528d597e09d6a1bd"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "match goal with | [ H : msg_refined_raft_intermediate_reachable _ |- _ ?x ] => assert (msg_refined_raft_intermediate_reachable x) as Hpost by (eapply MRRIR_step_failure; eauto; eapply StepFailure_input; eauto) end.",
            "VernacExtend",
            "50eff09b27bbf3fe16ca47bd0ed1e4740c5dc6db"
        ],
        [
            "unfold mgv_refined_input_handlers in *.",
            "VernacExtend",
            "94672207002bd4f7fd63d025ead70f942c82e24d"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold refined_input_handlers in *.",
            "VernacExtend",
            "37932c13c6043c6d3194fd622107e0c3e55a1de5"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold RaftInputHandler, update_elections_data_input in *.",
            "VernacExtend",
            "7e5b26eda6e5be379a592e4cf9ce3df3200932ca"
        ],
        [
            "repeat break_let.",
            "VernacExtend",
            "af4c4045b2a41d256b959f44ffccc9ee0df74742"
        ],
        [
            "repeat find_inversion.",
            "VernacExtend",
            "610a52b1e463e62cd0972175e3f79f0f0fe13ec5"
        ],
        [
            "match goal with | [ H : msg_refined_raft_intermediate_reachable ?net, H' : context [net] |- _ ] => match type of H' with | msg_refined_raft_intermediate_reachable _ => move H after H' end end.",
            "VernacExtend",
            "a979075a9d72965e699643155e60e3e062c4c024"
        ],
        [
            "remember (update_elections_data_input h inp (nwState net h)) as post_ghost_state.",
            "VernacExtend",
            "de1de6b6542f4f74078a60f44c07b1a4431c4a40"
        ],
        [
            "assert (msg_refined_raft_intermediate_reachable {| nwPackets := (nwPackets net) ++ send_packets h (@add_ghost_msg _ _ ghost_log_params h (post_ghost_state, r0) l4); nwState := update name_eq_dec (nwState net) h (post_ghost_state, r0) |}) as Hr0 by (subst; eapply MRRIR_handleInput; eauto; in_crush).",
            "VernacExtend",
            "a5ee3da014e57048082c5ad4949aa8fe8f2870b1"
        ],
        [
            "assert (msg_refined_raft_intermediate_reachable {| nwPackets := (nwPackets net) ++ send_packets h (@add_ghost_msg _ _ ghost_log_params h (post_ghost_state, r0) l4) ++ send_packets h (@add_ghost_msg _ _ ghost_log_params h (post_ghost_state, r1) l6); nwState := update name_eq_dec (nwState net) h (post_ghost_state, r1) |}) as Hr1 by (eapply MRRIR_doLeader; eauto; try solve [in_crush]; simpl in *; intros; repeat break_if; try congruence; auto).",
            "VernacExtend",
            "1c4f94df2ef0ec927cf049274675c3d58adb3eac"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_do_generic_server'.",
            "VernacExtend",
            "22fe4c6e71ead77ee8cdd48525a19c23dbbfad16"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_do_leader'.",
            "VernacExtend",
            "0568a4ba1f276a3a566674a73c8ed3f6fba291df"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply msg_refined_raft_invariant_handle_input' with (P := P); auto.",
            "VernacExtend",
            "8695501d821d25d0b13a642f3df11e4343634014"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eauto using in_app_or.",
            "VernacExtend",
            "6d2d762002cd1604ae41045caeae7f31230aad75"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "exact Hr1.",
            "VernacExtend",
            "8dfc169fab331086f9b06d44283c0abe8bb4cc2b"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "break_if; intuition eauto.",
            "VernacExtend",
            "22af42d6021aa8d9eb5994b33d5a4d5b1b60a69e"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "break_if; intuition eauto.",
            "VernacExtend",
            "22af42d6021aa8d9eb5994b33d5a4d5b1b60a69e"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "break_if; eauto; congruence.",
            "VernacExtend",
            "cfa278bea860339bfc6ec218cc46522f45bab76d"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "break_if; subst; repeat rewrite update_same by auto; repeat rewrite update_neq by auto; auto.",
            "VernacExtend",
            "24fc050ca694b8f3bd3e28331a6672e89eed392c"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "unfold add_ghost_msg in *.",
            "VernacExtend",
            "c17e022dbc3b7e21639c5147bde8915bd78a21cf"
        ],
        [
            "do_in_map.",
            "VernacExtend",
            "fa0be9321c6684e706bb9aefb585d66dc4eaa336"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "do_in_app.",
            "VernacExtend",
            "2c9b69d223e1c158780a58bcb9177572208a6dad"
        ],
        [
            "intuition; try do_in_app; intuition.",
            "VernacExtend",
            "70ca8450095fee6bc7cffdb4e807d4d9eeb178a1"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "left.",
            "VernacExtend",
            "06dad9fc5698018f3f1213205145fec906c612b1"
        ],
        [
            "apply in_app_iff.",
            "VernacExtend",
            "81904922d8d0dfcb81be591d156f4a951c7c90a7"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "apply in_app_iff.",
            "VernacExtend",
            "81904922d8d0dfcb81be591d156f4a951c7c90a7"
        ],
        [
            "left.",
            "VernacExtend",
            "06dad9fc5698018f3f1213205145fec906c612b1"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "rewrite map_map.",
            "VernacExtend",
            "ae8e13105f5289f0c1e44cbfa83eff3c6f47acee"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eexists; intuition; eauto.",
            "VernacExtend",
            "24dde320e2560337fb5661cd528d597e09d6a1bd"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "unfold write_ghost_log.",
            "VernacExtend",
            "f2fba3289501a7bd27ed15f2275028bbf9fd0bb5"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "find_apply_lem_hyp doGenericServer_log.",
            "VernacExtend",
            "27c4515d7bcb570cdae481102ce4302551a8628a"
        ],
        [
            "find_apply_lem_hyp doLeader_log.",
            "VernacExtend",
            "76f650d93218d41c7eeac3fcd3a759bb72f2b9a5"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "left.",
            "VernacExtend",
            "06dad9fc5698018f3f1213205145fec906c612b1"
        ],
        [
            "apply in_app_iff.",
            "VernacExtend",
            "81904922d8d0dfcb81be591d156f4a951c7c90a7"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "apply in_app_iff.",
            "VernacExtend",
            "81904922d8d0dfcb81be591d156f4a951c7c90a7"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "rewrite map_map.",
            "VernacExtend",
            "ae8e13105f5289f0c1e44cbfa83eff3c6f47acee"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eexists; intuition; eauto.",
            "VernacExtend",
            "24dde320e2560337fb5661cd528d597e09d6a1bd"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "unfold write_ghost_log.",
            "VernacExtend",
            "f2fba3289501a7bd27ed15f2275028bbf9fd0bb5"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "find_apply_lem_hyp doGenericServer_log.",
            "VernacExtend",
            "27c4515d7bcb570cdae481102ce4302551a8628a"
        ],
        [
            "find_apply_lem_hyp doLeader_log.",
            "VernacExtend",
            "76f650d93218d41c7eeac3fcd3a759bb72f2b9a5"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "rewrite map_map.",
            "VernacExtend",
            "ae8e13105f5289f0c1e44cbfa83eff3c6f47acee"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eexists; intuition; eauto.",
            "VernacExtend",
            "24dde320e2560337fb5661cd528d597e09d6a1bd"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "match goal with | [ H : nwPackets ?net = _ |- _ {| nwPackets := ?ps ; nwState := ?st |} ] => assert (forall p, In p (nwPackets {| nwPackets := ps ; nwState := st |}) -> In p (nwPackets net)) by (intros; simpl in *; find_rewrite; in_crush) end.",
            "VernacExtend",
            "b203337e62bf9558f309edf0764f029b73e5e0e4"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_state_same_packet_subset'; [|eauto|idtac|]; eauto.",
            "VernacExtend",
            "d476df4d1b9f7dc361ef268b95680cd25c94221f"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "match goal with | [ H : nwPackets ?net = _ |- _ {| nwPackets := ?ps ; nwState := ?st |} ] => assert (forall p, In p (nwPackets {| nwPackets := ps ; nwState := st |}) -> In p (nwPackets net)) by (intros; simpl in *; find_rewrite; in_crush) end.",
            "VernacExtend",
            "b203337e62bf9558f309edf0764f029b73e5e0e4"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_state_same_packet_subset'; [|eauto|idtac|]; eauto.",
            "VernacExtend",
            "d476df4d1b9f7dc361ef268b95680cd25c94221f"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_reboot'; eauto; intros; simpl in *; repeat break_if; intuition; subst; intuition eauto.",
            "VernacExtend",
            "221cd29e34e1ca885a61521688d34232488c146c"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "econstructor.",
            "VernacExtend",
            "57e0061dc596e77c9d30460f8165a53e99efafc2"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply StepFailure_reboot; eauto.",
            "VernacExtend",
            "95493612d74c5cabd6c4af1970de01095d1b9e50"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "destruct (nwState net h); auto.",
            "VernacExtend",
            "0924dafe1265c91aa66502654e679d7812e1fadf"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply msg_refined_raft_invariant_handle_input'; eauto.",
            "VernacExtend",
            "e0c825bd6caaa1eed1eebea83efd5800c57c6b92"
        ],
        [
            "eapply MRRIR_handleInput; eauto.",
            "VernacExtend",
            "51a99a8f91f9fee1f0c065fc90ec136d87fbd34c"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply msg_refined_raft_invariant_handle_message'; eauto.",
            "VernacExtend",
            "762b8920fcfdff6d21b25bb2da6d6a4f9a164773"
        ],
        [
            "eapply MRRIR_handleMessage; eauto.",
            "VernacExtend",
            "d1ea7c8a920bd6e0c86170e460817bf48910fa86"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_do_leader'; eauto.",
            "VernacExtend",
            "0cd0bd1a18946f2c5f50730e1ebc79aa177a5c9c"
        ],
        [
            "eapply MRRIR_doLeader; eauto.",
            "VernacExtend",
            "f7a36e7e2fe6a541c919b5cc69bb5d48b3365445"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply_prop msg_refined_raft_net_invariant_do_generic_server'; eauto.",
            "VernacExtend",
            "af13d7ad302c2fbfa230e9549d3142edcb69987a"
        ],
        [
            "eapply MRRIR_doGenericServer; eauto.",
            "VernacExtend",
            "edbb92ed187fc72586602018850f6657c8997352"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Ltac workhorse := try match goal with | [ |- mkNetwork _ _ = mkNetwork _ _ ] => f_equal end; try match goal with | [ |- (fun _ => _) = (fun _ => _) ] => apply functional_extensionality; intros end; repeat break_match; repeat match goal with | [ H : (_, _) = (_, _) |- _ ] => invc H end; repeat (simpl in *; subst); repeat rewrite map_app; repeat rewrite map_map.",
            "VernacExtend",
            "5d5f196c7ecb573c533187659abe6ea00711a1e0"
        ],
        [
            "Notation mgv_deghost := (@mgv_deghost _ _ ghost_log_params).",
            "VernacSyntacticDefinition",
            "a4ba74537ef07a966d98774ada802f489d2d36ce"
        ],
        [
            "Theorem simulation_1 : forall net, msg_refined_raft_intermediate_reachable net -> refined_raft_intermediate_reachable (mgv_deghost net).",
            "VernacStartTheoremProof",
            "600e58a2c4b0a17d9fb056763e692a49fe4b69c6"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "induction H.",
            "VernacExtend",
            "f8e74d6b42ecd6b509e6a20cee53bb69d051cd07"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "pose proof (RRIR_step_failure).",
            "VernacExtend",
            "94bd287bebca8ade46389082c92144e2cb54c06f"
        ],
        [
            "specialize (H1 failed (mgv_deghost net) failed' (mgv_deghost net') out).",
            "VernacExtend",
            "7d7917161ec5157e8fe9d5ee8f13ba1707c238da"
        ],
        [
            "apply H1; auto.",
            "VernacExtend",
            "57fc44af14fcaf3758941b68060efcbab0060c55"
        ],
        [
            "apply (@mgv_ghost_simulation_1 _ _ _ ghost_log_params); auto.",
            "VernacExtend",
            "da7f53e91f43c12928a9cdbc383a4f9554ab8e79"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold mgv_deghost in *.",
            "VernacExtend",
            "f6e7b5fd0a1ce2084a18c257fa2ead2369f9675a"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "eapply RRIR_handleInput; eauto.",
            "VernacExtend",
            "a9a3c6d122115422db8108c0326d46d65a49ddc5"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat break_match.",
            "VernacExtend",
            "d5be774ae50a104152bb83c7f71155bc3bfcc912"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat break_match; subst; simpl in *; repeat find_higher_order_rewrite; break_if; subst; simpl in *; congruence.",
            "VernacExtend",
            "6ab347f020d769e8fa63bf00ef18d1b9d41e5516"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "find_apply_hyp_hyp.",
            "VernacExtend",
            "5383dcfa01573f561f26c2e7f308613c889a9c8b"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "unfold add_ghost_msg in *.",
            "VernacExtend",
            "c17e022dbc3b7e21639c5147bde8915bd78a21cf"
        ],
        [
            "do_in_map.",
            "VernacExtend",
            "fa0be9321c6684e706bb9aefb585d66dc4eaa336"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold mgv_deghost in *.",
            "VernacExtend",
            "f6e7b5fd0a1ce2084a18c257fa2ead2369f9675a"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "pose proof (RRIR_handleMessage).",
            "VernacExtend",
            "24e1cbcf21830250c2143f335db804c06f077119"
        ],
        [
            "specialize (H5 (@mkPacket _ raft_refined_multi_params (pSrc p) (pDst p) (snd (pBody p)))).",
            "VernacExtend",
            "0cc161dea4ebdde1721449fbfc5f2a84a4333adb"
        ],
        [
            "eapply H5; eauto.",
            "VernacExtend",
            "86e549aa0d7e0dbe124d9cadae0c64709f8ebdd7"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat break_match.",
            "VernacExtend",
            "d5be774ae50a104152bb83c7f71155bc3bfcc912"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold mgv_refined_base_params, raft_refined_base_params, refined_base_params, raft_msg_refined_multi_params, raft_refined_multi_params in *.",
            "VernacExtend",
            "47805c1d0b60bdf003aa3c5ace4c95b7c7592d91"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold mgv_refined_base_params, raft_refined_base_params, refined_base_params, raft_msg_refined_multi_params, raft_refined_multi_params in *.",
            "VernacExtend",
            "47805c1d0b60bdf003aa3c5ace4c95b7c7592d91"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "map_crush.",
            "VernacExtend",
            "4aad5fc71845c0d145b2202da571e7783a963e0a"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_match.",
            "VernacExtend",
            "d5be774ae50a104152bb83c7f71155bc3bfcc912"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat find_higher_order_rewrite.",
            "VernacExtend",
            "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
        ],
        [
            "repeat break_match; congruence.",
            "VernacExtend",
            "a2bd0842a7176f30b2192033f4c9c76191aa562f"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "find_apply_hyp_hyp.",
            "VernacExtend",
            "5383dcfa01573f561f26c2e7f308613c889a9c8b"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "unfold add_ghost_msg in *.",
            "VernacExtend",
            "c17e022dbc3b7e21639c5147bde8915bd78a21cf"
        ],
        [
            "do_in_map.",
            "VernacExtend",
            "fa0be9321c6684e706bb9aefb585d66dc4eaa336"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold mgv_deghost in *.",
            "VernacExtend",
            "f6e7b5fd0a1ce2084a18c257fa2ead2369f9675a"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "eapply RRIR_doLeader; eauto.",
            "VernacExtend",
            "94986467b9e278ed12cbe5096d3e52299718321e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat break_match.",
            "VernacExtend",
            "d5be774ae50a104152bb83c7f71155bc3bfcc912"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_match; simpl in *; repeat find_higher_order_rewrite; repeat break_match; congruence.",
            "VernacExtend",
            "fbb4af98803163909f04e7936818e0b7564b3df2"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "find_apply_hyp_hyp.",
            "VernacExtend",
            "5383dcfa01573f561f26c2e7f308613c889a9c8b"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "unfold add_ghost_msg in *.",
            "VernacExtend",
            "c17e022dbc3b7e21639c5147bde8915bd78a21cf"
        ],
        [
            "do_in_map.",
            "VernacExtend",
            "fa0be9321c6684e706bb9aefb585d66dc4eaa336"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold mgv_deghost in *.",
            "VernacExtend",
            "f6e7b5fd0a1ce2084a18c257fa2ead2369f9675a"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "eapply RRIR_doGenericServer; eauto.",
            "VernacExtend",
            "28e3e3ad0317a7efceedfd8be633d26874bad6c8"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat break_match.",
            "VernacExtend",
            "d5be774ae50a104152bb83c7f71155bc3bfcc912"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_match; simpl in *; repeat find_higher_order_rewrite; repeat break_match; congruence.",
            "VernacExtend",
            "fbb4af98803163909f04e7936818e0b7564b3df2"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "find_apply_hyp_hyp.",
            "VernacExtend",
            "5383dcfa01573f561f26c2e7f308613c889a9c8b"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "unfold add_ghost_msg in *.",
            "VernacExtend",
            "c17e022dbc3b7e21639c5147bde8915bd78a21cf"
        ],
        [
            "do_in_map.",
            "VernacExtend",
            "fa0be9321c6684e706bb9aefb585d66dc4eaa336"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem msg_lift_prop : forall P, (forall net, refined_raft_intermediate_reachable net -> P net) -> (forall net, msg_refined_raft_intermediate_reachable net -> P (mgv_deghost net)).",
            "VernacStartTheoremProof",
            "75812e47a4e1c568c346f37f241c074064c26887"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "eauto using simulation_1.",
            "VernacExtend",
            "49c66cac00b478f8d74fac43077239326921cd1c"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma step_failure_star_raft_intermediate_reachable_extend : forall f net f' net' tr, @step_failure_star _ _ raft_msg_refined_failure_params (f, net) (f', net') tr -> msg_refined_raft_intermediate_reachable net -> msg_refined_raft_intermediate_reachable net'.",
            "VernacStartTheoremProof",
            "ed2a2568571236e029358263c8aee85142dba236"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "prep_induction H.",
            "VernacExtend",
            "ee688f910d8a02ffb57911d001783b118ade1bb9"
        ],
        [
            "induction H using refl_trans_1n_trace_n1_ind; intros; subst.",
            "VernacExtend",
            "b0ab46ae0627b2bd774cca67d2e38aba7a27e887"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "find_inversion.",
            "VernacExtend",
            "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct x'.",
            "VernacExtend",
            "1df63c4740d5dec72d1159d696a7a1c72ec02064"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "eapply MRRIR_step_failure; [|eauto].",
            "VernacExtend",
            "8366e0645e1326a063af1f796b6a163b2ebc9113"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma map_subset : forall A B (f : A -> B) l l', (forall x, In x (map f l') -> In x (map f l)) -> exists l'', map f l' = map f l'' /\\ (forall x, In x l'' -> In x l).",
            "VernacStartTheoremProof",
            "662782c69acb067c971f3136300751b67f9ceff9"
        ],
        [
            "induction l'; simpl; intros.",
            "VernacExtend",
            "05657438a40d7bb15a55f35a06d9ff28807679db"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exists nil.",
            "VernacExtend",
            "847d8d4ad29a6619a1a271a81b4b6128a169751f"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "assert (exists x, In x l /\\ f x = f a).",
            "VernacExtend",
            "f6f547c4261f844411f877c89644af99504f2f8b"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "specialize (H (f a)).",
            "VernacExtend",
            "c1a47f1895fbd705f5461fa79e654d9be166896f"
        ],
        [
            "concludes.",
            "VernacExtend",
            "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
        ],
        [
            "find_apply_lem_hyp in_map_iff.",
            "VernacExtend",
            "728214dc1d210228f19c6e0cf076caae51b1390f"
        ],
        [
            "firstorder.",
            "VernacExtend",
            "ceb9f57e98a5f5a73ee421cf30fd2f4f09432d14"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "specialize (IHl' ltac:(intuition)).",
            "VernacExtend",
            "3fc6220abb423a8df7b307522dd651d867471a40"
        ],
        [
            "repeat break_exists.",
            "VernacExtend",
            "5b12f8f22098d8e2080123fb0f2900df77524d10"
        ],
        [
            "break_and.",
            "VernacExtend",
            "90a213dc7b4fc55cb8bc34300101c3eaa0ead551"
        ],
        [
            "exists (x :: x0).",
            "VernacExtend",
            "55c82127fcea99f74127c09c93c94122c6a7c857"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intuition; congruence.",
            "VernacExtend",
            "6ac0574eda77d75a5f7ee1e6450d3c422520ce0d"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma mgv_deghost_packet_mgv_ghost_packet_partial_inverses : forall p, (@mgv_deghost_packet _ _ ghost_log_params (mgv_ghost_packet p)) = p.",
            "VernacStartTheoremProof",
            "e6bbf044b9ba9b2dc96a0083663939ec7225aa85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold mgv_deghost_packet, mgv_ghost_packet.",
            "VernacExtend",
            "c3cf29649653e335329e73f2b31ce380cdd194cd"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "destruct p; auto.",
            "VernacExtend",
            "94280b3a49c08b76852fac1fca3c7461587f918a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem simulation_2 : forall net, refined_raft_intermediate_reachable net -> exists rnet, net = mgv_deghost rnet /\\ msg_refined_raft_intermediate_reachable rnet.",
            "VernacStartTheoremProof",
            "e6fe3ceb5136b81c81f199709d8c10aeb5f3eff9"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "induction H.",
            "VernacExtend",
            "f8e74d6b42ecd6b509e6a20cee53bb69d051cd07"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exists (mgv_reghost step_async_init).",
            "VernacExtend",
            "0cfd51dbaeb3bb2131074aed34e08c772e837c91"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "unfold mgv_reghost.",
            "VernacExtend",
            "76a38b5c04109d16f7c3d02c9a57f2346967a0b2"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "break_and.",
            "VernacExtend",
            "90a213dc7b4fc55cb8bc34300101c3eaa0ead551"
        ],
        [
            "apply mgv_ghost_simulation_2 with (gnet := x) in H0; auto.",
            "VernacExtend",
            "7d9cd2623c4d430378ea5d375aea3f56856f25b4"
        ],
        [
            "repeat (break_exists; intuition).",
            "VernacExtend",
            "2cc42c1342c6152e7a91051cdb9d43327159dea1"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "exists x0.",
            "VernacExtend",
            "9cf0657053433e90b28a795544f893f4a0f1ace3"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "eapply MRRIR_step_failure; eauto.",
            "VernacExtend",
            "6b6f99a1fc009443b1ab56deece429c2ebba0d1c"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "break_and.",
            "VernacExtend",
            "90a213dc7b4fc55cb8bc34300101c3eaa0ead551"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "assert (msg_refined_raft_intermediate_reachable ({| nwPackets := (nwPackets x) ++ (@send_packets _ raft_msg_refined_multi_params h (@add_ghost_msg _ _ ghost_log_params h (update_elections_data_input h inp (nwState (mgv_deghost x) h), d) l)); nwState := st' |})) by (unfold mgv_deghost in *; repeat break_match; simpl in *; eapply MRRIR_handleInput; repeat break_match; simpl in *; eauto; simpl in *; in_crush).",
            "VernacExtend",
            "b2b8ce4d9a2574e8162758db586e2340580a2b4a"
        ],
        [
            "pose proof map_subset _ _ mgv_deghost_packet (nwPackets x ++ @send_packets _ raft_msg_refined_multi_params h (@add_ghost_msg _ _ ghost_log_params h (update_elections_data_input h inp (nwState (mgv_deghost x) h), d) l)) (map mgv_ghost_packet ps').",
            "VernacExtend",
            "384440015da758b8b799d197b566059cf03babf7"
        ],
        [
            "forwards.",
            "VernacExtend",
            "8d9221f67637e10ec9def7558fd300c63433dc72"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "rewrite map_map in *.",
            "VernacExtend",
            "aecd10b153d65a2fbf3863c90e80d9d88a41961e"
        ],
        [
            "do_in_map.",
            "VernacExtend",
            "fa0be9321c6684e706bb9aefb585d66dc4eaa336"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "unfold mgv_deghost_packet.",
            "VernacExtend",
            "733d63cb959058d92c6d1777f14ac74dd2ce6db5"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "find_apply_hyp_hyp.",
            "VernacExtend",
            "5383dcfa01573f561f26c2e7f308613c889a9c8b"
        ],
        [
            "rewrite map_app.",
            "VernacExtend",
            "89eca143edf6436bb079a40b9fedf852073d1711"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "unfold add_ghost_msg.",
            "VernacExtend",
            "52f57e62e228084b212282dfe4baa7ab3e67a1f4"
        ],
        [
            "repeat rewrite map_map.",
            "VernacExtend",
            "6397a4a7eaae25ec9feb2125289f70c2e88a3940"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "concludes.",
            "VernacExtend",
            "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
        ],
        [
            "break_exists_name dps'.",
            "VernacExtend",
            "43d6be4399f12bb60bcf9e9e8c19bc4408ba197d"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "exists {| nwPackets := dps'; nwState := st' |}.",
            "VernacExtend",
            "429b7d56704859fcb17b0601a522f7e6eddc72a2"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite map_map in H7.",
            "VernacExtend",
            "475ef90f952bdf598d9749e8e737d7ecb1673604"
        ],
        [
            "rewrite map_ext with (g := id) in H7; eauto using mgv_deghost_packet_mgv_ghost_packet_partial_inverses.",
            "VernacExtend",
            "f31bd9a7a4fce78dc026ec0b31c5a31cd559fb30"
        ],
        [
            "rewrite map_id in *.",
            "VernacExtend",
            "4c37b9aa0344e83806b351ae1cd25212c31bd6f8"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "unfold mgv_deghost.",
            "VernacExtend",
            "ef40f40e8f79d5522712ecc4af3bcd09d43bc4d7"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "eapply step_failure_star_raft_intermediate_reachable_extend with (f := []); eauto using step_failure_dup_drop_step.",
            "VernacExtend",
            "7280f94958e19e291acfac61b9f010f468bd51a4"
        ],
        [
            "eapply step_failure_dup_drop_step.",
            "VernacExtend",
            "e56f306277503566204184b38235c37df77d0039"
        ],
        [
            "apply dup_drop_reorder; auto.",
            "VernacExtend",
            "04d8705a982c8c8a9a1af8bae3123ea5554a51bd"
        ],
        [
            "auto using packet_eq_dec.",
            "VernacExtend",
            "e83386807c968678d5699925a1ab5d3d1f8f41fd"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "break_and.",
            "VernacExtend",
            "90a213dc7b4fc55cb8bc34300101c3eaa0ead551"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "unfold mgv_deghost in *.",
            "VernacExtend",
            "f6e7b5fd0a1ce2084a18c257fa2ead2369f9675a"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "find_apply_lem_hyp map_partition.",
            "VernacExtend",
            "f019914829ff289de8d573f21cfc5289cb3074d5"
        ],
        [
            "break_exists_name xs'.",
            "VernacExtend",
            "1a58a125b7bee8960006f0aefa3fb281625c8186"
        ],
        [
            "break_exists_name p'.",
            "VernacExtend",
            "b7ad6e0a3a09852f2b6c80636e91e60cfa83b0bf"
        ],
        [
            "break_exists_name ys'.",
            "VernacExtend",
            "415147592cd9ef83ac6d180b3c85637795766b14"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat break_match.",
            "VernacExtend",
            "d5be774ae50a104152bb83c7f71155bc3bfcc912"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "assert (msg_refined_raft_intermediate_reachable ({| nwPackets := (xs' ++ ys') ++ (@send_packets _ raft_msg_refined_multi_params (pDst p') (@add_ghost_msg _ _ ghost_log_params (pDst p') (update_elections_data_net (pDst p') (pSrc p') (snd (pBody p')) (nwState (pDst p')), d) l)); nwState := st' |})).",
            "VernacExtend",
            "68c79f6a742d4dc52d8b40a7eea602089ff77847"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "unfold mgv_deghost in *; repeat break_match; simpl in *.",
            "VernacExtend",
            "0ccf9486865148fa0d6b3fa6fd78b569bd9fa340"
        ],
        [
            "eapply MRRIR_handleMessage.",
            "VernacExtend",
            "d56676fe9f7bd1f7283e668cf67871545a551753"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "simpl in *; in_crush.",
            "VernacExtend",
            "98049efff678372ac60e0c65ab8d782d53898514"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "pose proof map_subset _ _ mgv_deghost_packet ((xs' ++ ys') ++ @send_packets _ raft_msg_refined_multi_params (pDst p') (@add_ghost_msg _ _ ghost_log_params (pDst p') (update_elections_data_net (pDst p') (pSrc p') (snd (pBody p')) (nwState (pDst p')), d) l)) (map mgv_ghost_packet ps').",
            "VernacExtend",
            "e73e33ebfecc3d5ab85d2b391421dcc0e2acb845"
        ],
        [
            "forwards.",
            "VernacExtend",
            "8d9221f67637e10ec9def7558fd300c63433dc72"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "rewrite map_map in *.",
            "VernacExtend",
            "aecd10b153d65a2fbf3863c90e80d9d88a41961e"
        ],
        [
            "do_in_map.",
            "VernacExtend",
            "fa0be9321c6684e706bb9aefb585d66dc4eaa336"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "unfold mgv_deghost_packet.",
            "VernacExtend",
            "733d63cb959058d92c6d1777f14ac74dd2ce6db5"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "find_apply_hyp_hyp.",
            "VernacExtend",
            "5383dcfa01573f561f26c2e7f308613c889a9c8b"
        ],
        [
            "rewrite map_app.",
            "VernacExtend",
            "89eca143edf6436bb079a40b9fedf852073d1711"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "left.",
            "VernacExtend",
            "06dad9fc5698018f3f1213205145fec906c612b1"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eexists; intuition; eauto.",
            "VernacExtend",
            "24dde320e2560337fb5661cd528d597e09d6a1bd"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "left.",
            "VernacExtend",
            "06dad9fc5698018f3f1213205145fec906c612b1"
        ],
        [
            "apply in_map_iff.",
            "VernacExtend",
            "b128e1e6f601182342113d742a28792f5aaec52c"
        ],
        [
            "eexists; intuition; eauto.",
            "VernacExtend",
            "24dde320e2560337fb5661cd528d597e09d6a1bd"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "unfold add_ghost_msg.",
            "VernacExtend",
            "52f57e62e228084b212282dfe4baa7ab3e67a1f4"
        ],
        [
            "repeat rewrite map_map.",
            "VernacExtend",
            "6397a4a7eaae25ec9feb2125289f70c2e88a3940"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "concludes.",
            "VernacExtend",
            "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
        ],
        [
            "break_exists_name dps'.",
            "VernacExtend",
            "43d6be4399f12bb60bcf9e9e8c19bc4408ba197d"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "exists {| nwPackets := dps'; nwState := st' |}.",
            "VernacExtend",
            "429b7d56704859fcb17b0601a522f7e6eddc72a2"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite map_map in H7.",
            "VernacExtend",
            "475ef90f952bdf598d9749e8e737d7ecb1673604"
        ],
        [
            "rewrite map_ext with (g := id) in H7; eauto using mgv_deghost_packet_mgv_ghost_packet_partial_inverses.",
            "VernacExtend",
            "f31bd9a7a4fce78dc026ec0b31c5a31cd559fb30"
        ],
        [
            "rewrite map_id in *.",
            "VernacExtend",
            "4c37b9aa0344e83806b351ae1cd25212c31bd6f8"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "unfold mgv_deghost.",
            "VernacExtend",
            "ef40f40e8f79d5522712ecc4af3bcd09d43bc4d7"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "eapply step_failure_star_raft_intermediate_reachable_extend with (f := []); eauto using step_failure_dup_drop_step.",
            "VernacExtend",
            "7280f94958e19e291acfac61b9f010f468bd51a4"
        ],
        [
            "eapply step_failure_dup_drop_step.",
            "VernacExtend",
            "e56f306277503566204184b38235c37df77d0039"
        ],
        [
            "apply dup_drop_reorder; auto.",
            "VernacExtend",
            "04d8705a982c8c8a9a1af8bae3123ea5554a51bd"
        ],
        [
            "auto using packet_eq_dec.",
            "VernacExtend",
            "e83386807c968678d5699925a1ab5d3d1f8f41fd"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "break_and.",
            "VernacExtend",
            "90a213dc7b4fc55cb8bc34300101c3eaa0ead551"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "assert (msg_refined_raft_intermediate_reachable ({| nwPackets := (nwPackets x) ++ (@send_packets _ raft_msg_refined_multi_params h (@add_ghost_msg _ _ ghost_log_params h (gd, d') ms)); nwState := st' |})).",
            "VernacExtend",
            "6143ec0f3756bb5c126051e281045c169486d3ef"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "unfold mgv_deghost in *; repeat break_match; simpl in *.",
            "VernacExtend",
            "0ccf9486865148fa0d6b3fa6fd78b569bd9fa340"
        ],
        [
            "eapply MRRIR_doLeader; repeat break_match; simpl in *; eauto; simpl in *; in_crush.",
            "VernacExtend",
            "6f912ae84662e092a588b2dca7943b44280c6829"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "pose proof map_subset _ _ mgv_deghost_packet (nwPackets x ++ @send_packets _ raft_msg_refined_multi_params h (@add_ghost_msg _ _ ghost_log_params h (gd, d') ms)) (map mgv_ghost_packet ps').",
            "VernacExtend",
            "a796ce5343d90dee21643bf345791976c6b0ef32"
        ],
        [
            "forwards.",
            "VernacExtend",
            "8d9221f67637e10ec9def7558fd300c63433dc72"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "rewrite map_map in *.",
            "VernacExtend",
            "aecd10b153d65a2fbf3863c90e80d9d88a41961e"
        ],
        [
            "do_in_map.",
            "VernacExtend",
            "fa0be9321c6684e706bb9aefb585d66dc4eaa336"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "unfold mgv_deghost_packet.",
            "VernacExtend",
            "733d63cb959058d92c6d1777f14ac74dd2ce6db5"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "find_apply_hyp_hyp.",
            "VernacExtend",
            "5383dcfa01573f561f26c2e7f308613c889a9c8b"
        ],
        [
            "rewrite map_app.",
            "VernacExtend",
            "89eca143edf6436bb079a40b9fedf852073d1711"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "unfold add_ghost_msg.",
            "VernacExtend",
            "52f57e62e228084b212282dfe4baa7ab3e67a1f4"
        ],
        [
            "repeat rewrite map_map.",
            "VernacExtend",
            "6397a4a7eaae25ec9feb2125289f70c2e88a3940"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "concludes.",
            "VernacExtend",
            "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
        ],
        [
            "break_exists_name dps'.",
            "VernacExtend",
            "43d6be4399f12bb60bcf9e9e8c19bc4408ba197d"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "exists {| nwPackets := dps'; nwState := st' |}.",
            "VernacExtend",
            "429b7d56704859fcb17b0601a522f7e6eddc72a2"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite map_map in H8.",
            "VernacExtend",
            "2bd944a28f9999244cb9683b579cbfacb5f9d41f"
        ],
        [
            "rewrite map_ext with (g := id) in H8; eauto using mgv_deghost_packet_mgv_ghost_packet_partial_inverses.",
            "VernacExtend",
            "4de9ec37d718d6002e0b5820c5afe1b10ed23771"
        ],
        [
            "rewrite map_id in *.",
            "VernacExtend",
            "4c37b9aa0344e83806b351ae1cd25212c31bd6f8"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "unfold mgv_deghost.",
            "VernacExtend",
            "ef40f40e8f79d5522712ecc4af3bcd09d43bc4d7"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "eapply step_failure_star_raft_intermediate_reachable_extend with (f := []); eauto using step_failure_dup_drop_step.",
            "VernacExtend",
            "7280f94958e19e291acfac61b9f010f468bd51a4"
        ],
        [
            "eapply step_failure_dup_drop_step.",
            "VernacExtend",
            "e56f306277503566204184b38235c37df77d0039"
        ],
        [
            "apply dup_drop_reorder; auto.",
            "VernacExtend",
            "04d8705a982c8c8a9a1af8bae3123ea5554a51bd"
        ],
        [
            "auto using packet_eq_dec.",
            "VernacExtend",
            "e83386807c968678d5699925a1ab5d3d1f8f41fd"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "break_and.",
            "VernacExtend",
            "90a213dc7b4fc55cb8bc34300101c3eaa0ead551"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "assert (msg_refined_raft_intermediate_reachable ({| nwPackets := (nwPackets x) ++ (@send_packets _ raft_msg_refined_multi_params h (@add_ghost_msg _ _ ghost_log_params h (gd, d') ms)); nwState := st' |})).",
            "VernacExtend",
            "6143ec0f3756bb5c126051e281045c169486d3ef"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "unfold mgv_deghost in *; repeat break_match; simpl in *.",
            "VernacExtend",
            "0ccf9486865148fa0d6b3fa6fd78b569bd9fa340"
        ],
        [
            "eapply MRRIR_doGenericServer; repeat break_match; simpl in *; eauto; simpl in *; in_crush.",
            "VernacExtend",
            "6a8e138f4af214281c9a20233b59ba01295936a3"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "pose proof map_subset _ _ mgv_deghost_packet (nwPackets x ++ @send_packets _ raft_msg_refined_multi_params h (@add_ghost_msg _ _ ghost_log_params h (gd, d') ms)) (map mgv_ghost_packet ps').",
            "VernacExtend",
            "a796ce5343d90dee21643bf345791976c6b0ef32"
        ],
        [
            "forwards.",
            "VernacExtend",
            "8d9221f67637e10ec9def7558fd300c63433dc72"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "rewrite map_map in *.",
            "VernacExtend",
            "aecd10b153d65a2fbf3863c90e80d9d88a41961e"
        ],
        [
            "do_in_map.",
            "VernacExtend",
            "fa0be9321c6684e706bb9aefb585d66dc4eaa336"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "unfold mgv_deghost_packet.",
            "VernacExtend",
            "733d63cb959058d92c6d1777f14ac74dd2ce6db5"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "find_apply_hyp_hyp.",
            "VernacExtend",
            "5383dcfa01573f561f26c2e7f308613c889a9c8b"
        ],
        [
            "rewrite map_app.",
            "VernacExtend",
            "89eca143edf6436bb079a40b9fedf852073d1711"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "unfold add_ghost_msg.",
            "VernacExtend",
            "52f57e62e228084b212282dfe4baa7ab3e67a1f4"
        ],
        [
            "repeat rewrite map_map.",
            "VernacExtend",
            "6397a4a7eaae25ec9feb2125289f70c2e88a3940"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "right.",
            "VernacExtend",
            "27e417a3497755767e1a1d6ba87753ecddaee6b7"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "concludes.",
            "VernacExtend",
            "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
        ],
        [
            "break_exists_name dps'.",
            "VernacExtend",
            "43d6be4399f12bb60bcf9e9e8c19bc4408ba197d"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "exists {| nwPackets := dps'; nwState := st' |}.",
            "VernacExtend",
            "429b7d56704859fcb17b0601a522f7e6eddc72a2"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite map_map in H8.",
            "VernacExtend",
            "2bd944a28f9999244cb9683b579cbfacb5f9d41f"
        ],
        [
            "rewrite map_ext with (g := id) in H8; eauto using mgv_deghost_packet_mgv_ghost_packet_partial_inverses.",
            "VernacExtend",
            "4de9ec37d718d6002e0b5820c5afe1b10ed23771"
        ],
        [
            "rewrite map_id in *.",
            "VernacExtend",
            "4c37b9aa0344e83806b351ae1cd25212c31bd6f8"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "unfold mgv_deghost.",
            "VernacExtend",
            "ef40f40e8f79d5522712ecc4af3bcd09d43bc4d7"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "eapply step_failure_star_raft_intermediate_reachable_extend with (f := []); eauto using step_failure_dup_drop_step.",
            "VernacExtend",
            "7280f94958e19e291acfac61b9f010f468bd51a4"
        ],
        [
            "eapply step_failure_dup_drop_step.",
            "VernacExtend",
            "e56f306277503566204184b38235c37df77d0039"
        ],
        [
            "apply dup_drop_reorder; auto.",
            "VernacExtend",
            "04d8705a982c8c8a9a1af8bae3123ea5554a51bd"
        ],
        [
            "auto using packet_eq_dec.",
            "VernacExtend",
            "e83386807c968678d5699925a1ab5d3d1f8f41fd"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem msg_lower_prop : forall P : _ -> Prop, (forall net, msg_refined_raft_intermediate_reachable net -> P (mgv_deghost net)) -> (forall net, refined_raft_intermediate_reachable net -> P net).",
            "VernacStartTheoremProof",
            "00a35d8938078cfdad06a4a8cb36f9f61e0db024"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "find_apply_lem_hyp simulation_2.",
            "VernacExtend",
            "4c9901284376c0b97be88297baf5d9e749f7c7f9"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma deghost_spec : forall (net : @network _ raft_msg_refined_multi_params) h, nwState (mgv_deghost net) h = (nwState net h).",
            "VernacStartTheoremProof",
            "852913cbfa1d576f840dff674e94d24c29ddd8cf"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "destruct net; auto.",
            "VernacExtend",
            "ae9c5d948524fdf6baa17927b80051c983b1b108"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Context {rri : raft_refinement_interface}.",
            "VernacContext",
            "34acb9bc0df96db7775fdb1297478e309d48058c"
        ],
        [
            "Theorem lift_prop_all_the_way : forall (P : _ -> Prop), (forall net, raft_intermediate_reachable net -> P net) -> (forall (net : @network _ raft_msg_refined_multi_params), msg_refined_raft_intermediate_reachable net -> P (deghost (mgv_deghost net))).",
            "VernacStartTheoremProof",
            "5cdf8a4ce666848dcb6387d0fb8932ff35e5deef"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "find_eapply_lem_hyp msg_lift_prop; eauto.",
            "VernacExtend",
            "d3446e31fa4258a1e2ffca042ff71104923b418b"
        ],
        [
            "find_eapply_lem_hyp lift_prop; eauto.",
            "VernacExtend",
            "efd5290617f78ee31d81e8ca8eaaec2f76d9872f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem lower_prop_all_the_way : forall P : _ -> Prop, (forall (net : @network _ raft_msg_refined_multi_params), msg_refined_raft_intermediate_reachable net -> P (deghost (mgv_deghost net))) -> (forall net, raft_intermediate_reachable net -> P net).",
            "VernacStartTheoremProof",
            "03d65a0d2da5900e40d27f56fcf3c060a18a2389"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "eapply lower_prop; eauto.",
            "VernacExtend",
            "da6d2395c2558a93d796f58b5d8178043494de73"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "pose proof msg_lower_prop (fun n => P (deghost n)).",
            "VernacExtend",
            "1fa82efdd14aa988d47dde6d5cb89f33bab9e1c2"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Instance rmri : raft_msg_refinement_interface.",
            "VernacInstance",
            "0ab8687e3716ae41487809bc0b06c620028e428c"
        ],
        [
            "split.",
            "VernacExtend",
            "55abc140132bd88981001ac656020469a8d503eb"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exact msg_refined_raft_net_invariant.",
            "VernacExtend",
            "4187e0950495dd69ab4b8257caf2614854cc1afd"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exact msg_refined_raft_net_invariant'.",
            "VernacExtend",
            "6eedf1a8a6ac15d2f4b3d9ab433614042f5edda4"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exact msg_lift_prop.",
            "VernacExtend",
            "5f10f71ef19848c0cbc4d21ee43370ee722df189"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exact lift_prop_all_the_way.",
            "VernacExtend",
            "fb0f2815fadd7c20a7c9bdb94971587534290dff"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exact msg_lower_prop.",
            "VernacExtend",
            "9dc458896a8bfaf7ac28190adea79ffc598f1944"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exact lower_prop_all_the_way.",
            "VernacExtend",
            "9dd04b47e7be5f511bdb68038a9d86e2122b2982"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exact deghost_spec.",
            "VernacExtend",
            "efb3078118fc244de5b00bd7bdd69a657b61e501"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exact simulation_1.",
            "VernacExtend",
            "ca2cca4b9f17e2a71f92627e386b725035ccb651"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End RaftMsgRefinement.",
            "VernacEndSegment",
            "9709c852525ea18b7e14b72fc4da558ea8353e57"
        ]
    ],
    "proofs": [
        {
            "name": "msg_refined_raft_invariant_handle_message",
            "line_nb": 11,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold handleMessage, update_elections_data_net in *.",
                        "VernacExtend",
                        "88bb13b05f157d6a10493295ff8a05cedba123d6"
                    ]
                },
                {
                    "command": [
                        "break_match; repeat break_let; repeat find_inversion; [eapply_prop msg_refined_raft_net_invariant_request_vote| eapply_prop msg_refined_raft_net_invariant_request_vote_reply| eapply_prop msg_refined_raft_net_invariant_append_entries| eapply_prop msg_refined_raft_net_invariant_append_entries_reply]; eauto; unfold send_packets in *; simpl in *; intros; subst; auto; find_apply_hyp_hyp; intuition.",
                        "VernacExtend",
                        "fd4cc0021e16fbe9b46cafbfef9ea997f2807629"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "msg_refined_raft_invariant_handle_input",
            "line_nb": 16,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold handleInput, update_elections_data_input in *.",
                        "VernacExtend",
                        "c55819732db0480dd822b70c2652720fcd3d782b"
                    ]
                },
                {
                    "command": [
                        "break_match; repeat break_let; repeat find_inversion; [eapply_prop msg_refined_raft_net_invariant_timeout| eapply_prop msg_refined_raft_net_invariant_client_request]; eauto; subst; auto.",
                        "VernacExtend",
                        "ec28434a084aef616c614683e9a1b15f89531348"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "msg_refined_raft_invariant_handle_message'",
            "line_nb": 236,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold handleMessage, update_elections_data_net in *.",
                        "VernacExtend",
                        "88bb13b05f157d6a10493295ff8a05cedba123d6"
                    ]
                },
                {
                    "command": [
                        "break_match; repeat break_let; repeat find_inversion; [eapply_prop msg_refined_raft_net_invariant_request_vote'| eapply_prop msg_refined_raft_net_invariant_request_vote_reply'| eapply_prop msg_refined_raft_net_invariant_append_entries'| eapply_prop msg_refined_raft_net_invariant_append_entries_reply']; eauto; unfold send_packets in *; simpl in *; intros; subst; auto; find_apply_hyp_hyp; intuition.",
                        "VernacExtend",
                        "d63d9e32f9ba50a7ab73c30392fd3a4da6d68081"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "msg_refined_raft_invariant_handle_input'",
            "line_nb": 241,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold handleInput, update_elections_data_input in *.",
                        "VernacExtend",
                        "c55819732db0480dd822b70c2652720fcd3d782b"
                    ]
                },
                {
                    "command": [
                        "break_match; repeat break_let; repeat find_inversion; [eapply_prop msg_refined_raft_net_invariant_timeout'| eapply_prop msg_refined_raft_net_invariant_client_request']; eauto; subst; auto.",
                        "VernacExtend",
                        "193f5f0bc4065805f09c2a6c3cd93c3ed7d281c4"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "msg_lift_prop",
            "line_nb": 592,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "eauto using simulation_1.",
                        "VernacExtend",
                        "49c66cac00b478f8d74fac43077239326921cd1c"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "step_failure_star_raft_intermediate_reachable_extend",
            "line_nb": 596,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "prep_induction H.",
                        "VernacExtend",
                        "ee688f910d8a02ffb57911d001783b118ade1bb9"
                    ]
                },
                {
                    "command": [
                        "induction H using refl_trans_1n_trace_n1_ind; intros; subst.",
                        "VernacExtend",
                        "b0ab46ae0627b2bd774cca67d2e38aba7a27e887"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "find_inversion.",
                        "VernacExtend",
                        "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "destruct x'.",
                        "VernacExtend",
                        "1df63c4740d5dec72d1159d696a7a1c72ec02064"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "eapply MRRIR_step_failure; [|eauto].",
                        "VernacExtend",
                        "8366e0645e1326a063af1f796b6a163b2ebc9113"
                    ]
                },
                {
                    "command": [
                        "eauto.",
                        "VernacExtend",
                        "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "map_subset",
            "line_nb": 609,
            "steps": [
                {
                    "command": [
                        "induction l'; simpl; intros.",
                        "VernacExtend",
                        "05657438a40d7bb15a55f35a06d9ff28807679db"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "exists nil.",
                        "VernacExtend",
                        "847d8d4ad29a6619a1a271a81b4b6128a169751f"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "assert (exists x, In x l /\\ f x = f a).",
                        "VernacExtend",
                        "f6f547c4261f844411f877c89644af99504f2f8b"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "specialize (H (f a)).",
                        "VernacExtend",
                        "c1a47f1895fbd705f5461fa79e654d9be166896f"
                    ]
                },
                {
                    "command": [
                        "concludes.",
                        "VernacExtend",
                        "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
                    ]
                },
                {
                    "command": [
                        "find_apply_lem_hyp in_map_iff.",
                        "VernacExtend",
                        "728214dc1d210228f19c6e0cf076caae51b1390f"
                    ]
                },
                {
                    "command": [
                        "firstorder.",
                        "VernacExtend",
                        "ceb9f57e98a5f5a73ee421cf30fd2f4f09432d14"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "specialize (IHl' ltac:(intuition)).",
                        "VernacExtend",
                        "3fc6220abb423a8df7b307522dd651d867471a40"
                    ]
                },
                {
                    "command": [
                        "repeat break_exists.",
                        "VernacExtend",
                        "5b12f8f22098d8e2080123fb0f2900df77524d10"
                    ]
                },
                {
                    "command": [
                        "break_and.",
                        "VernacExtend",
                        "90a213dc7b4fc55cb8bc34300101c3eaa0ead551"
                    ]
                },
                {
                    "command": [
                        "exists (x :: x0).",
                        "VernacExtend",
                        "55c82127fcea99f74127c09c93c94122c6a7c857"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "intuition; congruence.",
                        "VernacExtend",
                        "6ac0574eda77d75a5f7ee1e6450d3c422520ce0d"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "mgv_deghost_packet_mgv_ghost_packet_partial_inverses",
            "line_nb": 630,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold mgv_deghost_packet, mgv_ghost_packet.",
                        "VernacExtend",
                        "c3cf29649653e335329e73f2b31ce380cdd194cd"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "destruct p; auto.",
                        "VernacExtend",
                        "94280b3a49c08b76852fac1fca3c7461587f918a"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "msg_lower_prop",
            "line_nb": 862,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "find_apply_lem_hyp simulation_2.",
                        "VernacExtend",
                        "4c9901284376c0b97be88297baf5d9e749f7c7f9"
                    ]
                },
                {
                    "command": [
                        "break_exists.",
                        "VernacExtend",
                        "7914403b406cb602431a8c9ec3a15a70b4d83870"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "subst.",
                        "VernacExtend",
                        "ccc9cb848804101be22a0bb6c324861981c5c7f1"
                    ]
                },
                {
                    "command": [
                        "eauto.",
                        "VernacExtend",
                        "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "deghost_spec",
            "line_nb": 870,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "destruct net; auto.",
                        "VernacExtend",
                        "ae9c5d948524fdf6baa17927b80051c983b1b108"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "lift_prop_all_the_way",
            "line_nb": 875,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "find_eapply_lem_hyp msg_lift_prop; eauto.",
                        "VernacExtend",
                        "d3446e31fa4258a1e2ffca042ff71104923b418b"
                    ]
                },
                {
                    "command": [
                        "find_eapply_lem_hyp lift_prop; eauto.",
                        "VernacExtend",
                        "efd5290617f78ee31d81e8ca8eaaec2f76d9872f"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "lower_prop_all_the_way",
            "line_nb": 880,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "eapply lower_prop; eauto.",
                        "VernacExtend",
                        "da6d2395c2558a93d796f58b5d8178043494de73"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "pose proof msg_lower_prop (fun n => P (deghost n)).",
                        "VernacExtend",
                        "1fa82efdd14aa988d47dde6d5cb89f33bab9e1c2"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "eauto.",
                        "VernacExtend",
                        "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "rmri",
            "line_nb": 888,
            "steps": [
                {
                    "command": [
                        "split.",
                        "VernacExtend",
                        "55abc140132bd88981001ac656020469a8d503eb"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "exact msg_refined_raft_net_invariant.",
                        "VernacExtend",
                        "4187e0950495dd69ab4b8257caf2614854cc1afd"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "exact msg_refined_raft_net_invariant'.",
                        "VernacExtend",
                        "6eedf1a8a6ac15d2f4b3d9ab433614042f5edda4"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "exact msg_lift_prop.",
                        "VernacExtend",
                        "5f10f71ef19848c0cbc4d21ee43370ee722df189"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "exact lift_prop_all_the_way.",
                        "VernacExtend",
                        "fb0f2815fadd7c20a7c9bdb94971587534290dff"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "exact msg_lower_prop.",
                        "VernacExtend",
                        "9dc458896a8bfaf7ac28190adea79ffc598f1944"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "exact lower_prop_all_the_way.",
                        "VernacExtend",
                        "9dd04b47e7be5f511bdb68038a9d86e2122b2982"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "exact deghost_spec.",
                        "VernacExtend",
                        "efb3078118fc244de5b00bd7bdd69a657b61e501"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "exact simulation_1.",
                        "VernacExtend",
                        "ca2cca4b9f17e2a71f92627e386b725035ccb651"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}