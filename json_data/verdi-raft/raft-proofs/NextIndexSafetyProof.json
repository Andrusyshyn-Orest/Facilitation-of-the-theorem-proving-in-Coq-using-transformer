{
    "filename": "raft-proofs/NextIndexSafetyProof.v",
    "coq_project": "verdi-raft",
    "vernac_cmds": [
        [
            "Require Import VerdiRaft.Raft.",
            "VernacRequire",
            "36b0b9afd1c52050ce42daf3c5fa4abb91993f25"
        ],
        [
            "Local Arguments update {_} {_} _ _ _ _ _ : simpl never.",
            "VernacArguments",
            "58518d3b0cf998daca73acf32f30d0de10e4973c"
        ],
        [
            "Require Import VerdiRaft.CommonTheorems.",
            "VernacRequire",
            "7741fdc8f1b779bdc4f3d3ad167d1a5d2532d984"
        ],
        [
            "Require Import VerdiRaft.SpecLemmas.",
            "VernacRequire",
            "0d675bfd5abc1d0ef9d53230c6dbdf3992517589"
        ],
        [
            "Require Import VerdiRaft.AppendEntriesReplySublogInterface.",
            "VernacRequire",
            "a544cf2a3ae2079a777b6d050e96d4af91ed7a97"
        ],
        [
            "Require Import VerdiRaft.SortedInterface.",
            "VernacRequire",
            "ef501472a7c98ba90db5aa0e0a8ed5ad0b830510"
        ],
        [
            "Require Import VerdiRaft.NextIndexSafetyInterface.",
            "VernacRequire",
            "cee10a80efa67b196c223fd9d9eb2afbd2b5c82b"
        ],
        [
            "Section NextIndexSafety.",
            "VernacBeginSection",
            "746e2673c46bbb908f84623581d2bb9399328612"
        ],
        [
            "Context {orig_base_params : BaseParams}.",
            "VernacContext",
            "69028e681894580fbc36a6124a9136decfafb159"
        ],
        [
            "Context {one_node_params : OneNodeParams orig_base_params}.",
            "VernacContext",
            "013ed31ca1bcacb0528fc416f1059cfa49b9df65"
        ],
        [
            "Context {raft_params : RaftParams orig_base_params}.",
            "VernacContext",
            "f5c24333154da8ee6ae37600b526f95496c92448"
        ],
        [
            "Context {aersi : append_entries_reply_sublog_interface}.",
            "VernacContext",
            "d45211bb4d09e2aad9d6bea2ad0669a960ea4a19"
        ],
        [
            "Context {si : sorted_interface}.",
            "VernacContext",
            "747819ef76cd8488d49a2299b29cddc704879c29"
        ],
        [
            "Lemma nextIndex_safety_init : raft_net_invariant_init nextIndex_safety.",
            "VernacStartTheoremProof",
            "f92259d33c73d19763e5547138287ccbe2636f17"
        ],
        [
            "unfold raft_net_invariant_init, nextIndex_safety.",
            "VernacExtend",
            "de6d8d5317b033f12f13d5b13df014a18b514120"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "discriminate.",
            "VernacExtend",
            "66ca81b65e1a53372a2515fdfdd2a6b0677cb9c8"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition nextIndex_preserved st st' := (type st' = Leader -> type st = Leader /\\ maxIndex (log st) <= maxIndex (log st') /\\ nextIndex st' = nextIndex st).",
            "VernacDefinition",
            "40990170a4808ae6ad98db0a5d67f63a5e3f7804"
        ],
        [
            "Lemma nextIndex_safety_preserved : forall st st', (forall h', type st = Leader -> Nat.pred (getNextIndex st h') <= maxIndex (log st)) -> nextIndex_preserved st st' -> (forall h', type st' = Leader -> Nat.pred (getNextIndex st' h') <= maxIndex (log st')).",
            "VernacStartTheoremProof",
            "e84077b34d59004a7b660abf852e5fc5794f87af"
        ],
        [
            "unfold getNextIndex, nextIndex_preserved in *.",
            "VernacExtend",
            "a91dc6e5c62a1597516fa188e53c2104fdc26bff"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "unfold assoc_default in *.",
            "VernacExtend",
            "3764305e827d73104270bc4ae6a2cc86626d1174"
        ],
        [
            "specialize (H h').",
            "VernacExtend",
            "171b2a4a65b8bde462a26e1ae6a3cb9d37d939de"
        ],
        [
            "break_match.",
            "VernacExtend",
            "b2bc690b7d230eee6ff83ec2752e6c3ed02d2594"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eauto using le_trans.",
            "VernacExtend",
            "238d9383ee9f0843f97f05a409fa5a49e3411826"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem handleClientRequest_nextIndex_preserved : forall h st client id c out st' ps, handleClientRequest h st client id c = (out, st', ps) -> nextIndex_preserved st st'.",
            "VernacStartTheoremProof",
            "5063df5c12941089c980ed424c1a91c4ad314174"
        ],
        [
            "unfold handleClientRequest, nextIndex_preserved.",
            "VernacExtend",
            "9a6696e546da84dabe39e05f272aa21c91e1a8c4"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_match; repeat find_inversion; simpl in *; try congruence.",
            "VernacExtend",
            "c72ad3c4bb6a5fc20585f445f4a1365c5f455050"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma nextIndex_safety_client_request : raft_net_invariant_client_request nextIndex_safety.",
            "VernacStartTheoremProof",
            "96f76840129dcc01c3d0860c1c198b4947382dab"
        ],
        [
            "unfold raft_net_invariant_client_request, nextIndex_safety.",
            "VernacExtend",
            "26eca138ca1d8fe5c6cef270c31a8effeec3eac0"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat find_higher_order_rewrite.",
            "VernacExtend",
            "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
        ],
        [
            "update_destruct_simplify.",
            "VernacExtend",
            "de59945c823dde08340b50985e52ead871cf5cd8"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eauto using nextIndex_safety_preserved, handleClientRequest_nextIndex_preserved.",
            "VernacExtend",
            "11a81e3d312f5969e8b8370823c5ad127e07e173"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma handleTimeout_nextIndex_preserved : forall h d out d' l, handleTimeout h d = (out, d', l) -> nextIndex_preserved d d'.",
            "VernacStartTheoremProof",
            "31e88aaee156134ec7d561850fd7b2c6960283e0"
        ],
        [
            "unfold handleTimeout, tryToBecomeLeader, nextIndex_preserved.",
            "VernacExtend",
            "90272a9151da67e19b54869d230fb3e4668e9686"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_match; repeat find_inversion; simpl in *; try congruence.",
            "VernacExtend",
            "c72ad3c4bb6a5fc20585f445f4a1365c5f455050"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma nextIndex_safety_timeout : raft_net_invariant_timeout nextIndex_safety.",
            "VernacStartTheoremProof",
            "d1621aa91b0db32d02e5a2e5c0f8def99c27a68f"
        ],
        [
            "unfold raft_net_invariant_timeout, nextIndex_safety.",
            "VernacExtend",
            "acb214b9e0d5689e2bed6232e8fa715a692c45b7"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat find_higher_order_rewrite.",
            "VernacExtend",
            "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
        ],
        [
            "update_destruct_simplify.",
            "VernacExtend",
            "de59945c823dde08340b50985e52ead871cf5cd8"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eauto using nextIndex_safety_preserved, handleTimeout_nextIndex_preserved.",
            "VernacExtend",
            "e564db1dc099f80547fe26a484035ce4e0a98eb3"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma handleAppendEntries_nextIndex_preserved : forall h st t n pli plt es ci st' ps, handleAppendEntries h st t n pli plt es ci = (st', ps) -> nextIndex_preserved st st'.",
            "VernacStartTheoremProof",
            "18a3f243391acde31d37dc849f907d7f8b63b2f9"
        ],
        [
            "unfold handleAppendEntries, nextIndex_preserved, advanceCurrentTerm.",
            "VernacExtend",
            "e53a70806809167ea1abafd0b435c8b03d96ca5b"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_match; repeat find_inversion; simpl in *; try congruence; auto.",
            "VernacExtend",
            "ff811b4fc633f03a319f6f89b5a11285b38927eb"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma nextIndex_safety_append_entries : raft_net_invariant_append_entries nextIndex_safety.",
            "VernacStartTheoremProof",
            "8f63426c9eb5214f72130c63975cf8b376727a80"
        ],
        [
            "unfold raft_net_invariant_append_entries, nextIndex_safety.",
            "VernacExtend",
            "4ebbc2fcd6d024a8d5c455da1ed00c5f33df8dcd"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat find_higher_order_rewrite.",
            "VernacExtend",
            "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
        ],
        [
            "update_destruct_simplify.",
            "VernacExtend",
            "de59945c823dde08340b50985e52ead871cf5cd8"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eauto using nextIndex_safety_preserved, handleAppendEntries_nextIndex_preserved.",
            "VernacExtend",
            "8e40f5784d040a0e8136b948c61d878205e15e69"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma handleAppendEntriesReply_nextIndex : forall h st st' m t es res h', handleAppendEntriesReply h st h' t es res = (st', m) -> type st' = Leader -> type st = Leader /\\ ((nextIndex st' = nextIndex st \\/ (res = true /\\ currentTerm st = t /\\ nextIndex st' = (assoc_set name_eq_dec (nextIndex st) h' (Nat.max (getNextIndex st h') (S (maxIndex es)))))) \\/ (res = false /\\ currentTerm st = t /\\ nextIndex st' = (assoc_set name_eq_dec (nextIndex st) h' (pred (getNextIndex st h'))))).",
            "VernacStartTheoremProof",
            "3461194a7687cf0dc8f6bfcf8914aee488a1b6f5"
        ],
        [
            "unfold handleAppendEntriesReply, advanceCurrentTerm.",
            "VernacExtend",
            "bf20006d24fc956d144870f70ab8e1ad17fb5eef"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_match; repeat find_inversion; do_bool; simpl in *; intuition; congruence.",
            "VernacExtend",
            "332d41ad600fb906640a2812d81973f987b7cb7f"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma nextIndex_safety_append_entries_reply : raft_net_invariant_append_entries_reply nextIndex_safety.",
            "VernacStartTheoremProof",
            "3587f9253aa8c2257c62baad47b7074043b0bbfa"
        ],
        [
            "unfold raft_net_invariant_append_entries_reply, nextIndex_safety, getNextIndex.",
            "VernacExtend",
            "c9b288ec5997efd562cea6bcacd923854ee4cdb5"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat find_higher_order_rewrite.",
            "VernacExtend",
            "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
        ],
        [
            "update_destruct_simplify.",
            "VernacExtend",
            "de59945c823dde08340b50985e52ead871cf5cd8"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "erewrite handleAppendEntriesReply_log by eauto.",
            "VernacExtend",
            "32a4ad20144c08ea4554d5691960c17242421574"
        ],
        [
            "find_copy_apply_lem_hyp handleAppendEntriesReply_nextIndex; auto.",
            "VernacExtend",
            "e967da2c14c9cb33c9f7ede479ed4dc51a7925e6"
        ],
        [
            "intuition; repeat find_rewrite.",
            "VernacExtend",
            "9854ceaccbb390bdb33fb4963cf1c2a83365765f"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (name_eq_dec h' (pSrc p)).",
            "VernacExtend",
            "42dcf1bad7b0cd61fed4a3457373841ae4c84619"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "rewrite get_set_same_default.",
            "VernacExtend",
            "3b68c61431b2779bef306b2e1229fb421104c4e0"
        ],
        [
            "unfold getNextIndex.",
            "VernacExtend",
            "97b4e14f1526bcc60d8bb5b42fd4490f10400b63"
        ],
        [
            "apply Max.max_case; auto.",
            "VernacExtend",
            "d48e24d3e42223908ff93b48fea85925b3d8005c"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "destruct es; simpl.",
            "VernacExtend",
            "67c454e45f2821a73d6cf1359c94005b1db10773"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "pose proof append_entries_reply_sublog_invariant _ ltac:(eauto).",
            "VernacExtend",
            "bee5a9377a418a5efa6b80b3d4045db46bde1420"
        ],
        [
            "unfold append_entries_reply_sublog in *.",
            "VernacExtend",
            "9431e53d91efcab6c3688b511393983e2e48e798"
        ],
        [
            "eapply_prop_hyp pBody pBody; simpl; eauto.",
            "VernacExtend",
            "9736bdb3dbdd7b313eb3280f219a372a4be03ba6"
        ],
        [
            "apply maxIndex_is_max; auto.",
            "VernacExtend",
            "fbdb71364e1c8cfdc558992af417667e4db54bbc"
        ],
        [
            "apply logs_sorted_invariant; auto.",
            "VernacExtend",
            "cc5a985cab2d882c6bc4ae8b3161c64dc4247a33"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "rewrite get_set_diff_default by auto.",
            "VernacExtend",
            "f6a46d7ab51062c3777507f2eda8cbce0f0b31a1"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct (name_eq_dec h' (pSrc p)).",
            "VernacExtend",
            "42dcf1bad7b0cd61fed4a3457373841ae4c84619"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "rewrite get_set_same_default.",
            "VernacExtend",
            "3b68c61431b2779bef306b2e1229fb421104c4e0"
        ],
        [
            "unfold getNextIndex.",
            "VernacExtend",
            "97b4e14f1526bcc60d8bb5b42fd4490f10400b63"
        ],
        [
            "apply NPeano.Nat.le_le_pred.",
            "VernacExtend",
            "60685149e30c58ca2a0e6b162f562e639a75a99f"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "rewrite get_set_diff_default by auto.",
            "VernacExtend",
            "f6a46d7ab51062c3777507f2eda8cbce0f0b31a1"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma handleRequestVote_nextIndex_preserved : forall st h h' t lli llt st' m, handleRequestVote h st t h' lli llt = (st', m) -> nextIndex_preserved st st'.",
            "VernacStartTheoremProof",
            "947268034f12b9a191421cd32dd9c285c5adf77e"
        ],
        [
            "unfold handleRequestVote, nextIndex_preserved, advanceCurrentTerm.",
            "VernacExtend",
            "62a96b6bf9a05a922876d9240043fd67e9451a03"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_match; repeat find_inversion; simpl in *; auto; try congruence.",
            "VernacExtend",
            "00197ac6a8ed59647f494dc266872cdafdeebe52"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma nextIndex_safety_request_vote : raft_net_invariant_request_vote nextIndex_safety.",
            "VernacStartTheoremProof",
            "4fd0b7f7d75ac17f37ca06dd514bb936c1cc9f93"
        ],
        [
            "unfold raft_net_invariant_request_vote, nextIndex_safety.",
            "VernacExtend",
            "c250466758e5b5fe4580bdde3fabf110653d5f1f"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat find_higher_order_rewrite.",
            "VernacExtend",
            "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
        ],
        [
            "update_destruct_simplify.",
            "VernacExtend",
            "de59945c823dde08340b50985e52ead871cf5cd8"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eauto using nextIndex_safety_preserved, handleRequestVote_nextIndex_preserved.",
            "VernacExtend",
            "ead92e3ab9b2380d7c7157e694b3656b59481089"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma handleRequestVoteReply_matchIndex : forall n st src t v, type (handleRequestVoteReply n st src t v) = Leader -> type st = Leader /\\ nextIndex (handleRequestVoteReply n st src t v) = nextIndex st \\/ nextIndex (handleRequestVoteReply n st src t v) = [].",
            "VernacStartTheoremProof",
            "b1ff28351a9a2844a010975093490377523c6f7a"
        ],
        [
            "unfold handleRequestVoteReply.",
            "VernacExtend",
            "6acb119be8d086ece21bff36e73ae62569227ba5"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_match; repeat find_inversion; simpl in *; auto; try congruence.",
            "VernacExtend",
            "00197ac6a8ed59647f494dc266872cdafdeebe52"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma nextIndex_safety_request_vote_reply : raft_net_invariant_request_vote_reply nextIndex_safety.",
            "VernacStartTheoremProof",
            "64b186e4843b3e669ec77c298529aecbe8ad1be9"
        ],
        [
            "unfold raft_net_invariant_request_vote_reply, nextIndex_safety.",
            "VernacExtend",
            "3d75c486feb8cfdd650ba45c70a3f16eb07389ea"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat find_higher_order_rewrite.",
            "VernacExtend",
            "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
        ],
        [
            "update_destruct_simplify.",
            "VernacExtend",
            "de59945c823dde08340b50985e52ead871cf5cd8"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "find_copy_apply_lem_hyp handleRequestVoteReply_matchIndex.",
            "VernacExtend",
            "8a7505ec8496aa501edf84ae081e357eb6e14237"
        ],
        [
            "unfold getNextIndex in *.",
            "VernacExtend",
            "9ea30037e0c71a015855669258f8364aa291ae0e"
        ],
        [
            "erewrite handleRequestVoteReply_log in * by eauto.",
            "VernacExtend",
            "3e93208effdb77926ace96f2ce75a4c73d0ec9eb"
        ],
        [
            "intuition; repeat find_rewrite.",
            "VernacExtend",
            "9854ceaccbb390bdb33fb4963cf1c2a83365765f"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold assoc_default.",
            "VernacExtend",
            "49ab364639c6538637720f12978e21da4376f733"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "auto using NPeano.Nat.le_le_pred.",
            "VernacExtend",
            "69af262d8768b8f40693a15b078fe63aa3d7b304"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma doLeader_nextIndex_preserved : forall st h os st' ms, doLeader st h = (os, st', ms) -> nextIndex_preserved st st'.",
            "VernacStartTheoremProof",
            "bf90d0e35fbe97bcf0cd1bb1d739dfbf54636f31"
        ],
        [
            "unfold doLeader, nextIndex_preserved.",
            "VernacExtend",
            "1decda34f5ec49cf634becad7d1a826a9bbff2cb"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_match; repeat find_inversion; auto; try congruence.",
            "VernacExtend",
            "9bbedfa19d3fe5b60189623a46096f2ac88824a7"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma nextIndex_safety_do_leader : raft_net_invariant_do_leader nextIndex_safety.",
            "VernacStartTheoremProof",
            "c58e832a9e21ecc5c8b9fd889539899fef5db49f"
        ],
        [
            "unfold raft_net_invariant_do_leader, nextIndex_safety.",
            "VernacExtend",
            "3519234c3106fdb54678104a0d500aec780da922"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat find_higher_order_rewrite.",
            "VernacExtend",
            "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
        ],
        [
            "update_destruct_simplify.",
            "VernacExtend",
            "de59945c823dde08340b50985e52ead871cf5cd8"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eauto using nextIndex_safety_preserved, doLeader_nextIndex_preserved.",
            "VernacExtend",
            "691bc2190b71e3e499430c6e4a8871c38f48eb72"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma doGenericServer_nextIndex_preserved : forall h st os st' ms, doGenericServer h st = (os, st', ms) -> nextIndex_preserved st st'.",
            "VernacStartTheoremProof",
            "5f06f486eacded5247fd7005a86c5261ba8d993e"
        ],
        [
            "unfold doGenericServer, nextIndex_preserved.",
            "VernacExtend",
            "28e7b0c47595abd9c3869f6e6c3ed3ebc283df6e"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_match; repeat find_inversion; simpl in *; auto; try congruence; use_applyEntries_spec; subst; simpl in *; auto.",
            "VernacExtend",
            "7f8367eebdec43b618166e6f0e36db4e2de3900a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma nextIndex_safety_do_generic_server : raft_net_invariant_do_generic_server nextIndex_safety.",
            "VernacStartTheoremProof",
            "adc5f9a89f27972a63a8b5687010c56e03903782"
        ],
        [
            "unfold raft_net_invariant_do_generic_server, nextIndex_safety.",
            "VernacExtend",
            "b35afbd92d4cb1c60b342a799fea30471c592a2c"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat find_higher_order_rewrite.",
            "VernacExtend",
            "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
        ],
        [
            "update_destruct_simplify.",
            "VernacExtend",
            "de59945c823dde08340b50985e52ead871cf5cd8"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eauto using nextIndex_safety_preserved, doGenericServer_nextIndex_preserved.",
            "VernacExtend",
            "106abecc432304b42bac29a947dd4cc5b8073304"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma nextIndex_safety_state_same_packet_subset : raft_net_invariant_state_same_packet_subset nextIndex_safety.",
            "VernacStartTheoremProof",
            "ffec9615781941d200a69eb09af5ebcf623a3b83"
        ],
        [
            "unfold raft_net_invariant_state_same_packet_subset, nextIndex_safety.",
            "VernacExtend",
            "12d97b24344a5dc3da01d13712b37b4c1a7fc6c8"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat find_reverse_higher_order_rewrite.",
            "VernacExtend",
            "c43d857659aeb973dce4c4993596ff6e95e8e044"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma nextIndex_safety_reboot : raft_net_invariant_reboot nextIndex_safety.",
            "VernacStartTheoremProof",
            "9008703ba8ee6fb7f5ce106ff06422d7612f3383"
        ],
        [
            "unfold raft_net_invariant_reboot, nextIndex_safety, reboot.",
            "VernacExtend",
            "00c6795ed11e1e42a2366f2787b3db8442f81129"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "repeat find_higher_order_rewrite.",
            "VernacExtend",
            "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
        ],
        [
            "update_destruct_simplify.",
            "VernacExtend",
            "de59945c823dde08340b50985e52ead871cf5cd8"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold getNextIndex, assoc_default.",
            "VernacExtend",
            "d383c069c250a0b5fa955615c366a6fb6facb20e"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma nextIndex_safety_invariant : forall net, raft_intermediate_reachable net -> nextIndex_safety net.",
            "VernacStartTheoremProof",
            "3a116cbee10bb1c2bbb46f14608f2b39563c17af"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply raft_net_invariant; auto.",
            "VernacExtend",
            "794f7fdd8b1359ed82b931ffa917f19edb021bb0"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply nextIndex_safety_init.",
            "VernacExtend",
            "0b453e47a16d7c7f50bf5f527cf7da6db2261cdf"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply nextIndex_safety_client_request.",
            "VernacExtend",
            "c93332e072ee3b1eba1e5f97f8b137625bbd2a2b"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply nextIndex_safety_timeout.",
            "VernacExtend",
            "dfb6f9b018fc8777720d1b859a449f20fef2b35a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply nextIndex_safety_append_entries.",
            "VernacExtend",
            "437131b375d865198f8dcbffd1163cf3dca00723"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply nextIndex_safety_append_entries_reply.",
            "VernacExtend",
            "62949d017f0721565404ac9dfe690f5afc464ffc"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply nextIndex_safety_request_vote.",
            "VernacExtend",
            "d54073153100134380504bea782a5b2b39dc4d49"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply nextIndex_safety_request_vote_reply.",
            "VernacExtend",
            "a1f455f4045855f3e11a131eed1d1dc75affb6aa"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply nextIndex_safety_do_leader.",
            "VernacExtend",
            "f645a0c43410169bfc921a3ec7cb7069197fb06b"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply nextIndex_safety_do_generic_server.",
            "VernacExtend",
            "90921ecd43a56582f385bab8c4a3d2225cf0abd9"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply nextIndex_safety_state_same_packet_subset.",
            "VernacExtend",
            "0316e0840e9becaa30561c8e8b35795a17761822"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply nextIndex_safety_reboot.",
            "VernacExtend",
            "36718abe4eeebd51bb8e7e1099198f4fbb6d93fa"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Instance nisi : nextIndex_safety_interface.",
            "VernacInstance",
            "055e3fdcc3936432a0ff73d1138678e5115750f1"
        ],
        [
            "split.",
            "VernacExtend",
            "55abc140132bd88981001ac656020469a8d503eb"
        ],
        [
            "exact nextIndex_safety_invariant.",
            "VernacExtend",
            "bff3bb8bc5efe3d8693032791f0b4c3d44cd7ddd"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End NextIndexSafety.",
            "VernacEndSegment",
            "371a12e8e0d86bd989a7faf161877002be0126b7"
        ]
    ],
    "proofs": [
        {
            "name": "nextIndex_safety_init",
            "line_nb": 13,
            "steps": [
                {
                    "command": [
                        "unfold raft_net_invariant_init, nextIndex_safety.",
                        "VernacExtend",
                        "de6d8d5317b033f12f13d5b13df014a18b514120"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "discriminate.",
                        "VernacExtend",
                        "66ca81b65e1a53372a2515fdfdd2a6b0677cb9c8"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "nextIndex_safety_preserved",
            "line_nb": 19,
            "steps": [
                {
                    "command": [
                        "unfold getNextIndex, nextIndex_preserved in *.",
                        "VernacExtend",
                        "a91dc6e5c62a1597516fa188e53c2104fdc26bff"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "repeat find_rewrite.",
                        "VernacExtend",
                        "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "unfold assoc_default in *.",
                        "VernacExtend",
                        "3764305e827d73104270bc4ae6a2cc86626d1174"
                    ]
                },
                {
                    "command": [
                        "specialize (H h').",
                        "VernacExtend",
                        "171b2a4a65b8bde462a26e1ae6a3cb9d37d939de"
                    ]
                },
                {
                    "command": [
                        "break_match.",
                        "VernacExtend",
                        "b2bc690b7d230eee6ff83ec2752e6c3ed02d2594"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eauto using le_trans.",
                        "VernacExtend",
                        "238d9383ee9f0843f97f05a409fa5a49e3411826"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "handleClientRequest_nextIndex_preserved",
            "line_nb": 32,
            "steps": [
                {
                    "command": [
                        "unfold handleClientRequest, nextIndex_preserved.",
                        "VernacExtend",
                        "9a6696e546da84dabe39e05f272aa21c91e1a8c4"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; repeat find_inversion; simpl in *; try congruence.",
                        "VernacExtend",
                        "c72ad3c4bb6a5fc20585f445f4a1365c5f455050"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "nextIndex_safety_client_request",
            "line_nb": 38,
            "steps": [
                {
                    "command": [
                        "unfold raft_net_invariant_client_request, nextIndex_safety.",
                        "VernacExtend",
                        "26eca138ca1d8fe5c6cef270c31a8effeec3eac0"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat find_higher_order_rewrite.",
                        "VernacExtend",
                        "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
                    ]
                },
                {
                    "command": [
                        "update_destruct_simplify.",
                        "VernacExtend",
                        "de59945c823dde08340b50985e52ead871cf5cd8"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eauto using nextIndex_safety_preserved, handleClientRequest_nextIndex_preserved.",
                        "VernacExtend",
                        "11a81e3d312f5969e8b8370823c5ad127e07e173"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "handleTimeout_nextIndex_preserved",
            "line_nb": 49,
            "steps": [
                {
                    "command": [
                        "unfold handleTimeout, tryToBecomeLeader, nextIndex_preserved.",
                        "VernacExtend",
                        "90272a9151da67e19b54869d230fb3e4668e9686"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; repeat find_inversion; simpl in *; try congruence.",
                        "VernacExtend",
                        "c72ad3c4bb6a5fc20585f445f4a1365c5f455050"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "nextIndex_safety_timeout",
            "line_nb": 55,
            "steps": [
                {
                    "command": [
                        "unfold raft_net_invariant_timeout, nextIndex_safety.",
                        "VernacExtend",
                        "acb214b9e0d5689e2bed6232e8fa715a692c45b7"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat find_higher_order_rewrite.",
                        "VernacExtend",
                        "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
                    ]
                },
                {
                    "command": [
                        "update_destruct_simplify.",
                        "VernacExtend",
                        "de59945c823dde08340b50985e52ead871cf5cd8"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eauto using nextIndex_safety_preserved, handleTimeout_nextIndex_preserved.",
                        "VernacExtend",
                        "e564db1dc099f80547fe26a484035ce4e0a98eb3"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "handleAppendEntries_nextIndex_preserved",
            "line_nb": 66,
            "steps": [
                {
                    "command": [
                        "unfold handleAppendEntries, nextIndex_preserved, advanceCurrentTerm.",
                        "VernacExtend",
                        "e53a70806809167ea1abafd0b435c8b03d96ca5b"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; repeat find_inversion; simpl in *; try congruence; auto.",
                        "VernacExtend",
                        "ff811b4fc633f03a319f6f89b5a11285b38927eb"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "nextIndex_safety_append_entries",
            "line_nb": 71,
            "steps": [
                {
                    "command": [
                        "unfold raft_net_invariant_append_entries, nextIndex_safety.",
                        "VernacExtend",
                        "4ebbc2fcd6d024a8d5c455da1ed00c5f33df8dcd"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat find_higher_order_rewrite.",
                        "VernacExtend",
                        "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
                    ]
                },
                {
                    "command": [
                        "update_destruct_simplify.",
                        "VernacExtend",
                        "de59945c823dde08340b50985e52ead871cf5cd8"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eauto using nextIndex_safety_preserved, handleAppendEntries_nextIndex_preserved.",
                        "VernacExtend",
                        "8e40f5784d040a0e8136b948c61d878205e15e69"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "handleAppendEntriesReply_nextIndex",
            "line_nb": 82,
            "steps": [
                {
                    "command": [
                        "unfold handleAppendEntriesReply, advanceCurrentTerm.",
                        "VernacExtend",
                        "bf20006d24fc956d144870f70ab8e1ad17fb5eef"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; repeat find_inversion; do_bool; simpl in *; intuition; congruence.",
                        "VernacExtend",
                        "332d41ad600fb906640a2812d81973f987b7cb7f"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "nextIndex_safety_append_entries_reply",
            "line_nb": 87,
            "steps": [
                {
                    "command": [
                        "unfold raft_net_invariant_append_entries_reply, nextIndex_safety, getNextIndex.",
                        "VernacExtend",
                        "c9b288ec5997efd562cea6bcacd923854ee4cdb5"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat find_higher_order_rewrite.",
                        "VernacExtend",
                        "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
                    ]
                },
                {
                    "command": [
                        "update_destruct_simplify.",
                        "VernacExtend",
                        "de59945c823dde08340b50985e52ead871cf5cd8"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "erewrite handleAppendEntriesReply_log by eauto.",
                        "VernacExtend",
                        "32a4ad20144c08ea4554d5691960c17242421574"
                    ]
                },
                {
                    "command": [
                        "find_copy_apply_lem_hyp handleAppendEntriesReply_nextIndex; auto.",
                        "VernacExtend",
                        "e967da2c14c9cb33c9f7ede479ed4dc51a7925e6"
                    ]
                },
                {
                    "command": [
                        "intuition; repeat find_rewrite.",
                        "VernacExtend",
                        "9854ceaccbb390bdb33fb4963cf1c2a83365765f"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct (name_eq_dec h' (pSrc p)).",
                        "VernacExtend",
                        "42dcf1bad7b0cd61fed4a3457373841ae4c84619"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "subst.",
                        "VernacExtend",
                        "ccc9cb848804101be22a0bb6c324861981c5c7f1"
                    ]
                },
                {
                    "command": [
                        "rewrite get_set_same_default.",
                        "VernacExtend",
                        "3b68c61431b2779bef306b2e1229fb421104c4e0"
                    ]
                },
                {
                    "command": [
                        "unfold getNextIndex.",
                        "VernacExtend",
                        "97b4e14f1526bcc60d8bb5b42fd4490f10400b63"
                    ]
                },
                {
                    "command": [
                        "apply Max.max_case; auto.",
                        "VernacExtend",
                        "d48e24d3e42223908ff93b48fea85925b3d8005c"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "destruct es; simpl.",
                        "VernacExtend",
                        "67c454e45f2821a73d6cf1359c94005b1db10773"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "pose proof append_entries_reply_sublog_invariant _ ltac:(eauto).",
                        "VernacExtend",
                        "bee5a9377a418a5efa6b80b3d4045db46bde1420"
                    ]
                },
                {
                    "command": [
                        "unfold append_entries_reply_sublog in *.",
                        "VernacExtend",
                        "9431e53d91efcab6c3688b511393983e2e48e798"
                    ]
                },
                {
                    "command": [
                        "eapply_prop_hyp pBody pBody; simpl; eauto.",
                        "VernacExtend",
                        "9736bdb3dbdd7b313eb3280f219a372a4be03ba6"
                    ]
                },
                {
                    "command": [
                        "apply maxIndex_is_max; auto.",
                        "VernacExtend",
                        "fbdb71364e1c8cfdc558992af417667e4db54bbc"
                    ]
                },
                {
                    "command": [
                        "apply logs_sorted_invariant; auto.",
                        "VernacExtend",
                        "cc5a985cab2d882c6bc4ae8b3161c64dc4247a33"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "rewrite get_set_diff_default by auto.",
                        "VernacExtend",
                        "f6a46d7ab51062c3777507f2eda8cbce0f0b31a1"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct (name_eq_dec h' (pSrc p)).",
                        "VernacExtend",
                        "42dcf1bad7b0cd61fed4a3457373841ae4c84619"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "subst.",
                        "VernacExtend",
                        "ccc9cb848804101be22a0bb6c324861981c5c7f1"
                    ]
                },
                {
                    "command": [
                        "rewrite get_set_same_default.",
                        "VernacExtend",
                        "3b68c61431b2779bef306b2e1229fb421104c4e0"
                    ]
                },
                {
                    "command": [
                        "unfold getNextIndex.",
                        "VernacExtend",
                        "97b4e14f1526bcc60d8bb5b42fd4490f10400b63"
                    ]
                },
                {
                    "command": [
                        "apply NPeano.Nat.le_le_pred.",
                        "VernacExtend",
                        "60685149e30c58ca2a0e6b162f562e639a75a99f"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "rewrite get_set_diff_default by auto.",
                        "VernacExtend",
                        "f6a46d7ab51062c3777507f2eda8cbce0f0b31a1"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "handleRequestVote_nextIndex_preserved",
            "line_nb": 134,
            "steps": [
                {
                    "command": [
                        "unfold handleRequestVote, nextIndex_preserved, advanceCurrentTerm.",
                        "VernacExtend",
                        "62a96b6bf9a05a922876d9240043fd67e9451a03"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; repeat find_inversion; simpl in *; auto; try congruence.",
                        "VernacExtend",
                        "00197ac6a8ed59647f494dc266872cdafdeebe52"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "nextIndex_safety_request_vote",
            "line_nb": 139,
            "steps": [
                {
                    "command": [
                        "unfold raft_net_invariant_request_vote, nextIndex_safety.",
                        "VernacExtend",
                        "c250466758e5b5fe4580bdde3fabf110653d5f1f"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat find_higher_order_rewrite.",
                        "VernacExtend",
                        "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
                    ]
                },
                {
                    "command": [
                        "update_destruct_simplify.",
                        "VernacExtend",
                        "de59945c823dde08340b50985e52ead871cf5cd8"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eauto using nextIndex_safety_preserved, handleRequestVote_nextIndex_preserved.",
                        "VernacExtend",
                        "ead92e3ab9b2380d7c7157e694b3656b59481089"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "handleRequestVoteReply_matchIndex",
            "line_nb": 150,
            "steps": [
                {
                    "command": [
                        "unfold handleRequestVoteReply.",
                        "VernacExtend",
                        "6acb119be8d086ece21bff36e73ae62569227ba5"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; repeat find_inversion; simpl in *; auto; try congruence.",
                        "VernacExtend",
                        "00197ac6a8ed59647f494dc266872cdafdeebe52"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "nextIndex_safety_request_vote_reply",
            "line_nb": 155,
            "steps": [
                {
                    "command": [
                        "unfold raft_net_invariant_request_vote_reply, nextIndex_safety.",
                        "VernacExtend",
                        "3d75c486feb8cfdd650ba45c70a3f16eb07389ea"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat find_higher_order_rewrite.",
                        "VernacExtend",
                        "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
                    ]
                },
                {
                    "command": [
                        "update_destruct_simplify.",
                        "VernacExtend",
                        "de59945c823dde08340b50985e52ead871cf5cd8"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "find_copy_apply_lem_hyp handleRequestVoteReply_matchIndex.",
                        "VernacExtend",
                        "8a7505ec8496aa501edf84ae081e357eb6e14237"
                    ]
                },
                {
                    "command": [
                        "unfold getNextIndex in *.",
                        "VernacExtend",
                        "9ea30037e0c71a015855669258f8364aa291ae0e"
                    ]
                },
                {
                    "command": [
                        "erewrite handleRequestVoteReply_log in * by eauto.",
                        "VernacExtend",
                        "3e93208effdb77926ace96f2ce75a4c73d0ec9eb"
                    ]
                },
                {
                    "command": [
                        "intuition; repeat find_rewrite.",
                        "VernacExtend",
                        "9854ceaccbb390bdb33fb4963cf1c2a83365765f"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "unfold assoc_default.",
                        "VernacExtend",
                        "49ab364639c6538637720f12978e21da4376f733"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "auto using NPeano.Nat.le_le_pred.",
                        "VernacExtend",
                        "69af262d8768b8f40693a15b078fe63aa3d7b304"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "doLeader_nextIndex_preserved",
            "line_nb": 175,
            "steps": [
                {
                    "command": [
                        "unfold doLeader, nextIndex_preserved.",
                        "VernacExtend",
                        "1decda34f5ec49cf634becad7d1a826a9bbff2cb"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; repeat find_inversion; auto; try congruence.",
                        "VernacExtend",
                        "9bbedfa19d3fe5b60189623a46096f2ac88824a7"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "nextIndex_safety_do_leader",
            "line_nb": 180,
            "steps": [
                {
                    "command": [
                        "unfold raft_net_invariant_do_leader, nextIndex_safety.",
                        "VernacExtend",
                        "3519234c3106fdb54678104a0d500aec780da922"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat find_higher_order_rewrite.",
                        "VernacExtend",
                        "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
                    ]
                },
                {
                    "command": [
                        "update_destruct_simplify.",
                        "VernacExtend",
                        "de59945c823dde08340b50985e52ead871cf5cd8"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eauto using nextIndex_safety_preserved, doLeader_nextIndex_preserved.",
                        "VernacExtend",
                        "691bc2190b71e3e499430c6e4a8871c38f48eb72"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "doGenericServer_nextIndex_preserved",
            "line_nb": 191,
            "steps": [
                {
                    "command": [
                        "unfold doGenericServer, nextIndex_preserved.",
                        "VernacExtend",
                        "28e7b0c47595abd9c3869f6e6c3ed3ebc283df6e"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; repeat find_inversion; simpl in *; auto; try congruence; use_applyEntries_spec; subst; simpl in *; auto.",
                        "VernacExtend",
                        "7f8367eebdec43b618166e6f0e36db4e2de3900a"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "nextIndex_safety_do_generic_server",
            "line_nb": 196,
            "steps": [
                {
                    "command": [
                        "unfold raft_net_invariant_do_generic_server, nextIndex_safety.",
                        "VernacExtend",
                        "b35afbd92d4cb1c60b342a799fea30471c592a2c"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat find_higher_order_rewrite.",
                        "VernacExtend",
                        "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
                    ]
                },
                {
                    "command": [
                        "update_destruct_simplify.",
                        "VernacExtend",
                        "de59945c823dde08340b50985e52ead871cf5cd8"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eauto using nextIndex_safety_preserved, doGenericServer_nextIndex_preserved.",
                        "VernacExtend",
                        "106abecc432304b42bac29a947dd4cc5b8073304"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "nextIndex_safety_state_same_packet_subset",
            "line_nb": 207,
            "steps": [
                {
                    "command": [
                        "unfold raft_net_invariant_state_same_packet_subset, nextIndex_safety.",
                        "VernacExtend",
                        "12d97b24344a5dc3da01d13712b37b4c1a7fc6c8"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "repeat find_reverse_higher_order_rewrite.",
                        "VernacExtend",
                        "c43d857659aeb973dce4c4993596ff6e95e8e044"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "nextIndex_safety_reboot",
            "line_nb": 214,
            "steps": [
                {
                    "command": [
                        "unfold raft_net_invariant_reboot, nextIndex_safety, reboot.",
                        "VernacExtend",
                        "00c6795ed11e1e42a2366f2787b3db8442f81129"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "subst.",
                        "VernacExtend",
                        "ccc9cb848804101be22a0bb6c324861981c5c7f1"
                    ]
                },
                {
                    "command": [
                        "repeat find_higher_order_rewrite.",
                        "VernacExtend",
                        "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
                    ]
                },
                {
                    "command": [
                        "update_destruct_simplify.",
                        "VernacExtend",
                        "de59945c823dde08340b50985e52ead871cf5cd8"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "unfold getNextIndex, assoc_default.",
                        "VernacExtend",
                        "d383c069c250a0b5fa955615c366a6fb6facb20e"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "nextIndex_safety_invariant",
            "line_nb": 228,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply raft_net_invariant; auto.",
                        "VernacExtend",
                        "794f7fdd8b1359ed82b931ffa917f19edb021bb0"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply nextIndex_safety_init.",
                        "VernacExtend",
                        "0b453e47a16d7c7f50bf5f527cf7da6db2261cdf"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply nextIndex_safety_client_request.",
                        "VernacExtend",
                        "c93332e072ee3b1eba1e5f97f8b137625bbd2a2b"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply nextIndex_safety_timeout.",
                        "VernacExtend",
                        "dfb6f9b018fc8777720d1b859a449f20fef2b35a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply nextIndex_safety_append_entries.",
                        "VernacExtend",
                        "437131b375d865198f8dcbffd1163cf3dca00723"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply nextIndex_safety_append_entries_reply.",
                        "VernacExtend",
                        "62949d017f0721565404ac9dfe690f5afc464ffc"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply nextIndex_safety_request_vote.",
                        "VernacExtend",
                        "d54073153100134380504bea782a5b2b39dc4d49"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply nextIndex_safety_request_vote_reply.",
                        "VernacExtend",
                        "a1f455f4045855f3e11a131eed1d1dc75affb6aa"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply nextIndex_safety_do_leader.",
                        "VernacExtend",
                        "f645a0c43410169bfc921a3ec7cb7069197fb06b"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply nextIndex_safety_do_generic_server.",
                        "VernacExtend",
                        "90921ecd43a56582f385bab8c4a3d2225cf0abd9"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply nextIndex_safety_state_same_packet_subset.",
                        "VernacExtend",
                        "0316e0840e9becaa30561c8e8b35795a17761822"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply nextIndex_safety_reboot.",
                        "VernacExtend",
                        "36718abe4eeebd51bb8e7e1099198f4fbb6d93fa"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "nisi",
            "line_nb": 254,
            "steps": [
                {
                    "command": [
                        "split.",
                        "VernacExtend",
                        "55abc140132bd88981001ac656020469a8d503eb"
                    ]
                },
                {
                    "command": [
                        "exact nextIndex_safety_invariant.",
                        "VernacExtend",
                        "bff3bb8bc5efe3d8693032791f0b4c3d44cd7ddd"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}