{
    "filename": "raft-proofs/OneLeaderPerTermProof.v",
    "coq_project": "verdi-raft",
    "vernac_cmds": [
        [
            "Require Import Verdi.GhostSimulations.",
            "VernacRequire",
            "891dab67151e6ddfd50d6b357dfdba6cdf4a4361"
        ],
        [
            "Require Import VerdiRaft.Raft.",
            "VernacRequire",
            "36b0b9afd1c52050ce42daf3c5fa4abb91993f25"
        ],
        [
            "Require Import VerdiRaft.CommonTheorems.",
            "VernacRequire",
            "7741fdc8f1b779bdc4f3d3ad167d1a5d2532d984"
        ],
        [
            "Require Import VerdiRaft.RaftRefinementInterface.",
            "VernacRequire",
            "927926da3b5a03c3f12be5b77cf55cd407b249d6"
        ],
        [
            "Require Import VerdiRaft.CroniesCorrectInterface.",
            "VernacRequire",
            "ebd83359cccf83564c7844e74cbb331e6f25b45e"
        ],
        [
            "Require Import VerdiRaft.VotesCorrectInterface.",
            "VernacRequire",
            "befa4505210d0f227e4bbc88edce0f4c683a6a19"
        ],
        [
            "Require Import VerdiRaft.OneLeaderPerTermInterface.",
            "VernacRequire",
            "444eea47fd370138eff83a5c457a142435c5f84f"
        ],
        [
            "Section OneLeaderPerTermProof.",
            "VernacBeginSection",
            "64eb8e4751717279c21fdafaa3c547f07e8d3dc6"
        ],
        [
            "Context {orig_base_params : BaseParams}.",
            "VernacContext",
            "69028e681894580fbc36a6124a9136decfafb159"
        ],
        [
            "Context {one_node_params : OneNodeParams orig_base_params}.",
            "VernacContext",
            "013ed31ca1bcacb0528fc416f1059cfa49b9df65"
        ],
        [
            "Context {raft_params : RaftParams orig_base_params}.",
            "VernacContext",
            "f5c24333154da8ee6ae37600b526f95496c92448"
        ],
        [
            "Ltac copy_eapply_prop_hyp P H := match goal with | H' : P _ |- _ => let x := fresh in pose proof H as x; apply H' in x end.",
            "VernacExtend",
            "5da6ee5fe89dce746e745144b05d45809d817551"
        ],
        [
            "Context {rri : raft_refinement_interface}.",
            "VernacContext",
            "34acb9bc0df96db7775fdb1297478e309d48058c"
        ],
        [
            "Context {vci : votes_correct_interface}.",
            "VernacContext",
            "7503cb768a723c0a10450ec484b48daf5aaf8df7"
        ],
        [
            "Context {cci : cronies_correct_interface}.",
            "VernacContext",
            "145e3f71ba43ad249ec8fb7ad2d9c3191e66d510"
        ],
        [
            "Lemma one_leader_per_term_invariant' : forall net, votes_correct net -> cronies_correct net -> one_leader_per_term (deghost net).",
            "VernacStartTheoremProof",
            "26d42f0052d87b962c58bb4ad3f3c1065661c9f2"
        ],
        [
            "unfold votes_correct, cronies_correct, one_leader_per_term in *.",
            "VernacExtend",
            "2db65b1f1951ea8e266401af1f634d6a0e507a3e"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "repeat match goal with | H : context [ nwState (deghost _) _ ] |- _ => rewrite deghost_spec in H end.",
            "VernacExtend",
            "2b9ba9165f3493849bbfbbe5062914ef18bce2e8"
        ],
        [
            "match goal with | h : type _ = _, h' : type _ = _ |- _ => copy_eapply_prop_hyp votes_received_leaders h; copy_eapply_prop_hyp votes_received_leaders h' end.",
            "VernacExtend",
            "38d57fd46585b6241db6632da2dcdfd5a8d84b5f"
        ],
        [
            "match goal with | H : wonElection _ = _ |- _ => find_eapply_lem_hyp wonElection_one_in_common; [|clear H; eauto] end.",
            "VernacExtend",
            "490c98648898b71c8ec78786208b6ede8b2cf8cf"
        ],
        [
            "break_exists; intuition.",
            "VernacExtend",
            "d55dd2b103d55d877a0cfa9a8abfba4876644d09"
        ],
        [
            "eapply_prop one_vote_per_term; eapply_prop cronies_votes; [eapply_prop votes_received_cronies|]; intuition eauto.",
            "VernacExtend",
            "55b232dcbd4144ad7a6044c53552f4a17aaef24e"
        ],
        [
            "unfold raft_data in *.",
            "VernacExtend",
            "0c237b5fd3be47237a66e24deda9fcdccc405b0f"
        ],
        [
            "unfold raft_refined_base_params, raft_refined_multi_params in *.",
            "VernacExtend",
            "5afc889b9ff98272c12ef9151ce78920aaceb6b5"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "eapply_prop votes_received_cronies; intuition eauto.",
            "VernacExtend",
            "99d6b64f5435c4f9a95c3f3956c98fc1f6ee83f4"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem one_leader_per_term_invariant : forall net, raft_intermediate_reachable net -> one_leader_per_term net.",
            "VernacStartTheoremProof",
            "f4d11516f33aff2cc7b3f4742eb0b5de1c13244c"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply lower_prop; auto.",
            "VernacExtend",
            "84e85498cca6e97b2f47bcafc9ef63c5c3769969"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply one_leader_per_term_invariant'.",
            "VernacExtend",
            "56e7d6b783e6556064a731a8fffdbe7b5743d243"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eauto using votes_correct_invariant.",
            "VernacExtend",
            "5925f91fca557f2bad99b5a4a84fae9adcc620c9"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eauto using cronies_correct_invariant.",
            "VernacExtend",
            "a127a1653c21630f79f75d7b66242a04df3177ae"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Instance olpti : one_leader_per_term_interface.",
            "VernacInstance",
            "d407e37fccc8554867537cc944a0189186d4677b"
        ],
        [
            "split.",
            "VernacExtend",
            "55abc140132bd88981001ac656020469a8d503eb"
        ],
        [
            "auto using one_leader_per_term_invariant.",
            "VernacExtend",
            "4054edae777cd8405fa9fb90a62ea4737d3d3def"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End OneLeaderPerTermProof.",
            "VernacEndSegment",
            "090fea601478caae2b4840f0c86172260a95a0f8"
        ]
    ],
    "proofs": [
        {
            "name": "one_leader_per_term_invariant'",
            "line_nb": 15,
            "steps": [
                {
                    "command": [
                        "unfold votes_correct, cronies_correct, one_leader_per_term in *.",
                        "VernacExtend",
                        "2db65b1f1951ea8e266401af1f634d6a0e507a3e"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "repeat match goal with | H : context [ nwState (deghost _) _ ] |- _ => rewrite deghost_spec in H end.",
                        "VernacExtend",
                        "2b9ba9165f3493849bbfbbe5062914ef18bce2e8"
                    ]
                },
                {
                    "command": [
                        "match goal with | h : type _ = _, h' : type _ = _ |- _ => copy_eapply_prop_hyp votes_received_leaders h; copy_eapply_prop_hyp votes_received_leaders h' end.",
                        "VernacExtend",
                        "38d57fd46585b6241db6632da2dcdfd5a8d84b5f"
                    ]
                },
                {
                    "command": [
                        "match goal with | H : wonElection _ = _ |- _ => find_eapply_lem_hyp wonElection_one_in_common; [|clear H; eauto] end.",
                        "VernacExtend",
                        "490c98648898b71c8ec78786208b6ede8b2cf8cf"
                    ]
                },
                {
                    "command": [
                        "break_exists; intuition.",
                        "VernacExtend",
                        "d55dd2b103d55d877a0cfa9a8abfba4876644d09"
                    ]
                },
                {
                    "command": [
                        "eapply_prop one_vote_per_term; eapply_prop cronies_votes; [eapply_prop votes_received_cronies|]; intuition eauto.",
                        "VernacExtend",
                        "55b232dcbd4144ad7a6044c53552f4a17aaef24e"
                    ]
                },
                {
                    "command": [
                        "unfold raft_data in *.",
                        "VernacExtend",
                        "0c237b5fd3be47237a66e24deda9fcdccc405b0f"
                    ]
                },
                {
                    "command": [
                        "unfold raft_refined_base_params, raft_refined_multi_params in *.",
                        "VernacExtend",
                        "5afc889b9ff98272c12ef9151ce78920aaceb6b5"
                    ]
                },
                {
                    "command": [
                        "repeat find_rewrite.",
                        "VernacExtend",
                        "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
                    ]
                },
                {
                    "command": [
                        "eapply_prop votes_received_cronies; intuition eauto.",
                        "VernacExtend",
                        "99d6b64f5435c4f9a95c3f3956c98fc1f6ee83f4"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "one_leader_per_term_invariant",
            "line_nb": 28,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply lower_prop; auto.",
                        "VernacExtend",
                        "84e85498cca6e97b2f47bcafc9ef63c5c3769969"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply one_leader_per_term_invariant'.",
                        "VernacExtend",
                        "56e7d6b783e6556064a731a8fffdbe7b5743d243"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eauto using votes_correct_invariant.",
                        "VernacExtend",
                        "5925f91fca557f2bad99b5a4a84fae9adcc620c9"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eauto using cronies_correct_invariant.",
                        "VernacExtend",
                        "a127a1653c21630f79f75d7b66242a04df3177ae"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "olpti",
            "line_nb": 38,
            "steps": [
                {
                    "command": [
                        "split.",
                        "VernacExtend",
                        "55abc140132bd88981001ac656020469a8d503eb"
                    ]
                },
                {
                    "command": [
                        "auto using one_leader_per_term_invariant.",
                        "VernacExtend",
                        "4054edae777cd8405fa9fb90a62ea4737d3d3def"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}