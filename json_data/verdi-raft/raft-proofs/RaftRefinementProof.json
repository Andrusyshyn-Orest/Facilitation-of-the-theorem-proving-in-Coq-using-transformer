{
    "filename": "raft-proofs/RaftRefinementProof.v",
    "coq_project": "verdi-raft",
    "vernac_cmds": [
        [
            "Require Import FunctionalExtensionality.",
            "VernacRequire",
            "bb1bf6a28f9de1b2ad0dab7920189198216ed486"
        ],
        [
            "Require Import Verdi.GhostSimulations.",
            "VernacRequire",
            "891dab67151e6ddfd50d6b357dfdba6cdf4a4361"
        ],
        [
            "Require Import VerdiRaft.Raft.",
            "VernacRequire",
            "36b0b9afd1c52050ce42daf3c5fa4abb91993f25"
        ],
        [
            "Require Import VerdiRaft.RaftRefinementInterface.",
            "VernacRequire",
            "927926da3b5a03c3f12be5b77cf55cd407b249d6"
        ],
        [
            "Set Bullet Behavior \"Strict Subproofs\".",
            "VernacSetOption",
            "2f48a6a957bc407939a01b772051438c4013f99b"
        ],
        [
            "Section RaftRefinementProof.",
            "VernacBeginSection",
            "60b45b480f9aa4604e094b0f4d1e82316ea297cc"
        ],
        [
            "Context {orig_base_params : BaseParams}.",
            "VernacContext",
            "69028e681894580fbc36a6124a9136decfafb159"
        ],
        [
            "Context {one_node_params : OneNodeParams orig_base_params}.",
            "VernacContext",
            "013ed31ca1bcacb0528fc416f1059cfa49b9df65"
        ],
        [
            "Context {raft_params : RaftParams orig_base_params}.",
            "VernacContext",
            "f5c24333154da8ee6ae37600b526f95496c92448"
        ],
        [
            "Lemma refined_raft_invariant_handle_message P : forall xs p ys net st' ps' gd d l, refined_raft_net_invariant_append_entries P -> refined_raft_net_invariant_append_entries_reply P -> refined_raft_net_invariant_request_vote P -> refined_raft_net_invariant_request_vote_reply P -> handleMessage (pSrc p) (pDst p) (pBody p) (snd (nwState net (pDst p))) = (d, l) -> update_elections_data_net (pDst p) (pSrc p) (pBody p) (nwState net (pDst p)) = gd -> P net -> refined_raft_intermediate_reachable net -> nwPackets net = xs ++ p :: ys -> (forall h, st' h = update name_eq_dec (nwState net) (pDst p) (gd, d) h) -> (forall p', In p' ps' -> In p' (xs ++ ys) \\/ In p' (send_packets (pDst p) l)) -> P (mkNetwork ps' st').",
            "VernacStartTheoremProof",
            "cb15dec72f04a82ddb7ecf121075c669a2bf803d"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold handleMessage, update_elections_data_net in *.",
            "VernacExtend",
            "88bb13b05f157d6a10493295ff8a05cedba123d6"
        ],
        [
            "break_match; repeat break_let; repeat find_inversion; [eapply_prop refined_raft_net_invariant_request_vote| eapply_prop refined_raft_net_invariant_request_vote_reply| eapply_prop refined_raft_net_invariant_append_entries| eapply_prop refined_raft_net_invariant_append_entries_reply]; eauto; unfold send_packets in *; simpl in *; intros; subst; auto; find_apply_hyp_hyp; intuition.",
            "VernacExtend",
            "073d1f921d41e47a07587f3c7f4852c4f3d0c68d"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma refined_raft_invariant_handle_input P : forall h inp net st' ps' gd out d l, refined_raft_net_invariant_timeout P -> refined_raft_net_invariant_client_request P -> handleInput h inp (snd (nwState net h)) = (out, d, l) -> update_elections_data_input h inp (nwState net h) = gd -> P net -> refined_raft_intermediate_reachable net -> (forall h', st' h' = update name_eq_dec (nwState net) h (gd, d) h') -> (forall p', In p' ps' -> In p' (nwPackets net) \\/ In p' (send_packets h l)) -> P (mkNetwork ps' st').",
            "VernacStartTheoremProof",
            "0ba853412e1c02caf49295c9b3863397a3babc33"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold handleInput, update_elections_data_input in *.",
            "VernacExtend",
            "c55819732db0480dd822b70c2652720fcd3d782b"
        ],
        [
            "break_match; repeat break_let; repeat find_inversion; [eapply_prop refined_raft_net_invariant_timeout| eapply_prop refined_raft_net_invariant_client_request]; eauto; subst; auto.",
            "VernacExtend",
            "99958d1ed729503a675ba72576a7d02c2dab1566"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem refined_raft_net_invariant : forall P net, refined_raft_net_invariant_init P -> refined_raft_net_invariant_client_request P -> refined_raft_net_invariant_timeout P -> refined_raft_net_invariant_append_entries P -> refined_raft_net_invariant_append_entries_reply P -> refined_raft_net_invariant_request_vote P -> refined_raft_net_invariant_request_vote_reply P -> refined_raft_net_invariant_do_leader P -> refined_raft_net_invariant_do_generic_server P -> refined_raft_net_invariant_state_same_packet_subset P -> refined_raft_net_invariant_reboot P -> refined_raft_intermediate_reachable net -> P net.",
            "VernacStartTheoremProof",
            "703d09dd80ea7746400d9cf17938ff3e28d7c3b5"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "induction H10.",
            "VernacExtend",
            "cc2d430db6cd11e1f70a7ce1abe9a55a831be582"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "match goal with [H : step_failure _ _ _ |- _ ] => invcs H end.",
            "VernacExtend",
            "c10e0f5d3a8a5a13bf9a0a44db9f07cb3c4c7437"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold refined_net_handlers in *.",
            "VernacExtend",
            "861d641d10e302a1beea9e519c83e0a18e1cfe13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold RaftNetHandler, update_elections_data_net in *.",
            "VernacExtend",
            "c0ce24d7e8ca7f2103f89b1543e0c46eaf26b9f9"
        ],
        [
            "repeat break_let.",
            "VernacExtend",
            "af4c4045b2a41d256b959f44ffccc9ee0df74742"
        ],
        [
            "repeat find_inversion.",
            "VernacExtend",
            "610a52b1e463e62cd0972175e3f79f0f0fe13ec5"
        ],
        [
            "assert (refined_raft_intermediate_reachable {| nwPackets := (xs ++ ys) ++ send_packets (pDst p) l2; nwState := update name_eq_dec (nwState net) (pDst p) (update_elections_data_net (pDst p) (pSrc p) (pBody p) (nwState net (pDst p)), r0) |}) by (eapply RRIR_handleMessage; eauto; in_crush).",
            "VernacExtend",
            "c2eccaee17017a6a74ab955905cb7255450893e1"
        ],
        [
            "assert (refined_raft_intermediate_reachable {| nwPackets := ((xs ++ ys) ++ send_packets (pDst p) l2) ++ send_packets (pDst p) l3 ; nwState := update name_eq_dec (nwState {| nwPackets := (xs ++ ys) ++ send_packets (pDst p) l2; nwState := update name_eq_dec (nwState net) (pDst p) (update_elections_data_net (pDst p) (pSrc p) (pBody p) (nwState net (pDst p)), r0) |}) (pDst p) (update_elections_data_net (pDst p) (pSrc p) (pBody p) (nwState net (pDst p)), r1) |}) by (eapply RRIR_doLeader; eauto; [simpl in *; break_if; try congruence; eauto| in_crush]).",
            "VernacExtend",
            "a6e7610c149b635561b9758a146d2b181047a83b"
        ],
        [
            "eapply_prop refined_raft_net_invariant_do_generic_server.",
            "VernacExtend",
            "adf8c8af2b8234ecca3df0878919b570dfba9199"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply_prop refined_raft_net_invariant_do_leader.",
            "VernacExtend",
            "37eaa7057453b6bf24505d6f905f0c1fc91fee0f"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply refined_raft_invariant_handle_message with (P := P); eauto using in_app_or.",
            "VernacExtend",
            "6698404eebc1c6ff304a8fc3dccb5fb6c99f469d"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "break_if; intuition eauto.",
            "VernacExtend",
            "22af42d6021aa8d9eb5994b33d5a4d5b1b60a69e"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "eapply in_app_or.",
            "VernacExtend",
            "86e875cb0557dacb4bece28755ccbd49ab957d22"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "break_if; eauto; congruence.",
            "VernacExtend",
            "cfa278bea860339bfc6ec218cc46522f45bab76d"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "break_if; subst; repeat rewrite update_same by auto; repeat rewrite update_neq by auto; auto.",
            "VernacExtend",
            "24fc050ca694b8f3bd3e28331a6672e89eed392c"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold refined_input_handlers in *.",
            "VernacExtend",
            "37932c13c6043c6d3194fd622107e0c3e55a1de5"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold RaftInputHandler, update_elections_data_input in *.",
            "VernacExtend",
            "7e5b26eda6e5be379a592e4cf9ce3df3200932ca"
        ],
        [
            "repeat break_let.",
            "VernacExtend",
            "af4c4045b2a41d256b959f44ffccc9ee0df74742"
        ],
        [
            "repeat find_inversion.",
            "VernacExtend",
            "610a52b1e463e62cd0972175e3f79f0f0fe13ec5"
        ],
        [
            "assert (refined_raft_intermediate_reachable {| nwPackets := nwPackets net ++ send_packets h l2; nwState := update name_eq_dec (nwState net) h (update_elections_data_input h inp (nwState net h), r0) |}) by (eapply RRIR_handleInput; eauto; in_crush).",
            "VernacExtend",
            "35dbef02ec1b35a25d17dede0978cb030025c835"
        ],
        [
            "assert (refined_raft_intermediate_reachable {| nwPackets := (nwPackets net ++ send_packets h l2) ++ send_packets h l4 ; nwState := update name_eq_dec (nwState {| nwPackets := nwPackets net ++ send_packets h l2; nwState := update name_eq_dec (nwState net) h (update_elections_data_input h inp (nwState net h), r0) |}) h (update_elections_data_input h inp (nwState net h), r1) |}) by (eapply RRIR_doLeader; eauto; [simpl in *; break_if; try congruence; eauto| in_crush]).",
            "VernacExtend",
            "a67bfe20866ffc557469daeafd250e9ef81aaae3"
        ],
        [
            "eapply_prop refined_raft_net_invariant_do_generic_server.",
            "VernacExtend",
            "adf8c8af2b8234ecca3df0878919b570dfba9199"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply_prop refined_raft_net_invariant_do_leader.",
            "VernacExtend",
            "37eaa7057453b6bf24505d6f905f0c1fc91fee0f"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply refined_raft_invariant_handle_input with (P := P); eauto using in_app_or.",
            "VernacExtend",
            "6e38991563960288ff7669b03bd632c5189d1e40"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "break_if; intuition eauto.",
            "VernacExtend",
            "22af42d6021aa8d9eb5994b33d5a4d5b1b60a69e"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "eapply in_app_or.",
            "VernacExtend",
            "86e875cb0557dacb4bece28755ccbd49ab957d22"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "break_if; eauto; congruence.",
            "VernacExtend",
            "cfa278bea860339bfc6ec218cc46522f45bab76d"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "break_if; subst; repeat rewrite update_same by auto; repeat rewrite update_neq by auto; auto.",
            "VernacExtend",
            "24fc050ca694b8f3bd3e28331a6672e89eed392c"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "unfold send_packets.",
            "VernacExtend",
            "b35ebd02b12276b2284a985a125d7a4d5954a9cb"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "match goal with | [ H : nwPackets ?net = _ |- _ {| nwPackets := ?ps ; nwState := ?st |} ] => assert (forall p, In p (nwPackets {| nwPackets := ps ; nwState := st |}) -> In p (nwPackets net)) by (intros; simpl in *; find_rewrite; in_crush) end.",
            "VernacExtend",
            "b203337e62bf9558f309edf0764f029b73e5e0e4"
        ],
        [
            "eapply_prop refined_raft_net_invariant_state_same_packet_subset; [|eauto|idtac|]; eauto.",
            "VernacExtend",
            "e582ea4673ccc939523b0841c1abf81fa3ee2044"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "match goal with | [ H : nwPackets ?net = _ |- _ {| nwPackets := ?ps ; nwState := ?st |} ] => assert (forall p, In p (nwPackets {| nwPackets := ps ; nwState := st |}) -> In p (nwPackets net)) by (intros; simpl in *; find_rewrite; in_crush) end.",
            "VernacExtend",
            "b203337e62bf9558f309edf0764f029b73e5e0e4"
        ],
        [
            "eapply_prop refined_raft_net_invariant_state_same_packet_subset; [|eauto|idtac|]; eauto.",
            "VernacExtend",
            "e582ea4673ccc939523b0841c1abf81fa3ee2044"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "eapply_prop refined_raft_net_invariant_reboot; eauto; intros; simpl in *; repeat break_if; intuition; subst; intuition eauto.",
            "VernacExtend",
            "c2d98c893b9cbc810ddf88078e844109ec9ff42a"
        ],
        [
            "destruct (nwState net h); auto.",
            "VernacExtend",
            "0924dafe1265c91aa66502654e679d7812e1fadf"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply refined_raft_invariant_handle_input; eauto.",
            "VernacExtend",
            "902f268020a32103f8d19a89d09249e85d08292d"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply refined_raft_invariant_handle_message; eauto.",
            "VernacExtend",
            "75595f4c551c72a5d29d22ce95dd78d3060a97e7"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply_prop refined_raft_net_invariant_do_leader; eauto.",
            "VernacExtend",
            "3eaf5d21212b1c4fb4466e9f7ba6b9c42f1e1adc"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply_prop refined_raft_net_invariant_do_generic_server; eauto.",
            "VernacExtend",
            "55a8454038fecb5feb968d6b87bb94b0339ad2a5"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma refined_raft_invariant_handle_message' P : forall xs p ys net st' ps' gd d l, refined_raft_net_invariant_append_entries' P -> refined_raft_net_invariant_append_entries_reply' P -> refined_raft_net_invariant_request_vote' P -> refined_raft_net_invariant_request_vote_reply' P -> handleMessage (pSrc p) (pDst p) (pBody p) (snd (nwState net (pDst p))) = (d, l) -> update_elections_data_net (pDst p) (pSrc p) (pBody p) (nwState net (pDst p)) = gd -> P net -> refined_raft_intermediate_reachable net -> refined_raft_intermediate_reachable (mkNetwork ps' st') -> nwPackets net = xs ++ p :: ys -> (forall h, st' h = update name_eq_dec (nwState net) (pDst p) (gd, d) h) -> (forall p', In p' ps' -> In p' (xs ++ ys) \\/ In p' (send_packets (pDst p) l)) -> P (mkNetwork ps' st').",
            "VernacStartTheoremProof",
            "bc92aeaa73cc1c1f14a929a829edd360593b80ef"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold handleMessage, update_elections_data_net in *.",
            "VernacExtend",
            "88bb13b05f157d6a10493295ff8a05cedba123d6"
        ],
        [
            "break_match; repeat break_let; repeat find_inversion; [eapply_prop refined_raft_net_invariant_request_vote'| eapply_prop refined_raft_net_invariant_request_vote_reply'| eapply_prop refined_raft_net_invariant_append_entries'| eapply_prop refined_raft_net_invariant_append_entries_reply']; eauto; unfold send_packets in *; simpl in *; intros; subst; auto; find_apply_hyp_hyp; intuition.",
            "VernacExtend",
            "ff475161959b87559319b6714e6983770d666fbe"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma refined_raft_invariant_handle_input' P : forall h inp net st' ps' gd out d l, refined_raft_net_invariant_timeout' P -> refined_raft_net_invariant_client_request' P -> handleInput h inp (snd (nwState net h)) = (out, d, l) -> update_elections_data_input h inp (nwState net h) = gd -> P net -> refined_raft_intermediate_reachable net -> refined_raft_intermediate_reachable (mkNetwork ps' st') -> (forall h', st' h' = update name_eq_dec (nwState net) h (gd, d) h') -> (forall p', In p' ps' -> In p' (nwPackets net) \\/ In p' (send_packets h l)) -> P (mkNetwork ps' st').",
            "VernacStartTheoremProof",
            "91964849be1032fbcca99413e1846118e13449ee"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold handleInput, update_elections_data_input in *.",
            "VernacExtend",
            "c55819732db0480dd822b70c2652720fcd3d782b"
        ],
        [
            "break_match; repeat break_let; repeat find_inversion; [eapply_prop refined_raft_net_invariant_timeout'| eapply_prop refined_raft_net_invariant_client_request']; eauto; subst; auto.",
            "VernacExtend",
            "ed32405528da7729d8d1645f11428a31a32f984b"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem refined_raft_net_invariant' : forall P net, refined_raft_net_invariant_init P -> refined_raft_net_invariant_client_request' P -> refined_raft_net_invariant_timeout' P -> refined_raft_net_invariant_append_entries' P -> refined_raft_net_invariant_append_entries_reply' P -> refined_raft_net_invariant_request_vote' P -> refined_raft_net_invariant_request_vote_reply' P -> refined_raft_net_invariant_do_leader' P -> refined_raft_net_invariant_do_generic_server' P -> refined_raft_net_invariant_state_same_packet_subset P -> refined_raft_net_invariant_reboot' P -> refined_raft_intermediate_reachable net -> P net.",
            "VernacStartTheoremProof",
            "a4ad9f2188cfa03f271062be550ef11b403ecb1c"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "induction H10.",
            "VernacExtend",
            "cc2d430db6cd11e1f70a7ce1abe9a55a831be582"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "match goal with [H : step_failure _ _ _ |- _ ] => invcs H end.",
            "VernacExtend",
            "c10e0f5d3a8a5a13bf9a0a44db9f07cb3c4c7437"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "match goal with | [ H : refined_raft_intermediate_reachable _ |- _ ?x ] => assert (refined_raft_intermediate_reachable x) as Hpost by (eapply RRIR_step_failure; eauto; eapply StepFailure_deliver; eauto) end.",
            "VernacExtend",
            "b4d3333db05603f0de1a17ee89a29d8488507117"
        ],
        [
            "unfold refined_net_handlers in *.",
            "VernacExtend",
            "861d641d10e302a1beea9e519c83e0a18e1cfe13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold RaftNetHandler, update_elections_data_net in *.",
            "VernacExtend",
            "c0ce24d7e8ca7f2103f89b1543e0c46eaf26b9f9"
        ],
        [
            "repeat break_let.",
            "VernacExtend",
            "af4c4045b2a41d256b959f44ffccc9ee0df74742"
        ],
        [
            "repeat find_inversion.",
            "VernacExtend",
            "610a52b1e463e62cd0972175e3f79f0f0fe13ec5"
        ],
        [
            "match goal with | [ H : refined_raft_intermediate_reachable ?net, H' : context [net] |- _ ] => match type of H' with | refined_raft_intermediate_reachable _ => move H after H' end end.",
            "VernacExtend",
            "f575054832fa45c05499c67031fe09952248c798"
        ],
        [
            "assert (refined_raft_intermediate_reachable {| nwPackets := (xs ++ ys) ++ send_packets (pDst p) l2; nwState := update name_eq_dec (nwState net) (pDst p) (update_elections_data_net (pDst p) (pSrc p) (pBody p) (nwState net (pDst p)), r0) |}) by (eapply RRIR_handleMessage; eauto; in_crush).",
            "VernacExtend",
            "c2eccaee17017a6a74ab955905cb7255450893e1"
        ],
        [
            "assert (refined_raft_intermediate_reachable {| nwPackets := ((xs ++ ys) ++ send_packets (pDst p) l2) ++ send_packets (pDst p) l3 ; nwState := update name_eq_dec (nwState {| nwPackets := (xs ++ ys) ++ send_packets (pDst p) l2; nwState := update name_eq_dec (nwState net) (pDst p) (update_elections_data_net (pDst p) (pSrc p) (pBody p) (nwState net (pDst p)), r0) |}) (pDst p) (update_elections_data_net (pDst p) (pSrc p) (pBody p) (nwState net (pDst p)), r1) |}) by (eapply RRIR_doLeader; eauto; [simpl in *; break_if; try congruence; eauto| in_crush]).",
            "VernacExtend",
            "a6e7610c149b635561b9758a146d2b181047a83b"
        ],
        [
            "eapply_prop refined_raft_net_invariant_do_generic_server'.",
            "VernacExtend",
            "16fb24245443876464d443d084bb89829b6e8061"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply_prop refined_raft_net_invariant_do_leader'.",
            "VernacExtend",
            "f4efcc8f323d5a498c6277d619883c724ac1d2fc"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply refined_raft_invariant_handle_message' with (P := P); auto.",
            "VernacExtend",
            "677011eb376197d4633e46f92099849b6f761ad4"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eauto using in_app_or.",
            "VernacExtend",
            "6d2d762002cd1604ae41045caeae7f31230aad75"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "break_if; intuition eauto.",
            "VernacExtend",
            "22af42d6021aa8d9eb5994b33d5a4d5b1b60a69e"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "eapply in_app_or.",
            "VernacExtend",
            "86e875cb0557dacb4bece28755ccbd49ab957d22"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "break_if; eauto; congruence.",
            "VernacExtend",
            "cfa278bea860339bfc6ec218cc46522f45bab76d"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "break_if; subst; repeat rewrite update_same by auto; repeat rewrite update_neq by auto; auto.",
            "VernacExtend",
            "24fc050ca694b8f3bd3e28331a6672e89eed392c"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "match goal with | [ H : refined_raft_intermediate_reachable _ |- _ ?x ] => assert (refined_raft_intermediate_reachable x) as Hpost by (eapply RRIR_step_failure; eauto; eapply StepFailure_input; eauto) end.",
            "VernacExtend",
            "c1064a1896a1de810bfff31991c9b3a0d25ba210"
        ],
        [
            "unfold refined_input_handlers in *.",
            "VernacExtend",
            "37932c13c6043c6d3194fd622107e0c3e55a1de5"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold RaftInputHandler, update_elections_data_input in *.",
            "VernacExtend",
            "7e5b26eda6e5be379a592e4cf9ce3df3200932ca"
        ],
        [
            "repeat break_let.",
            "VernacExtend",
            "af4c4045b2a41d256b959f44ffccc9ee0df74742"
        ],
        [
            "repeat find_inversion.",
            "VernacExtend",
            "610a52b1e463e62cd0972175e3f79f0f0fe13ec5"
        ],
        [
            "match goal with | [ H : refined_raft_intermediate_reachable ?net, H' : context [net] |- _ ] => match type of H' with | refined_raft_intermediate_reachable _ => move H after H' end end.",
            "VernacExtend",
            "f575054832fa45c05499c67031fe09952248c798"
        ],
        [
            "assert (refined_raft_intermediate_reachable {| nwPackets := nwPackets net ++ send_packets h l2; nwState := update name_eq_dec (nwState net) h (update_elections_data_input h inp (nwState net h), r0) |}) by (eapply RRIR_handleInput; eauto; in_crush).",
            "VernacExtend",
            "35dbef02ec1b35a25d17dede0978cb030025c835"
        ],
        [
            "assert (refined_raft_intermediate_reachable {| nwPackets := (nwPackets net ++ send_packets h l2) ++ send_packets h l4 ; nwState := update name_eq_dec (nwState {| nwPackets := nwPackets net ++ send_packets h l2; nwState := update name_eq_dec (nwState net) h (update_elections_data_input h inp (nwState net h), r0) |}) h (update_elections_data_input h inp (nwState net h), r1) |}) by (eapply RRIR_doLeader; eauto; [simpl in *; break_if; try congruence; eauto| in_crush]).",
            "VernacExtend",
            "a67bfe20866ffc557469daeafd250e9ef81aaae3"
        ],
        [
            "eapply_prop refined_raft_net_invariant_do_generic_server'.",
            "VernacExtend",
            "16fb24245443876464d443d084bb89829b6e8061"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply_prop refined_raft_net_invariant_do_leader'.",
            "VernacExtend",
            "f4efcc8f323d5a498c6277d619883c724ac1d2fc"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply refined_raft_invariant_handle_input' with (P := P); auto.",
            "VernacExtend",
            "e4d60a460d53cce6d66c785cc2d95d69f593aab2"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "all:auto.",
            "VernacExtend",
            "9e08094d0f9eb999c8c7ba180101ffde11ab5337"
        ],
        [
            "all: eauto.",
            "VernacExtend",
            "abf331517c3b0280175ca992c8175fc968b42c47"
        ],
        [
            "eauto using in_app_or.",
            "VernacExtend",
            "6d2d762002cd1604ae41045caeae7f31230aad75"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "break_if; intuition eauto.",
            "VernacExtend",
            "22af42d6021aa8d9eb5994b33d5a4d5b1b60a69e"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "eapply in_app_or.",
            "VernacExtend",
            "86e875cb0557dacb4bece28755ccbd49ab957d22"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "break_if; eauto; congruence.",
            "VernacExtend",
            "cfa278bea860339bfc6ec218cc46522f45bab76d"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "break_if; subst; repeat rewrite update_same by auto; repeat rewrite update_neq by auto; auto.",
            "VernacExtend",
            "24fc050ca694b8f3bd3e28331a6672e89eed392c"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "unfold send_packets.",
            "VernacExtend",
            "b35ebd02b12276b2284a985a125d7a4d5954a9cb"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "match goal with | [ H : nwPackets ?net = _ |- _ {| nwPackets := ?ps ; nwState := ?st |} ] => assert (forall p, In p (nwPackets {| nwPackets := ps ; nwState := st |}) -> In p (nwPackets net)) by (intros; simpl in *; find_rewrite; in_crush) end.",
            "VernacExtend",
            "b203337e62bf9558f309edf0764f029b73e5e0e4"
        ],
        [
            "eapply_prop refined_raft_net_invariant_state_same_packet_subset; [|eauto|idtac|]; eauto.",
            "VernacExtend",
            "e582ea4673ccc939523b0841c1abf81fa3ee2044"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "match goal with | [ H : nwPackets ?net = _ |- _ {| nwPackets := ?ps ; nwState := ?st |} ] => assert (forall p, In p (nwPackets {| nwPackets := ps ; nwState := st |}) -> In p (nwPackets net)) by (intros; simpl in *; find_rewrite; in_crush) end.",
            "VernacExtend",
            "b203337e62bf9558f309edf0764f029b73e5e0e4"
        ],
        [
            "eapply_prop refined_raft_net_invariant_state_same_packet_subset; [|eauto|idtac|]; eauto.",
            "VernacExtend",
            "e582ea4673ccc939523b0841c1abf81fa3ee2044"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "eapply_prop refined_raft_net_invariant_reboot'; eauto; intros; simpl in *; repeat break_if; intuition; subst; intuition eauto.",
            "VernacExtend",
            "1fab3b175ce5adf99c2abad1da7a3bb93883ef6d"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "econstructor.",
            "VernacExtend",
            "57e0061dc596e77c9d30460f8165a53e99efafc2"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "eapply StepFailure_reboot; eauto.",
            "VernacExtend",
            "95493612d74c5cabd6c4af1970de01095d1b9e50"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "destruct (nwState net h); auto.",
            "VernacExtend",
            "0924dafe1265c91aa66502654e679d7812e1fadf"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply refined_raft_invariant_handle_input'; eauto.",
            "VernacExtend",
            "b5ec0cf1ac4748c480eaced0ff4941b7a815ec60"
        ],
        [
            "eapply RRIR_handleInput; eauto.",
            "VernacExtend",
            "a9a3c6d122115422db8108c0326d46d65a49ddc5"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply refined_raft_invariant_handle_message'; eauto.",
            "VernacExtend",
            "48066173851bc99b1b16381239ba073086b4458c"
        ],
        [
            "eapply RRIR_handleMessage; eauto.",
            "VernacExtend",
            "6a29b049cd42e55486cfdfae43167237c581d81f"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply_prop refined_raft_net_invariant_do_leader'; eauto.",
            "VernacExtend",
            "70cef6b61e555960878436f27a69403e539c6eb0"
        ],
        [
            "eapply RRIR_doLeader; eauto.",
            "VernacExtend",
            "94986467b9e278ed12cbe5096d3e52299718321e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eapply_prop refined_raft_net_invariant_do_generic_server'; eauto.",
            "VernacExtend",
            "5db1904082d73480b85b33f52484928be95bc8ba"
        ],
        [
            "eapply RRIR_doGenericServer; eauto.",
            "VernacExtend",
            "28e3e3ad0317a7efceedfd8be633d26874bad6c8"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Ltac workhorse := try match goal with | [ |- mkNetwork _ _ = mkNetwork _ _ ] => f_equal end; try match goal with | [ |- (fun _ => _) = (fun _ => _) ] => apply functional_extensionality; intros end; repeat break_match; repeat match goal with | [ H : (_, _) = (_, _) |- _ ] => invc H end; repeat (simpl in *; subst); repeat rewrite map_app; repeat rewrite map_map.",
            "VernacExtend",
            "5d5f196c7ecb573c533187659abe6ea00711a1e0"
        ],
        [
            "Theorem simulation_1 : forall net, refined_raft_intermediate_reachable net -> raft_intermediate_reachable (deghost net).",
            "VernacStartTheoremProof",
            "c860e06cd72306715805cc0d3bbda5ec92c40994"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "induction H.",
            "VernacExtend",
            "f8e74d6b42ecd6b509e6a20cee53bb69d051cd07"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "pose proof (RIR_step_failure).",
            "VernacExtend",
            "f9975300b8f3f455435c0e9d95f8fdc8d0731231"
        ],
        [
            "specialize (H1 failed (deghost net) failed' (deghost net') out).",
            "VernacExtend",
            "096a6cdec91badc82c83002347236ad4954cde02"
        ],
        [
            "apply H1; auto.",
            "VernacExtend",
            "57fc44af14fcaf3758941b68060efcbab0060c55"
        ],
        [
            "apply ghost_simulation_1; auto.",
            "VernacExtend",
            "a5e4f59f64eac151147bb26b124a160b9cc0daa3"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold deghost in *.",
            "VernacExtend",
            "091c0019f1b164a7e891ffb899842ffa9255bd9c"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "eapply RIR_handleInput; eauto.",
            "VernacExtend",
            "26ea830900156e390bb2abe616b57689ae999f4b"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat break_match.",
            "VernacExtend",
            "d5be774ae50a104152bb83c7f71155bc3bfcc912"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "assert (nwState h = (g, d0)) by eauto.",
            "VernacExtend",
            "cc55a621899693df2f3307abdb9e95b04666b5bf"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat break_match; subst; simpl in *; repeat find_higher_order_rewrite; break_if; subst; simpl in *; congruence.",
            "VernacExtend",
            "6ab347f020d769e8fa63bf00ef18d1b9d41e5516"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "find_apply_hyp_hyp.",
            "VernacExtend",
            "5383dcfa01573f561f26c2e7f308613c889a9c8b"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold deghost in *.",
            "VernacExtend",
            "091c0019f1b164a7e891ffb899842ffa9255bd9c"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "pose proof (RIR_handleMessage).",
            "VernacExtend",
            "87b0b4e8b71693050de4a16fb0a048ea0cd2d977"
        ],
        [
            "specialize (H5 (@mkPacket _ multi_params (pSrc p) (pDst p) (pBody p))).",
            "VernacExtend",
            "4ab4125476158e5b6466b44bfb206923ae5af1f1"
        ],
        [
            "eapply H5; eauto.",
            "VernacExtend",
            "86e549aa0d7e0dbe124d9cadae0c64709f8ebdd7"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat break_match.",
            "VernacExtend",
            "d5be774ae50a104152bb83c7f71155bc3bfcc912"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold raft_refined_base_params, raft_refined_multi_params in *.",
            "VernacExtend",
            "5afc889b9ff98272c12ef9151ce78920aaceb6b5"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "map_crush.",
            "VernacExtend",
            "4aad5fc71845c0d145b2202da571e7783a963e0a"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_match.",
            "VernacExtend",
            "d5be774ae50a104152bb83c7f71155bc3bfcc912"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat find_higher_order_rewrite.",
            "VernacExtend",
            "f69dd976e7be9fe652f13ef2002e26a8b500e05e"
        ],
        [
            "repeat break_match; congruence.",
            "VernacExtend",
            "a2bd0842a7176f30b2192033f4c9c76191aa562f"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "find_apply_hyp_hyp.",
            "VernacExtend",
            "5383dcfa01573f561f26c2e7f308613c889a9c8b"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold deghost in *.",
            "VernacExtend",
            "091c0019f1b164a7e891ffb899842ffa9255bd9c"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "eapply RIR_doLeader; eauto.",
            "VernacExtend",
            "d0bf12f279f1de9bdb9ee191ca76591bb09707fa"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat break_match.",
            "VernacExtend",
            "d5be774ae50a104152bb83c7f71155bc3bfcc912"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "assert (nwState h = (g, d0)) by eauto.",
            "VernacExtend",
            "cc55a621899693df2f3307abdb9e95b04666b5bf"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "repeat find_inversion.",
            "VernacExtend",
            "610a52b1e463e62cd0972175e3f79f0f0fe13ec5"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_match; simpl in *; repeat find_higher_order_rewrite; repeat break_match; congruence.",
            "VernacExtend",
            "fbb4af98803163909f04e7936818e0b7564b3df2"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "find_apply_hyp_hyp.",
            "VernacExtend",
            "5383dcfa01573f561f26c2e7f308613c889a9c8b"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold deghost in *.",
            "VernacExtend",
            "091c0019f1b164a7e891ffb899842ffa9255bd9c"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "eapply RIR_doGenericServer; eauto.",
            "VernacExtend",
            "3380813463c70d5432dd3444aed796b912bd5f06"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat break_match.",
            "VernacExtend",
            "d5be774ae50a104152bb83c7f71155bc3bfcc912"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "assert (nwState h = (g, d0)) by eauto.",
            "VernacExtend",
            "cc55a621899693df2f3307abdb9e95b04666b5bf"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "repeat find_inversion.",
            "VernacExtend",
            "610a52b1e463e62cd0972175e3f79f0f0fe13ec5"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat break_match; simpl in *; repeat find_higher_order_rewrite; repeat break_match; congruence.",
            "VernacExtend",
            "fbb4af98803163909f04e7936818e0b7564b3df2"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "find_apply_hyp_hyp.",
            "VernacExtend",
            "5383dcfa01573f561f26c2e7f308613c889a9c8b"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem lift_prop : forall P, (forall net, raft_intermediate_reachable net -> P net) -> (forall net, refined_raft_intermediate_reachable net -> P (deghost net)).",
            "VernacStartTheoremProof",
            "bbae9c9a4df324679176c72cff34641a2faa5599"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "eauto using simulation_1.",
            "VernacExtend",
            "49c66cac00b478f8d74fac43077239326921cd1c"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem simulation_2 : forall net, raft_intermediate_reachable net -> exists rnet, net = deghost rnet /\\ refined_raft_intermediate_reachable rnet.",
            "VernacStartTheoremProof",
            "c0f7e592869ec72de9cb8f3159a03e7caa31ed81"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "induction H.",
            "VernacExtend",
            "f8e74d6b42ecd6b509e6a20cee53bb69d051cd07"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exists (reghost step_async_init).",
            "VernacExtend",
            "ddd46ba8dd8a6f66cfe937cc5bd50a825896969e"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "unfold reghost.",
            "VernacExtend",
            "c6d7dc5914d792649c609f1ce842c88abe574c8f"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "break_and.",
            "VernacExtend",
            "90a213dc7b4fc55cb8bc34300101c3eaa0ead551"
        ],
        [
            "apply ghost_simulation_2 with (gnet := x) in H0; auto.",
            "VernacExtend",
            "c0edd669b6faeefcbf12c49f5d7bba256c381041"
        ],
        [
            "repeat (break_exists; intuition).",
            "VernacExtend",
            "2cc42c1342c6152e7a91051cdb9d43327159dea1"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "exists x0.",
            "VernacExtend",
            "9cf0657053433e90b28a795544f893f4a0f1ace3"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "eapply RRIR_step_failure; eauto.",
            "VernacExtend",
            "61f03969409157d9ee6b702def586e8aa4985e9d"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "break_and.",
            "VernacExtend",
            "90a213dc7b4fc55cb8bc34300101c3eaa0ead551"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "exists {| nwPackets := map ghost_packet ps' ; nwState := update name_eq_dec (nwState x) h (update_elections_data_input h inp (nwState x h), d) |}.",
            "VernacExtend",
            "0edecdecd9833f9b43792d05e3fd5ff317d7d229"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold deghost.",
            "VernacExtend",
            "b055a9e1838377f61bedc8f8d590095e4b0903de"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "map_crush.",
            "VernacExtend",
            "4aad5fc71845c0d145b2202da571e7783a963e0a"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "map_id.",
            "VernacExtend",
            "761206c2ae11eb80460277e20eaf939ef7611867"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "apply functional_extensionality.",
            "VernacExtend",
            "9c7e1fe6d23159d5580801709782c72a6cb0684f"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "find_higher_order_rewrite.",
            "VernacExtend",
            "d5c51c225cf2bb6113ae0479f9ff8c09e3aea4df"
        ],
        [
            "repeat break_match; auto.",
            "VernacExtend",
            "dcf9ce5b615d05b8163d0c847a2527e71a7004ab"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "congruence.",
            "VernacExtend",
            "d8c818f6cffeaee6a722a71acc77f2d6e5199eb9"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold deghost in *.",
            "VernacExtend",
            "091c0019f1b164a7e891ffb899842ffa9255bd9c"
        ],
        [
            "eapply RRIR_handleInput; repeat break_match; simpl in *; eauto.",
            "VernacExtend",
            "dce41fbfd57b7fd9f5a04a7f3077acb8ee310988"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "find_apply_hyp_hyp.",
            "VernacExtend",
            "5383dcfa01573f561f26c2e7f308613c889a9c8b"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "destruct x.",
            "VernacExtend",
            "24973a7b5353196d2d5bd2a7e0fe5cfacd5f4460"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "break_and.",
            "VernacExtend",
            "90a213dc7b4fc55cb8bc34300101c3eaa0ead551"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "exists {| nwPackets := map ghost_packet ps' ; nwState := update name_eq_dec (nwState x) (pDst p) (update_elections_data_net (pDst p) (pSrc p) (pBody p) (nwState x (pDst p)), d) |}.",
            "VernacExtend",
            "cba7a245848ef4f248cda9574dd546e969964ea1"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold deghost.",
            "VernacExtend",
            "b055a9e1838377f61bedc8f8d590095e4b0903de"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "map_crush.",
            "VernacExtend",
            "4aad5fc71845c0d145b2202da571e7783a963e0a"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "map_id.",
            "VernacExtend",
            "761206c2ae11eb80460277e20eaf939ef7611867"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "apply functional_extensionality.",
            "VernacExtend",
            "9c7e1fe6d23159d5580801709782c72a6cb0684f"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "find_higher_order_rewrite.",
            "VernacExtend",
            "d5c51c225cf2bb6113ae0479f9ff8c09e3aea4df"
        ],
        [
            "repeat break_match; auto.",
            "VernacExtend",
            "dcf9ce5b615d05b8163d0c847a2527e71a7004ab"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "congruence.",
            "VernacExtend",
            "d8c818f6cffeaee6a722a71acc77f2d6e5199eb9"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold deghost in *.",
            "VernacExtend",
            "091c0019f1b164a7e891ffb899842ffa9255bd9c"
        ],
        [
            "eapply RRIR_handleMessage with (p0 := ghost_packet p); repeat break_match; simpl in *; eauto.",
            "VernacExtend",
            "2ab08c8496dd0dd0d29a7eaf02278290ca8da7b0"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "match goal with | H : map _ ?la = ?lb |- _ => symmetry in H; pose proof @map_inverses _ _ la lb deghost_packet ghost_packet end.",
            "VernacExtend",
            "d69ee935f1268beb31793ddd5854e01b70176a48"
        ],
        [
            "repeat (forwards; [intro a; destruct a; reflexivity|]; concludes; match goal with | H : forall _ : packet, _ = _ |- _ => clear H end).",
            "VernacExtend",
            "4e1b41cc8893c63c67d1b4a6656c5b06c822b23f"
        ],
        [
            "concludes.",
            "VernacExtend",
            "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
        ],
        [
            "map_crush.",
            "VernacExtend",
            "4aad5fc71845c0d145b2202da571e7783a963e0a"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "find_apply_hyp_hyp.",
            "VernacExtend",
            "5383dcfa01573f561f26c2e7f308613c889a9c8b"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "break_and.",
            "VernacExtend",
            "90a213dc7b4fc55cb8bc34300101c3eaa0ead551"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "exists {| nwPackets := map ghost_packet ps' ; nwState := update name_eq_dec (nwState x) h (fst (nwState x h) , d') |}.",
            "VernacExtend",
            "6f732ff39bc317a5e8c7d0663c60bbecb52630de"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold deghost.",
            "VernacExtend",
            "b055a9e1838377f61bedc8f8d590095e4b0903de"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "map_crush.",
            "VernacExtend",
            "4aad5fc71845c0d145b2202da571e7783a963e0a"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "map_id.",
            "VernacExtend",
            "761206c2ae11eb80460277e20eaf939ef7611867"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "apply functional_extensionality.",
            "VernacExtend",
            "9c7e1fe6d23159d5580801709782c72a6cb0684f"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "find_higher_order_rewrite.",
            "VernacExtend",
            "d5c51c225cf2bb6113ae0479f9ff8c09e3aea4df"
        ],
        [
            "repeat break_match; auto.",
            "VernacExtend",
            "dcf9ce5b615d05b8163d0c847a2527e71a7004ab"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "congruence.",
            "VernacExtend",
            "d8c818f6cffeaee6a722a71acc77f2d6e5199eb9"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold deghost in *.",
            "VernacExtend",
            "091c0019f1b164a7e891ffb899842ffa9255bd9c"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat break_match; simpl in *.",
            "VernacExtend",
            "1d9edf31c9a7aaffb4e027f5f7adcda0654c6906"
        ],
        [
            "eapply RRIR_doLeader with (d0 := d) (h0 := h); repeat (break_match; simpl in *); eauto.",
            "VernacExtend",
            "4a500955f867dc5840945613dba2c828fc5fb895"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "find_rewrite.",
            "VernacExtend",
            "7a65e4f552b93330a384f7173c61cfa61058bef5"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "find_apply_hyp_hyp.",
            "VernacExtend",
            "5383dcfa01573f561f26c2e7f308613c889a9c8b"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "destruct x.",
            "VernacExtend",
            "24973a7b5353196d2d5bd2a7e0fe5cfacd5f4460"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "break_and.",
            "VernacExtend",
            "90a213dc7b4fc55cb8bc34300101c3eaa0ead551"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "exists {| nwPackets := map ghost_packet ps' ; nwState := update name_eq_dec (nwState x) h (fst (nwState x h) , d') |}.",
            "VernacExtend",
            "6f732ff39bc317a5e8c7d0663c60bbecb52630de"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold deghost.",
            "VernacExtend",
            "b055a9e1838377f61bedc8f8d590095e4b0903de"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "map_crush.",
            "VernacExtend",
            "4aad5fc71845c0d145b2202da571e7783a963e0a"
        ],
        [
            "f_equal.",
            "VernacExtend",
            "dfce814d1efcef60f8330516ad88155a3a5ec317"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "map_id.",
            "VernacExtend",
            "761206c2ae11eb80460277e20eaf939ef7611867"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "apply functional_extensionality.",
            "VernacExtend",
            "9c7e1fe6d23159d5580801709782c72a6cb0684f"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "find_higher_order_rewrite.",
            "VernacExtend",
            "d5c51c225cf2bb6113ae0479f9ff8c09e3aea4df"
        ],
        [
            "repeat break_match; auto.",
            "VernacExtend",
            "dcf9ce5b615d05b8163d0c847a2527e71a7004ab"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "congruence.",
            "VernacExtend",
            "d8c818f6cffeaee6a722a71acc77f2d6e5199eb9"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold deghost in *.",
            "VernacExtend",
            "091c0019f1b164a7e891ffb899842ffa9255bd9c"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat break_match; simpl in *.",
            "VernacExtend",
            "1d9edf31c9a7aaffb4e027f5f7adcda0654c6906"
        ],
        [
            "eapply RRIR_doGenericServer with (d0 := d) (h0 := h); repeat (break_match; simpl in *); eauto.",
            "VernacExtend",
            "a162a5239578fd2c23a41a779d398b2bc0b1978e"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "find_rewrite.",
            "VernacExtend",
            "7a65e4f552b93330a384f7173c61cfa61058bef5"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "find_apply_hyp_hyp.",
            "VernacExtend",
            "5383dcfa01573f561f26c2e7f308613c889a9c8b"
        ],
        [
            "in_crush.",
            "VernacExtend",
            "1cec37b1df9aed7611c9dc2928e77e203488f72a"
        ],
        [
            "destruct x.",
            "VernacExtend",
            "24973a7b5353196d2d5bd2a7e0fe5cfacd5f4460"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem lower_prop : forall P : _ -> Prop, (forall net, refined_raft_intermediate_reachable net -> P (deghost net)) -> (forall net, raft_intermediate_reachable net -> P net).",
            "VernacStartTheoremProof",
            "49a9948a853ae62633141e761a1d26eef54084d6"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "find_apply_lem_hyp simulation_2.",
            "VernacExtend",
            "4c9901284376c0b97be88297baf5d9e749f7c7f9"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma deghost_spec : forall (net : @network _ raft_refined_multi_params) h, nwState (deghost net) h = snd (nwState net h).",
            "VernacStartTheoremProof",
            "037de34cd61916ada6b17b5f89f6ae401fd64076"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "destruct net; auto.",
            "VernacExtend",
            "ae9c5d948524fdf6baa17927b80051c983b1b108"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Instance rri : raft_refinement_interface.",
            "VernacInstance",
            "dacb7ef1d2c82eb0b6b6ea598fe01c06146621c8"
        ],
        [
            "split.",
            "VernacExtend",
            "55abc140132bd88981001ac656020469a8d503eb"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exact refined_raft_net_invariant.",
            "VernacExtend",
            "ea58c2ffe91c38629c6095dc620d489300f76068"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exact refined_raft_net_invariant'.",
            "VernacExtend",
            "09a76fde7ed561e82de14b01f29bac73af300d14"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exact lift_prop.",
            "VernacExtend",
            "274c50bfd50232bbae6ecbff07a154ae30535222"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exact lower_prop.",
            "VernacExtend",
            "15fe0f01445f18c0658dac3c607c094086c386a5"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exact deghost_spec.",
            "VernacExtend",
            "efb3078118fc244de5b00bd7bdd69a657b61e501"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "exact simulation_1.",
            "VernacExtend",
            "ca2cca4b9f17e2a71f92627e386b725035ccb651"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End RaftRefinementProof.",
            "VernacEndSegment",
            "893fc7160bccc3798fd7dc86ca6f045e3bb9303b"
        ],
        [
            "Hint Extern 4 (@BaseParams) => apply raft_refined_base_params : typeclass_instances.",
            "VernacHints",
            "65a8db98c9835b9c5b8441e4020d634368ab5acc"
        ],
        [
            "Hint Extern 4 (@MultiParams _) => apply raft_refined_multi_params : typeclass_instances.",
            "VernacHints",
            "122e02ee5f8024489b59681e7a13b1ba1434e0a3"
        ],
        [
            "Hint Extern 4 (@FailureParams _ _) => apply raft_refined_failure_params : typeclass_instances.",
            "VernacHints",
            "f702ee75e2782b064fecb6959de596b6e44028cb"
        ]
    ],
    "proofs": [
        {
            "name": "refined_raft_invariant_handle_message",
            "line_nb": 9,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold handleMessage, update_elections_data_net in *.",
                        "VernacExtend",
                        "88bb13b05f157d6a10493295ff8a05cedba123d6"
                    ]
                },
                {
                    "command": [
                        "break_match; repeat break_let; repeat find_inversion; [eapply_prop refined_raft_net_invariant_request_vote| eapply_prop refined_raft_net_invariant_request_vote_reply| eapply_prop refined_raft_net_invariant_append_entries| eapply_prop refined_raft_net_invariant_append_entries_reply]; eauto; unfold send_packets in *; simpl in *; intros; subst; auto; find_apply_hyp_hyp; intuition.",
                        "VernacExtend",
                        "073d1f921d41e47a07587f3c7f4852c4f3d0c68d"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "refined_raft_invariant_handle_input",
            "line_nb": 14,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold handleInput, update_elections_data_input in *.",
                        "VernacExtend",
                        "c55819732db0480dd822b70c2652720fcd3d782b"
                    ]
                },
                {
                    "command": [
                        "break_match; repeat break_let; repeat find_inversion; [eapply_prop refined_raft_net_invariant_timeout| eapply_prop refined_raft_net_invariant_client_request]; eauto; subst; auto.",
                        "VernacExtend",
                        "99958d1ed729503a675ba72576a7d02c2dab1566"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "refined_raft_invariant_handle_message'",
            "line_nb": 102,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold handleMessage, update_elections_data_net in *.",
                        "VernacExtend",
                        "88bb13b05f157d6a10493295ff8a05cedba123d6"
                    ]
                },
                {
                    "command": [
                        "break_match; repeat break_let; repeat find_inversion; [eapply_prop refined_raft_net_invariant_request_vote'| eapply_prop refined_raft_net_invariant_request_vote_reply'| eapply_prop refined_raft_net_invariant_append_entries'| eapply_prop refined_raft_net_invariant_append_entries_reply']; eauto; unfold send_packets in *; simpl in *; intros; subst; auto; find_apply_hyp_hyp; intuition.",
                        "VernacExtend",
                        "ff475161959b87559319b6714e6983770d666fbe"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "refined_raft_invariant_handle_input'",
            "line_nb": 107,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold handleInput, update_elections_data_input in *.",
                        "VernacExtend",
                        "c55819732db0480dd822b70c2652720fcd3d782b"
                    ]
                },
                {
                    "command": [
                        "break_match; repeat break_let; repeat find_inversion; [eapply_prop refined_raft_net_invariant_timeout'| eapply_prop refined_raft_net_invariant_client_request']; eauto; subst; auto.",
                        "VernacExtend",
                        "ed32405528da7729d8d1645f11428a31a32f984b"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "lift_prop",
            "line_nb": 322,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "eauto using simulation_1.",
                        "VernacExtend",
                        "49c66cac00b478f8d74fac43077239326921cd1c"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "lower_prop",
            "line_nb": 482,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "find_apply_lem_hyp simulation_2.",
                        "VernacExtend",
                        "4c9901284376c0b97be88297baf5d9e749f7c7f9"
                    ]
                },
                {
                    "command": [
                        "break_exists.",
                        "VernacExtend",
                        "7914403b406cb602431a8c9ec3a15a70b4d83870"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "subst.",
                        "VernacExtend",
                        "ccc9cb848804101be22a0bb6c324861981c5c7f1"
                    ]
                },
                {
                    "command": [
                        "eauto.",
                        "VernacExtend",
                        "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "deghost_spec",
            "line_nb": 490,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "destruct net; auto.",
                        "VernacExtend",
                        "ae9c5d948524fdf6baa17927b80051c983b1b108"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "rri",
            "line_nb": 494,
            "steps": [
                {
                    "command": [
                        "split.",
                        "VernacExtend",
                        "55abc140132bd88981001ac656020469a8d503eb"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "exact refined_raft_net_invariant.",
                        "VernacExtend",
                        "ea58c2ffe91c38629c6095dc620d489300f76068"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "exact refined_raft_net_invariant'.",
                        "VernacExtend",
                        "09a76fde7ed561e82de14b01f29bac73af300d14"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "exact lift_prop.",
                        "VernacExtend",
                        "274c50bfd50232bbae6ecbff07a154ae30535222"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "exact lower_prop.",
                        "VernacExtend",
                        "15fe0f01445f18c0658dac3c607c094086c386a5"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "exact deghost_spec.",
                        "VernacExtend",
                        "efb3078118fc244de5b00bd7bdd69a657b61e501"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "exact simulation_1.",
                        "VernacExtend",
                        "ca2cca4b9f17e2a71f92627e386b725035ccb651"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}