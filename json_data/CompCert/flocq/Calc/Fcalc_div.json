{
    "filename": "flocq/Calc/Fcalc_div.v",
    "coq_project": "CompCert",
    "vernac_cmds": [
        [
            "Require Import Fcore_Raux.",
            "VernacRequire",
            "6a49ff899e4733a5492282770f91634f4e2bce84"
        ],
        [
            "Require Import Fcore_defs.",
            "VernacRequire",
            "a5831df34cd1384c0e8566554919e69e523ebc02"
        ],
        [
            "Require Import Fcore_float_prop.",
            "VernacRequire",
            "cb1b82d62c5b9c01c03fb8d695d9166849c8babe"
        ],
        [
            "Require Import Fcore_digits.",
            "VernacRequire",
            "88b786a7297c6d41db609842668795560290d722"
        ],
        [
            "Require Import Fcalc_bracket.",
            "VernacRequire",
            "f52ed1ddf769329f4ac4906755d738d2cc697d47"
        ],
        [
            "Require Import Fcalc_digits.",
            "VernacRequire",
            "a66e84f2c3d2b977b9a7db893ee83741416125a1"
        ],
        [
            "Section Fcalc_div.",
            "VernacBeginSection",
            "c087728c7b646234e38c3926d3db084efb5e4a9a"
        ],
        [
            "Variable beta : radix.",
            "VernacAssumption",
            "5414570a6751198892ee4a13f107deb4c633e62b"
        ],
        [
            "Notation bpow e := (bpow beta e).",
            "VernacSyntacticDefinition",
            "c796e278ffd17ea9674b52f8e94413782272a594"
        ],
        [
            "Definition Fdiv_core prec m1 e1 m2 e2 := let d1 := Zdigits beta m1 in let d2 := Zdigits beta m2 in let e := (e1 - e2)%Z in let (m, e') := match (d2 + prec - d1)%Z with | Zpos p => (m1 * Zpower_pos beta p, e + Zneg p)%Z | _ => (m1, e) end in let '(q, r) := Zdiv_eucl m m2 in (q, e', new_location m2 r loc_Exact).",
            "VernacDefinition",
            "e1619b316bb84a7cb0367cce1f291c858d3de06a"
        ],
        [
            "Theorem Fdiv_core_correct : forall prec m1 e1 m2 e2, (0 < prec)%Z -> (0 < m1)%Z -> (0 < m2)%Z -> let '(m, e, l) := Fdiv_core prec m1 e1 m2 e2 in (prec <= Zdigits beta m)%Z /\\ inbetween_float beta m e (F2R (Float beta m1 e1) / F2R (Float beta m2 e2)) l.",
            "VernacStartTheoremProof",
            "1fc6e1cab99b0b7d1471ebc4830f97a4c9bf8e0b"
        ],
        [
            "intros prec m1 e1 m2 e2 Hprec Hm1 Hm2.",
            "VernacExtend",
            "f3bf90002671c994a6280617d7cb0799f9f0882f"
        ],
        [
            "unfold Fdiv_core.",
            "VernacExtend",
            "782c3edec6542fcd01f4ea420ffae853848a80de"
        ],
        [
            "set (d1 := Zdigits beta m1).",
            "VernacExtend",
            "3b9033e611ea8bdad0b7980070ff0abb01333991"
        ],
        [
            "set (d2 := Zdigits beta m2).",
            "VernacExtend",
            "bd60cd865c76fc58fcc31393405c6d603dc71b80"
        ],
        [
            "case_eq (match (d2 + prec - d1)%Z with | Zpos p => ((m1 * Zpower_pos beta p)%Z, (e1 - e2 + Zneg p)%Z) | _ => (m1, (e1 - e2)%Z) end).",
            "VernacExtend",
            "cc3c30dee4c929c3de1cf666be571bd4a91b2e80"
        ],
        [
            "intros m' e' Hme.",
            "VernacExtend",
            "f365b7624492abe33e39d494ea7fb9dd073f1b4b"
        ],
        [
            "assert (Hs: F2R (Float beta m' (e' + e2)) = F2R (Float beta m1 e1) /\\ (0 < m')%Z /\\ (d2 + prec <= Zdigits beta m')%Z).",
            "VernacExtend",
            "3b1408aa67e1a92be17aa78b505c9d5e913f5195"
        ],
        [
            "replace (d2 + prec)%Z with (d2 + prec - d1 + d1)%Z by ring.",
            "VernacExtend",
            "ceba2dae38cb67fd97caeed953e98bfb8949185b"
        ],
        [
            "destruct (d2 + prec - d1)%Z as [|p|p] ; unfold d1 ; inversion Hme.",
            "VernacExtend",
            "738b8d4c1d3d084e182c6405e931a8f6f7078a28"
        ],
        [
            "ring_simplify (e1 - e2 + e2)%Z.",
            "VernacExtend",
            "e774929d87ce744f8aeed8dcd27179760fe9669f"
        ],
        [
            "repeat split.",
            "VernacExtend",
            "7968f2448e3e51b1de42f5c433248f4a827b4da2"
        ],
        [
            "now rewrite <- H0.",
            "VernacExtend",
            "2c1d8246c3e76b0802fe4bece3df6f4423c59a3c"
        ],
        [
            "apply Zle_refl.",
            "VernacExtend",
            "68a57d6389c7dd3f2c16b824eb0734986d9ff207"
        ],
        [
            "replace (e1 - e2 + Zneg p + e2)%Z with (e1 - Zpos p)%Z by (unfold Zminus ; simpl ; ring).",
            "VernacExtend",
            "644ae80a82e616abe7abd7bb7a3ba04ed5c66071"
        ],
        [
            "fold (Zpower beta (Zpos p)).",
            "VernacExtend",
            "bf1436dc3c93ef664f9df1d2115aae8b4bb69a7a"
        ],
        [
            "split.",
            "VernacExtend",
            "55abc140132bd88981001ac656020469a8d503eb"
        ],
        [
            "pattern (Zpos p) at 1 ; replace (Zpos p) with (e1 - (e1 - Zpos p))%Z by ring.",
            "VernacExtend",
            "2a337251637de1b11605d6f8ce75de7a44b0496a"
        ],
        [
            "apply sym_eq.",
            "VernacExtend",
            "f01eb728d9ceeac2915c66b52a7b50a0c452e949"
        ],
        [
            "apply F2R_change_exp.",
            "VernacExtend",
            "fc7404b0e2f947b608940c418d6ab6d49ccf8f7a"
        ],
        [
            "assert (0 < Zpos p)%Z by easy.",
            "VernacExtend",
            "8ea7862237734866d8d530ad773bcfeab0adb10c"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "split.",
            "VernacExtend",
            "55abc140132bd88981001ac656020469a8d503eb"
        ],
        [
            "apply Zmult_lt_0_compat.",
            "VernacExtend",
            "3e73ba27240e5014b5b83e4bd412bd07888f45c0"
        ],
        [
            "exact Hm1.",
            "VernacExtend",
            "b4fa6acf5c482920b40aab984d7b1c5d871f0f78"
        ],
        [
            "now apply Zpower_gt_0.",
            "VernacExtend",
            "aa45fb3e97123893fc0efc3fadb094a463ada634"
        ],
        [
            "rewrite Zdigits_mult_Zpower.",
            "VernacExtend",
            "499adb3c90cb399385fc2b6feac37bb8680f723f"
        ],
        [
            "rewrite Zplus_comm.",
            "VernacExtend",
            "2bb66f559ff90bf1a631140b359f483f39c79431"
        ],
        [
            "apply Zle_refl.",
            "VernacExtend",
            "68a57d6389c7dd3f2c16b824eb0734986d9ff207"
        ],
        [
            "apply sym_not_eq.",
            "VernacExtend",
            "bedc81deba6c162bdb471891133e8c271a82892c"
        ],
        [
            "now apply Zlt_not_eq.",
            "VernacExtend",
            "176d2d8d3eb97f65ca84b2ddd47c3e0ca7de52f9"
        ],
        [
            "easy.",
            "VernacExtend",
            "ef1368621ae14ed4e378e6e1c58fbee46db9a962"
        ],
        [
            "split.",
            "VernacExtend",
            "55abc140132bd88981001ac656020469a8d503eb"
        ],
        [
            "now ring_simplify (e1 - e2 + e2)%Z.",
            "VernacExtend",
            "a27b07e695b5ab0490e01e94af2ff22d930d25d2"
        ],
        [
            "assert (Zneg p < 0)%Z by easy.",
            "VernacExtend",
            "904f38206d575b3d05ad377fb2322fb6935a3dda"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "destruct Hs as (Hs1, (Hs2, Hs3)).",
            "VernacExtend",
            "b5df9ecad44278dbbc7fe7a8e96bef2e6551cd5c"
        ],
        [
            "rewrite <- Hs1.",
            "VernacExtend",
            "3353d3a6c54dbc63fc50dbd8e9f1098053fbccf1"
        ],
        [
            "generalize (Z_div_mod m' m2 (Zlt_gt _ _ Hm2)).",
            "VernacExtend",
            "e8691ecb07554f2654ff6f8c569bd37238493c92"
        ],
        [
            "destruct (Zdiv_eucl m' m2) as (q, r).",
            "VernacExtend",
            "5bb96ad9f2236d326870505db0064b8443286e2e"
        ],
        [
            "intros (Hq, Hr).",
            "VernacExtend",
            "f4101b78aa6b19ba1712e56ed163de1369eed732"
        ],
        [
            "split.",
            "VernacExtend",
            "55abc140132bd88981001ac656020469a8d503eb"
        ],
        [
            "cut (Zdigits beta m' <= d2 + Zdigits beta q)%Z.",
            "VernacExtend",
            "3a28a043b460dede7b8be9cf281ae98a57bd74ac"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "unfold d2.",
            "VernacExtend",
            "33284f18e3c99360c9b9947a2f930bb3d1bbf582"
        ],
        [
            "rewrite Hq.",
            "VernacExtend",
            "ac1c860c7aa4c4dcd91d635cc3ab558ffc2f8b77"
        ],
        [
            "assert (Hq': (0 < q)%Z).",
            "VernacExtend",
            "a3c727a7bfc08fb3732cf61397b37ae4f3913bc3"
        ],
        [
            "apply Zmult_lt_reg_r with (1 := Hm2).",
            "VernacExtend",
            "322831a44cb1bf95972bc6e01fa90f5ce368b0c8"
        ],
        [
            "assert (m2 < m')%Z.",
            "VernacExtend",
            "2a885bdcdee0ac11ff573e6db1465b6d09617051"
        ],
        [
            "apply lt_Zdigits with beta.",
            "VernacExtend",
            "c05ca817f4d1f4107c36c6a988686b63a0d53b7e"
        ],
        [
            "now apply Zlt_le_weak.",
            "VernacExtend",
            "8df137fb70ba9a1f8f0605f13095da8524766c66"
        ],
        [
            "unfold d2 in Hs3.",
            "VernacExtend",
            "a0d5e7f49a27c7df2bfdd9be95df679e45190f00"
        ],
        [
            "clear -Hprec Hs3 ; omega.",
            "VernacExtend",
            "877afa034a33fa27bec1738b30add5a1c827abad"
        ],
        [
            "cut (q * m2 = m' - r)%Z.",
            "VernacExtend",
            "256b92ead5c708d1da7f6ab45a4c84fcbb4a917a"
        ],
        [
            "clear -Hr H ; omega.",
            "VernacExtend",
            "f44cf666febfe33d4fb6500502504bcb96eec033"
        ],
        [
            "rewrite Hq.",
            "VernacExtend",
            "ac1c860c7aa4c4dcd91d635cc3ab558ffc2f8b77"
        ],
        [
            "ring.",
            "VernacExtend",
            "baadd9fc4c175005af409bb466fcea9fab25b4e6"
        ],
        [
            "apply Zle_trans with (Zdigits beta (m2 + q + m2 * q)).",
            "VernacExtend",
            "88e3bf315e1a75b748ccea71b7f5808b79a9bd7c"
        ],
        [
            "apply Zdigits_le.",
            "VernacExtend",
            "2104f18cc263be2435977613599624d2f50548b6"
        ],
        [
            "rewrite <- Hq.",
            "VernacExtend",
            "e2b6ffdb02782cee3462eaa0d72236669911c23f"
        ],
        [
            "now apply Zlt_le_weak.",
            "VernacExtend",
            "8df137fb70ba9a1f8f0605f13095da8524766c66"
        ],
        [
            "clear -Hr Hq'.",
            "VernacExtend",
            "324514d465d0d5bf9b8cd302f0f782068bef7eda"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "apply Zdigits_mult_strong ; apply Zlt_le_weak.",
            "VernacExtend",
            "8d6186a8936e7a05cb3c186f5438bb37803b9cc1"
        ],
        [
            "now apply Zle_lt_trans with r.",
            "VernacExtend",
            "10ceb8a25314b855ce5347741ae24de75e52b6d5"
        ],
        [
            "exact Hq'.",
            "VernacExtend",
            "1690d980c3fb34932faf6bfe4853a3b2bc6af490"
        ],
        [
            "unfold inbetween_float, F2R.",
            "VernacExtend",
            "7a950aac8673a372615ba8e4310d929f5a834113"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "rewrite bpow_plus, Z2R_plus.",
            "VernacExtend",
            "3d5c74213457fd13e4a7dc24da494e4a457ebb54"
        ],
        [
            "rewrite Hq, Z2R_plus, Z2R_mult.",
            "VernacExtend",
            "5caad0065c96beb3ba3976a1d7e05ddafc6b11ef"
        ],
        [
            "replace ((Z2R m2 * Z2R q + Z2R r) * (bpow e' * bpow e2) / (Z2R m2 * bpow e2))%R with ((Z2R q + Z2R r / Z2R m2) * bpow e')%R.",
            "VernacExtend",
            "c3576ae7e7bf54c84507e8f156994303388dbe5f"
        ],
        [
            "apply inbetween_mult_compat.",
            "VernacExtend",
            "44a8b82481ec3a1ffedd9bb6f9ae2a27c8432295"
        ],
        [
            "apply bpow_gt_0.",
            "VernacExtend",
            "51431cbce9a44d56b4b1857315ff3c6ca3c98e7f"
        ],
        [
            "destruct (Z_lt_le_dec 1 m2) as [Hm2''|Hm2''].",
            "VernacExtend",
            "6172107b39e9af337ee10853b945461838eda348"
        ],
        [
            "replace (Z2R 1) with (Z2R m2 * /Z2R m2)%R.",
            "VernacExtend",
            "6ba573598310448a3fe28526d2469626af14d986"
        ],
        [
            "apply new_location_correct ; try easy.",
            "VernacExtend",
            "e5acbaf4b6703863dfd81640f3bea71af9d3a684"
        ],
        [
            "apply Rinv_0_lt_compat.",
            "VernacExtend",
            "d7abdc8c3031a09ca2712c9563d7ecf89b4d477e"
        ],
        [
            "now apply (Z2R_lt 0).",
            "VernacExtend",
            "5fe7a71c929f2db40ffef7572e6694713b2d3e81"
        ],
        [
            "now constructor.",
            "VernacExtend",
            "e001978ec065ef0fd63cb804e72fb73890e93711"
        ],
        [
            "apply Rinv_r.",
            "VernacExtend",
            "3ae59d3721b0d7e2d4a4063730859bc449d80f00"
        ],
        [
            "apply Rgt_not_eq.",
            "VernacExtend",
            "8860a9193cfdaf1f0316f8df1f2c0781738e5ef7"
        ],
        [
            "now apply (Z2R_lt 0).",
            "VernacExtend",
            "5fe7a71c929f2db40ffef7572e6694713b2d3e81"
        ],
        [
            "assert (r = 0 /\\ m2 = 1)%Z by (clear -Hr Hm2'' ; omega).",
            "VernacExtend",
            "becf75e4f7bacc209445a432a4794037d6d271ec"
        ],
        [
            "rewrite (proj1 H), (proj2 H).",
            "VernacExtend",
            "95c18d59a6460d00fea8044961e3e8db047ad69a"
        ],
        [
            "unfold Rdiv.",
            "VernacExtend",
            "d9820df68a5475147f48d29acf89824b27f71597"
        ],
        [
            "rewrite Rmult_0_l, Rplus_0_r.",
            "VernacExtend",
            "58d40f4e142146a0540196b79909d12a2ee211d7"
        ],
        [
            "now constructor.",
            "VernacExtend",
            "e001978ec065ef0fd63cb804e72fb73890e93711"
        ],
        [
            "field.",
            "VernacExtend",
            "93f44750d651d466b74a0cc63f88acb56273d533"
        ],
        [
            "split ; apply Rgt_not_eq.",
            "VernacExtend",
            "9599c189db24524b4f8a1092943e094f47c05bb8"
        ],
        [
            "apply bpow_gt_0.",
            "VernacExtend",
            "51431cbce9a44d56b4b1857315ff3c6ca3c98e7f"
        ],
        [
            "now apply (Z2R_lt 0).",
            "VernacExtend",
            "5fe7a71c929f2db40ffef7572e6694713b2d3e81"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End Fcalc_div.",
            "VernacEndSegment",
            "d6b6c710ed145f6795697c0d4d08204b5bcb57cf"
        ]
    ],
    "proofs": [
        {
            "name": "Fdiv_core_correct",
            "line_nb": 10,
            "steps": [
                {
                    "command": [
                        "intros prec m1 e1 m2 e2 Hprec Hm1 Hm2.",
                        "VernacExtend",
                        "f3bf90002671c994a6280617d7cb0799f9f0882f"
                    ]
                },
                {
                    "command": [
                        "unfold Fdiv_core.",
                        "VernacExtend",
                        "782c3edec6542fcd01f4ea420ffae853848a80de"
                    ]
                },
                {
                    "command": [
                        "set (d1 := Zdigits beta m1).",
                        "VernacExtend",
                        "3b9033e611ea8bdad0b7980070ff0abb01333991"
                    ]
                },
                {
                    "command": [
                        "set (d2 := Zdigits beta m2).",
                        "VernacExtend",
                        "bd60cd865c76fc58fcc31393405c6d603dc71b80"
                    ]
                },
                {
                    "command": [
                        "case_eq (match (d2 + prec - d1)%Z with | Zpos p => ((m1 * Zpower_pos beta p)%Z, (e1 - e2 + Zneg p)%Z) | _ => (m1, (e1 - e2)%Z) end).",
                        "VernacExtend",
                        "cc3c30dee4c929c3de1cf666be571bd4a91b2e80"
                    ]
                },
                {
                    "command": [
                        "intros m' e' Hme.",
                        "VernacExtend",
                        "f365b7624492abe33e39d494ea7fb9dd073f1b4b"
                    ]
                },
                {
                    "command": [
                        "assert (Hs: F2R (Float beta m' (e' + e2)) = F2R (Float beta m1 e1) /\\ (0 < m')%Z /\\ (d2 + prec <= Zdigits beta m')%Z).",
                        "VernacExtend",
                        "3b1408aa67e1a92be17aa78b505c9d5e913f5195"
                    ]
                },
                {
                    "command": [
                        "replace (d2 + prec)%Z with (d2 + prec - d1 + d1)%Z by ring.",
                        "VernacExtend",
                        "ceba2dae38cb67fd97caeed953e98bfb8949185b"
                    ]
                },
                {
                    "command": [
                        "destruct (d2 + prec - d1)%Z as [|p|p] ; unfold d1 ; inversion Hme.",
                        "VernacExtend",
                        "738b8d4c1d3d084e182c6405e931a8f6f7078a28"
                    ]
                },
                {
                    "command": [
                        "ring_simplify (e1 - e2 + e2)%Z.",
                        "VernacExtend",
                        "e774929d87ce744f8aeed8dcd27179760fe9669f"
                    ]
                },
                {
                    "command": [
                        "repeat split.",
                        "VernacExtend",
                        "7968f2448e3e51b1de42f5c433248f4a827b4da2"
                    ]
                },
                {
                    "command": [
                        "now rewrite <- H0.",
                        "VernacExtend",
                        "2c1d8246c3e76b0802fe4bece3df6f4423c59a3c"
                    ]
                },
                {
                    "command": [
                        "apply Zle_refl.",
                        "VernacExtend",
                        "68a57d6389c7dd3f2c16b824eb0734986d9ff207"
                    ]
                },
                {
                    "command": [
                        "replace (e1 - e2 + Zneg p + e2)%Z with (e1 - Zpos p)%Z by (unfold Zminus ; simpl ; ring).",
                        "VernacExtend",
                        "644ae80a82e616abe7abd7bb7a3ba04ed5c66071"
                    ]
                },
                {
                    "command": [
                        "fold (Zpower beta (Zpos p)).",
                        "VernacExtend",
                        "bf1436dc3c93ef664f9df1d2115aae8b4bb69a7a"
                    ]
                },
                {
                    "command": [
                        "split.",
                        "VernacExtend",
                        "55abc140132bd88981001ac656020469a8d503eb"
                    ]
                },
                {
                    "command": [
                        "pattern (Zpos p) at 1 ; replace (Zpos p) with (e1 - (e1 - Zpos p))%Z by ring.",
                        "VernacExtend",
                        "2a337251637de1b11605d6f8ce75de7a44b0496a"
                    ]
                },
                {
                    "command": [
                        "apply sym_eq.",
                        "VernacExtend",
                        "f01eb728d9ceeac2915c66b52a7b50a0c452e949"
                    ]
                },
                {
                    "command": [
                        "apply F2R_change_exp.",
                        "VernacExtend",
                        "fc7404b0e2f947b608940c418d6ab6d49ccf8f7a"
                    ]
                },
                {
                    "command": [
                        "assert (0 < Zpos p)%Z by easy.",
                        "VernacExtend",
                        "8ea7862237734866d8d530ad773bcfeab0adb10c"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "split.",
                        "VernacExtend",
                        "55abc140132bd88981001ac656020469a8d503eb"
                    ]
                },
                {
                    "command": [
                        "apply Zmult_lt_0_compat.",
                        "VernacExtend",
                        "3e73ba27240e5014b5b83e4bd412bd07888f45c0"
                    ]
                },
                {
                    "command": [
                        "exact Hm1.",
                        "VernacExtend",
                        "b4fa6acf5c482920b40aab984d7b1c5d871f0f78"
                    ]
                },
                {
                    "command": [
                        "now apply Zpower_gt_0.",
                        "VernacExtend",
                        "aa45fb3e97123893fc0efc3fadb094a463ada634"
                    ]
                },
                {
                    "command": [
                        "rewrite Zdigits_mult_Zpower.",
                        "VernacExtend",
                        "499adb3c90cb399385fc2b6feac37bb8680f723f"
                    ]
                },
                {
                    "command": [
                        "rewrite Zplus_comm.",
                        "VernacExtend",
                        "2bb66f559ff90bf1a631140b359f483f39c79431"
                    ]
                },
                {
                    "command": [
                        "apply Zle_refl.",
                        "VernacExtend",
                        "68a57d6389c7dd3f2c16b824eb0734986d9ff207"
                    ]
                },
                {
                    "command": [
                        "apply sym_not_eq.",
                        "VernacExtend",
                        "bedc81deba6c162bdb471891133e8c271a82892c"
                    ]
                },
                {
                    "command": [
                        "now apply Zlt_not_eq.",
                        "VernacExtend",
                        "176d2d8d3eb97f65ca84b2ddd47c3e0ca7de52f9"
                    ]
                },
                {
                    "command": [
                        "easy.",
                        "VernacExtend",
                        "ef1368621ae14ed4e378e6e1c58fbee46db9a962"
                    ]
                },
                {
                    "command": [
                        "split.",
                        "VernacExtend",
                        "55abc140132bd88981001ac656020469a8d503eb"
                    ]
                },
                {
                    "command": [
                        "now ring_simplify (e1 - e2 + e2)%Z.",
                        "VernacExtend",
                        "a27b07e695b5ab0490e01e94af2ff22d930d25d2"
                    ]
                },
                {
                    "command": [
                        "assert (Zneg p < 0)%Z by easy.",
                        "VernacExtend",
                        "904f38206d575b3d05ad377fb2322fb6935a3dda"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "destruct Hs as (Hs1, (Hs2, Hs3)).",
                        "VernacExtend",
                        "b5df9ecad44278dbbc7fe7a8e96bef2e6551cd5c"
                    ]
                },
                {
                    "command": [
                        "rewrite <- Hs1.",
                        "VernacExtend",
                        "3353d3a6c54dbc63fc50dbd8e9f1098053fbccf1"
                    ]
                },
                {
                    "command": [
                        "generalize (Z_div_mod m' m2 (Zlt_gt _ _ Hm2)).",
                        "VernacExtend",
                        "e8691ecb07554f2654ff6f8c569bd37238493c92"
                    ]
                },
                {
                    "command": [
                        "destruct (Zdiv_eucl m' m2) as (q, r).",
                        "VernacExtend",
                        "5bb96ad9f2236d326870505db0064b8443286e2e"
                    ]
                },
                {
                    "command": [
                        "intros (Hq, Hr).",
                        "VernacExtend",
                        "f4101b78aa6b19ba1712e56ed163de1369eed732"
                    ]
                },
                {
                    "command": [
                        "split.",
                        "VernacExtend",
                        "55abc140132bd88981001ac656020469a8d503eb"
                    ]
                },
                {
                    "command": [
                        "cut (Zdigits beta m' <= d2 + Zdigits beta q)%Z.",
                        "VernacExtend",
                        "3a28a043b460dede7b8be9cf281ae98a57bd74ac"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "unfold d2.",
                        "VernacExtend",
                        "33284f18e3c99360c9b9947a2f930bb3d1bbf582"
                    ]
                },
                {
                    "command": [
                        "rewrite Hq.",
                        "VernacExtend",
                        "ac1c860c7aa4c4dcd91d635cc3ab558ffc2f8b77"
                    ]
                },
                {
                    "command": [
                        "assert (Hq': (0 < q)%Z).",
                        "VernacExtend",
                        "a3c727a7bfc08fb3732cf61397b37ae4f3913bc3"
                    ]
                },
                {
                    "command": [
                        "apply Zmult_lt_reg_r with (1 := Hm2).",
                        "VernacExtend",
                        "322831a44cb1bf95972bc6e01fa90f5ce368b0c8"
                    ]
                },
                {
                    "command": [
                        "assert (m2 < m')%Z.",
                        "VernacExtend",
                        "2a885bdcdee0ac11ff573e6db1465b6d09617051"
                    ]
                },
                {
                    "command": [
                        "apply lt_Zdigits with beta.",
                        "VernacExtend",
                        "c05ca817f4d1f4107c36c6a988686b63a0d53b7e"
                    ]
                },
                {
                    "command": [
                        "now apply Zlt_le_weak.",
                        "VernacExtend",
                        "8df137fb70ba9a1f8f0605f13095da8524766c66"
                    ]
                },
                {
                    "command": [
                        "unfold d2 in Hs3.",
                        "VernacExtend",
                        "a0d5e7f49a27c7df2bfdd9be95df679e45190f00"
                    ]
                },
                {
                    "command": [
                        "clear -Hprec Hs3 ; omega.",
                        "VernacExtend",
                        "877afa034a33fa27bec1738b30add5a1c827abad"
                    ]
                },
                {
                    "command": [
                        "cut (q * m2 = m' - r)%Z.",
                        "VernacExtend",
                        "256b92ead5c708d1da7f6ab45a4c84fcbb4a917a"
                    ]
                },
                {
                    "command": [
                        "clear -Hr H ; omega.",
                        "VernacExtend",
                        "f44cf666febfe33d4fb6500502504bcb96eec033"
                    ]
                },
                {
                    "command": [
                        "rewrite Hq.",
                        "VernacExtend",
                        "ac1c860c7aa4c4dcd91d635cc3ab558ffc2f8b77"
                    ]
                },
                {
                    "command": [
                        "ring.",
                        "VernacExtend",
                        "baadd9fc4c175005af409bb466fcea9fab25b4e6"
                    ]
                },
                {
                    "command": [
                        "apply Zle_trans with (Zdigits beta (m2 + q + m2 * q)).",
                        "VernacExtend",
                        "88e3bf315e1a75b748ccea71b7f5808b79a9bd7c"
                    ]
                },
                {
                    "command": [
                        "apply Zdigits_le.",
                        "VernacExtend",
                        "2104f18cc263be2435977613599624d2f50548b6"
                    ]
                },
                {
                    "command": [
                        "rewrite <- Hq.",
                        "VernacExtend",
                        "e2b6ffdb02782cee3462eaa0d72236669911c23f"
                    ]
                },
                {
                    "command": [
                        "now apply Zlt_le_weak.",
                        "VernacExtend",
                        "8df137fb70ba9a1f8f0605f13095da8524766c66"
                    ]
                },
                {
                    "command": [
                        "clear -Hr Hq'.",
                        "VernacExtend",
                        "324514d465d0d5bf9b8cd302f0f782068bef7eda"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "apply Zdigits_mult_strong ; apply Zlt_le_weak.",
                        "VernacExtend",
                        "8d6186a8936e7a05cb3c186f5438bb37803b9cc1"
                    ]
                },
                {
                    "command": [
                        "now apply Zle_lt_trans with r.",
                        "VernacExtend",
                        "10ceb8a25314b855ce5347741ae24de75e52b6d5"
                    ]
                },
                {
                    "command": [
                        "exact Hq'.",
                        "VernacExtend",
                        "1690d980c3fb34932faf6bfe4853a3b2bc6af490"
                    ]
                },
                {
                    "command": [
                        "unfold inbetween_float, F2R.",
                        "VernacExtend",
                        "7a950aac8673a372615ba8e4310d929f5a834113"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "rewrite bpow_plus, Z2R_plus.",
                        "VernacExtend",
                        "3d5c74213457fd13e4a7dc24da494e4a457ebb54"
                    ]
                },
                {
                    "command": [
                        "rewrite Hq, Z2R_plus, Z2R_mult.",
                        "VernacExtend",
                        "5caad0065c96beb3ba3976a1d7e05ddafc6b11ef"
                    ]
                },
                {
                    "command": [
                        "replace ((Z2R m2 * Z2R q + Z2R r) * (bpow e' * bpow e2) / (Z2R m2 * bpow e2))%R with ((Z2R q + Z2R r / Z2R m2) * bpow e')%R.",
                        "VernacExtend",
                        "c3576ae7e7bf54c84507e8f156994303388dbe5f"
                    ]
                },
                {
                    "command": [
                        "apply inbetween_mult_compat.",
                        "VernacExtend",
                        "44a8b82481ec3a1ffedd9bb6f9ae2a27c8432295"
                    ]
                },
                {
                    "command": [
                        "apply bpow_gt_0.",
                        "VernacExtend",
                        "51431cbce9a44d56b4b1857315ff3c6ca3c98e7f"
                    ]
                },
                {
                    "command": [
                        "destruct (Z_lt_le_dec 1 m2) as [Hm2''|Hm2''].",
                        "VernacExtend",
                        "6172107b39e9af337ee10853b945461838eda348"
                    ]
                },
                {
                    "command": [
                        "replace (Z2R 1) with (Z2R m2 * /Z2R m2)%R.",
                        "VernacExtend",
                        "6ba573598310448a3fe28526d2469626af14d986"
                    ]
                },
                {
                    "command": [
                        "apply new_location_correct ; try easy.",
                        "VernacExtend",
                        "e5acbaf4b6703863dfd81640f3bea71af9d3a684"
                    ]
                },
                {
                    "command": [
                        "apply Rinv_0_lt_compat.",
                        "VernacExtend",
                        "d7abdc8c3031a09ca2712c9563d7ecf89b4d477e"
                    ]
                },
                {
                    "command": [
                        "now apply (Z2R_lt 0).",
                        "VernacExtend",
                        "5fe7a71c929f2db40ffef7572e6694713b2d3e81"
                    ]
                },
                {
                    "command": [
                        "now constructor.",
                        "VernacExtend",
                        "e001978ec065ef0fd63cb804e72fb73890e93711"
                    ]
                },
                {
                    "command": [
                        "apply Rinv_r.",
                        "VernacExtend",
                        "3ae59d3721b0d7e2d4a4063730859bc449d80f00"
                    ]
                },
                {
                    "command": [
                        "apply Rgt_not_eq.",
                        "VernacExtend",
                        "8860a9193cfdaf1f0316f8df1f2c0781738e5ef7"
                    ]
                },
                {
                    "command": [
                        "now apply (Z2R_lt 0).",
                        "VernacExtend",
                        "5fe7a71c929f2db40ffef7572e6694713b2d3e81"
                    ]
                },
                {
                    "command": [
                        "assert (r = 0 /\\ m2 = 1)%Z by (clear -Hr Hm2'' ; omega).",
                        "VernacExtend",
                        "becf75e4f7bacc209445a432a4794037d6d271ec"
                    ]
                },
                {
                    "command": [
                        "rewrite (proj1 H), (proj2 H).",
                        "VernacExtend",
                        "95c18d59a6460d00fea8044961e3e8db047ad69a"
                    ]
                },
                {
                    "command": [
                        "unfold Rdiv.",
                        "VernacExtend",
                        "d9820df68a5475147f48d29acf89824b27f71597"
                    ]
                },
                {
                    "command": [
                        "rewrite Rmult_0_l, Rplus_0_r.",
                        "VernacExtend",
                        "58d40f4e142146a0540196b79909d12a2ee211d7"
                    ]
                },
                {
                    "command": [
                        "now constructor.",
                        "VernacExtend",
                        "e001978ec065ef0fd63cb804e72fb73890e93711"
                    ]
                },
                {
                    "command": [
                        "field.",
                        "VernacExtend",
                        "93f44750d651d466b74a0cc63f88acb56273d533"
                    ]
                },
                {
                    "command": [
                        "split ; apply Rgt_not_eq.",
                        "VernacExtend",
                        "9599c189db24524b4f8a1092943e094f47c05bb8"
                    ]
                },
                {
                    "command": [
                        "apply bpow_gt_0.",
                        "VernacExtend",
                        "51431cbce9a44d56b4b1857315ff3c6ca3c98e7f"
                    ]
                },
                {
                    "command": [
                        "now apply (Z2R_lt 0).",
                        "VernacExtend",
                        "5fe7a71c929f2db40ffef7572e6694713b2d3e81"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}