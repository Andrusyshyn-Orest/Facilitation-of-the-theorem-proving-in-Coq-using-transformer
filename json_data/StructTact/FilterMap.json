{
    "filename": "FilterMap.v",
    "coq_project": "StructTact",
    "vernac_cmds": [
        [
            "Require Import List.",
            "VernacRequire",
            "d9bcce4a390afeb160107bf87c6f7abe3d82c6d6"
        ],
        [
            "Import ListNotations.",
            "VernacImport",
            "52647db2a3b752153a8cbd37039246f200bccdee"
        ],
        [
            "Require Import StructTact.StructTactics.",
            "VernacRequire",
            "38f6d2cc08bbb87183850d39d33eebaeff475956"
        ],
        [
            "Require Import StructTact.ListTactics.",
            "VernacRequire",
            "987bb757e327b0a43093e4d673af5901377e00a5"
        ],
        [
            "Set Implicit Arguments.",
            "VernacSetOption",
            "9e84ff8896f028601d8aded48c1d4aebe60aa584"
        ],
        [
            "Fixpoint filterMap {A B} (f : A -> option B) (l : list A) : list B := match l with | [] => [] | x :: xs => match f x with | None => filterMap f xs | Some y => y :: filterMap f xs end end.",
            "VernacFixpoint",
            "11f7a908dcdba0e56eaa3ca695feb75d66b8a391"
        ],
        [
            "Section filter_map.",
            "VernacBeginSection",
            "a425de98bd23cd8ba2c144688a03029a91d48eef"
        ],
        [
            "Variables A B C : Type.",
            "VernacAssumption",
            "b984fd511dd9c74615ca3bfe47bac591ca7927d3"
        ],
        [
            "Lemma map_of_filterMap : forall (f : A -> option B) (g : B -> C) l, map g (filterMap f l) = filterMap (fun x => match f x with | Some y => Some (g y) | None => None end) l.",
            "VernacStartTheoremProof",
            "b1c44b106885a9d3c54e414f2efef00b54fdb58d"
        ],
        [
            "induction l; intros; simpl in *.",
            "VernacExtend",
            "2925fe4543d057b916cf3ef842068af0ff9fbcdb"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "repeat break_match; simpl; auto using f_equal.",
            "VernacExtend",
            "2da49a8e06d39d50f163eb287fb500eed28489f7"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma filterMap_ext : forall (f g : A -> option B) l, (forall x, f x = g x) -> filterMap f l = filterMap g l.",
            "VernacStartTheoremProof",
            "9592bff1a6f3d18b5edc8e6f9c8173e194c8bd40"
        ],
        [
            "induction l; intros; simpl in *.",
            "VernacExtend",
            "2925fe4543d057b916cf3ef842068af0ff9fbcdb"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "repeat find_higher_order_rewrite; auto.",
            "VernacExtend",
            "8636e1d3595f08180bf5e2232394f1c810007701"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma filterMap_defn : forall (f : A -> option B) x xs, filterMap f (x :: xs) = match f x with | Some y => y :: filterMap f xs | None => filterMap f xs end.",
            "VernacStartTheoremProof",
            "e67f92475e41752fd5e38f36b5ffebba7756e43f"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma In_filterMap : forall (f : A -> option B) b xs, In b (filterMap f xs) -> exists a, In a xs /\\ f a = Some b.",
            "VernacStartTheoremProof",
            "4b2b0027176e5e712750a95ba95234156581633d"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "induction xs; simpl in *; intuition.",
            "VernacExtend",
            "21e49f413e926504b86f9eb321fb9e7acdd05d14"
        ],
        [
            "break_match.",
            "VernacExtend",
            "b2bc690b7d230eee6ff83ec2752e6c3ed02d2594"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "intuition; subst; eauto.",
            "VernacExtend",
            "ecfe96774330b53801db6dd481762563e2482ff7"
        ],
        [
            "break_exists_exists; intuition.",
            "VernacExtend",
            "1327990099346e8d277d9c4a1c5c35e4c4333140"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "concludes.",
            "VernacExtend",
            "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
        ],
        [
            "break_exists_exists; intuition.",
            "VernacExtend",
            "1327990099346e8d277d9c4a1c5c35e4c4333140"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma filterMap_app : forall (f : A -> option B) xs ys, filterMap f (xs ++ ys) = filterMap f xs ++ filterMap f ys.",
            "VernacStartTheoremProof",
            "a93441f56f89ceee8484c7e15e61066e619ab8df"
        ],
        [
            "induction xs; intros; simpl in *; repeat break_match; simpl in *; intuition auto using f_equal.",
            "VernacExtend",
            "9aa0803096f2490f12b4d7b9843623b5d4749d51"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma filterMap_In : forall A B (f : A -> option B) a b xs, f a = Some b -> In a xs -> In b (filterMap f xs).",
            "VernacStartTheoremProof",
            "295385fff015154fc40167a50fdb626f7b16c222"
        ],
        [
            "induction xs; simpl; repeat break_match; simpl; intuition (auto; try congruence).",
            "VernacExtend",
            "dac7d332985c8abc053490513c9cfb9c644bde47"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma filterMap_of_filterMap : forall (f : B -> option C) (g : A -> option B) xs, filterMap f (filterMap g xs) = filterMap (fun a => match g a with | Some b => f b | None => None end) xs.",
            "VernacStartTheoremProof",
            "b535dfbbc6e03aa468ef6e70d3d43ee09516eb25"
        ],
        [
            "induction xs; simpl; intuition.",
            "VernacExtend",
            "ac9aa159c04a71cf35318be340a3f2997d45798a"
        ],
        [
            "repeat break_match; simpl; repeat find_rewrite; auto.",
            "VernacExtend",
            "c7a3137e46cfdf50e29bb10fe0342787bda4ac03"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma filterMap_all_None : forall (f : A -> option B) xs, (forall x, In x xs -> f x = None) -> filterMap f xs = [].",
            "VernacStartTheoremProof",
            "b37ffdae2d005fa9bb1c02d94c7e3cfdfbe7647b"
        ],
        [
            "induction xs; intros; simpl in *; intuition.",
            "VernacExtend",
            "aa2a5b9f3d69db0ff5ae9b98ae7a361d7bb304fa"
        ],
        [
            "rewrite H; auto.",
            "VernacExtend",
            "3e25713af8eaa76cddf9287af10d66733da2ee16"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma filterMap_NoDup_inj : forall (f : A -> option B) l, (forall x1 x2 y, f x1 = Some y -> f x2 = Some y -> x1 = x2) -> NoDup l -> NoDup (filterMap f l).",
            "VernacStartTheoremProof",
            "ed5a5fc35a7debf80483c5aac4490d6dfb99e330"
        ],
        [
            "induction l; intros.",
            "VernacExtend",
            "f3f6b28c6822ad560a06f008ea0a5aa487d0e8e3"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "invc_NoDup.",
            "VernacExtend",
            "e8e868429d9f07cc7fd46d88a8c06e30270cf76c"
        ],
        [
            "break_match; auto.",
            "VernacExtend",
            "7815a965b068cf64915140c34844278a6d8076f1"
        ],
        [
            "constructor; auto.",
            "VernacExtend",
            "686f227fe0f57af60032eb35216aef1e62d0c0e5"
        ],
        [
            "intro.",
            "VernacExtend",
            "3999be354c758ba0d1866e0fcc78a7288779a224"
        ],
        [
            "find_apply_lem_hyp In_filterMap.",
            "VernacExtend",
            "42fbdba4e798514471e4b5da12626d1264885223"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "break_and.",
            "VernacExtend",
            "90a213dc7b4fc55cb8bc34300101c3eaa0ead551"
        ],
        [
            "assert (a = x) by eauto.",
            "VernacExtend",
            "e2b50daad2545adaccc4a6bfeef6f8c5c4c469c8"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "contradiction.",
            "VernacExtend",
            "9b6a5c45e1144cbbccd544effb2a97082518704a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End filter_map.",
            "VernacEndSegment",
            "4f5669a19cf1954f1ba678f81ac254fbae37a216"
        ]
    ],
    "proofs": [
        {
            "name": "map_of_filterMap",
            "line_nb": 8,
            "steps": [
                {
                    "command": [
                        "induction l; intros; simpl in *.",
                        "VernacExtend",
                        "2925fe4543d057b916cf3ef842068af0ff9fbcdb"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; simpl; auto using f_equal.",
                        "VernacExtend",
                        "2da49a8e06d39d50f163eb287fb500eed28489f7"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "filterMap_ext",
            "line_nb": 15,
            "steps": [
                {
                    "command": [
                        "induction l; intros; simpl in *.",
                        "VernacExtend",
                        "2925fe4543d057b916cf3ef842068af0ff9fbcdb"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "repeat find_higher_order_rewrite; auto.",
                        "VernacExtend",
                        "8636e1d3595f08180bf5e2232394f1c810007701"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "filterMap_defn",
            "line_nb": 22,
            "steps": [
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "In_filterMap",
            "line_nb": 26,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "induction xs; simpl in *; intuition.",
                        "VernacExtend",
                        "21e49f413e926504b86f9eb321fb9e7acdd05d14"
                    ]
                },
                {
                    "command": [
                        "break_match.",
                        "VernacExtend",
                        "b2bc690b7d230eee6ff83ec2752e6c3ed02d2594"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "intuition; subst; eauto.",
                        "VernacExtend",
                        "ecfe96774330b53801db6dd481762563e2482ff7"
                    ]
                },
                {
                    "command": [
                        "break_exists_exists; intuition.",
                        "VernacExtend",
                        "1327990099346e8d277d9c4a1c5c35e4c4333140"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "concludes.",
                        "VernacExtend",
                        "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
                    ]
                },
                {
                    "command": [
                        "break_exists_exists; intuition.",
                        "VernacExtend",
                        "1327990099346e8d277d9c4a1c5c35e4c4333140"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "filterMap_app",
            "line_nb": 38,
            "steps": [
                {
                    "command": [
                        "induction xs; intros; simpl in *; repeat break_match; simpl in *; intuition auto using f_equal.",
                        "VernacExtend",
                        "9aa0803096f2490f12b4d7b9843623b5d4749d51"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "filterMap_In",
            "line_nb": 41,
            "steps": [
                {
                    "command": [
                        "induction xs; simpl; repeat break_match; simpl; intuition (auto; try congruence).",
                        "VernacExtend",
                        "dac7d332985c8abc053490513c9cfb9c644bde47"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "filterMap_of_filterMap",
            "line_nb": 44,
            "steps": [
                {
                    "command": [
                        "induction xs; simpl; intuition.",
                        "VernacExtend",
                        "ac9aa159c04a71cf35318be340a3f2997d45798a"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; simpl; repeat find_rewrite; auto.",
                        "VernacExtend",
                        "c7a3137e46cfdf50e29bb10fe0342787bda4ac03"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "filterMap_all_None",
            "line_nb": 48,
            "steps": [
                {
                    "command": [
                        "induction xs; intros; simpl in *; intuition.",
                        "VernacExtend",
                        "aa2a5b9f3d69db0ff5ae9b98ae7a361d7bb304fa"
                    ]
                },
                {
                    "command": [
                        "rewrite H; auto.",
                        "VernacExtend",
                        "3e25713af8eaa76cddf9287af10d66733da2ee16"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "filterMap_NoDup_inj",
            "line_nb": 52,
            "steps": [
                {
                    "command": [
                        "induction l; intros.",
                        "VernacExtend",
                        "f3f6b28c6822ad560a06f008ea0a5aa487d0e8e3"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "constructor.",
                        "VernacExtend",
                        "3c77e6be855b5086df5e918bf2a0537e1010479a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "invc_NoDup.",
                        "VernacExtend",
                        "e8e868429d9f07cc7fd46d88a8c06e30270cf76c"
                    ]
                },
                {
                    "command": [
                        "break_match; auto.",
                        "VernacExtend",
                        "7815a965b068cf64915140c34844278a6d8076f1"
                    ]
                },
                {
                    "command": [
                        "constructor; auto.",
                        "VernacExtend",
                        "686f227fe0f57af60032eb35216aef1e62d0c0e5"
                    ]
                },
                {
                    "command": [
                        "intro.",
                        "VernacExtend",
                        "3999be354c758ba0d1866e0fcc78a7288779a224"
                    ]
                },
                {
                    "command": [
                        "find_apply_lem_hyp In_filterMap.",
                        "VernacExtend",
                        "42fbdba4e798514471e4b5da12626d1264885223"
                    ]
                },
                {
                    "command": [
                        "break_exists.",
                        "VernacExtend",
                        "7914403b406cb602431a8c9ec3a15a70b4d83870"
                    ]
                },
                {
                    "command": [
                        "break_and.",
                        "VernacExtend",
                        "90a213dc7b4fc55cb8bc34300101c3eaa0ead551"
                    ]
                },
                {
                    "command": [
                        "assert (a = x) by eauto.",
                        "VernacExtend",
                        "e2b50daad2545adaccc4a6bfeef6f8c5c4c469c8"
                    ]
                },
                {
                    "command": [
                        "subst.",
                        "VernacExtend",
                        "ccc9cb848804101be22a0bb6c324861981c5c7f1"
                    ]
                },
                {
                    "command": [
                        "contradiction.",
                        "VernacExtend",
                        "9b6a5c45e1144cbbccd544effb2a97082518704a"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}