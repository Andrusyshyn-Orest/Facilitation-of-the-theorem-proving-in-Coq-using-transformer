{
    "filename": "Update.v",
    "coq_project": "StructTact",
    "vernac_cmds": [
        [
            "Require Import StructTact.StructTactics.",
            "VernacRequire",
            "38f6d2cc08bbb87183850d39d33eebaeff475956"
        ],
        [
            "Require Import FunctionalExtensionality.",
            "VernacRequire",
            "bb1bf6a28f9de1b2ad0dab7920189198216ed486"
        ],
        [
            "Definition update {A B : Type} (A_eq_dec : forall x y : A, {x = y} + {x <> y}) st h (v : B) := fun nm => if A_eq_dec nm h then v else st nm.",
            "VernacDefinition",
            "7866f826a9b89a081acbe35da81dd2d36f389324"
        ],
        [
            "Section update.",
            "VernacBeginSection",
            "612fc4058654ce904701669dff30bdb4c6855cb5"
        ],
        [
            "Variables A B : Type.",
            "VernacAssumption",
            "b4e42fd426c23cd1c77c79fc26c25f95338235a5"
        ],
        [
            "Hypothesis A_eq_dec : forall x y : A, {x = y} + {x <> y}.",
            "VernacAssumption",
            "8bfafa9b9f4d191cb08144dd08d300efd951ab82"
        ],
        [
            "Lemma update_diff : forall (sigma : A -> B) x v y, x <> y -> update A_eq_dec sigma x v y = sigma y.",
            "VernacStartTheoremProof",
            "76f7dbc59ab947fceff33b139b0163232c3ae23a"
        ],
        [
            "unfold update.",
            "VernacExtend",
            "62e04ebb1477401cedc82913efbc37f9d65c298a"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "break_if; congruence.",
            "VernacExtend",
            "ad9af4bb4d720c48dabc32e72ef7a467719a53fb"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma update_nop : forall (sigma : A -> B) x y, update A_eq_dec sigma x (sigma x) y = sigma y.",
            "VernacStartTheoremProof",
            "2c0f88811f4ccc5867b1c379c501eca38ce45cf8"
        ],
        [
            "unfold update.",
            "VernacExtend",
            "62e04ebb1477401cedc82913efbc37f9d65c298a"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "break_if; congruence.",
            "VernacExtend",
            "ad9af4bb4d720c48dabc32e72ef7a467719a53fb"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma update_eq : forall (sigma : A -> B) x y v, x = y -> update A_eq_dec sigma x v y = v.",
            "VernacStartTheoremProof",
            "89a84b5c506c29e60ffd35ddfcbe2ae3ebed082f"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "unfold update.",
            "VernacExtend",
            "62e04ebb1477401cedc82913efbc37f9d65c298a"
        ],
        [
            "break_if; congruence.",
            "VernacExtend",
            "ad9af4bb4d720c48dabc32e72ef7a467719a53fb"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma update_same : forall (sigma : A -> B) x v, update A_eq_dec sigma x v x = v.",
            "VernacStartTheoremProof",
            "9c1cdafe5f1de22912ddeaa60a5ce3aadbe98427"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "rewrite update_eq; auto.",
            "VernacExtend",
            "c9b0520accd94618a4cb70955cf1eede8c1948cb"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma update_nop_ext : forall (sigma : A -> B) h, update A_eq_dec sigma h (sigma h) = sigma.",
            "VernacStartTheoremProof",
            "6bcb9fc9b7eb6c1b79679ea17d19c005fdedd9e5"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply functional_extensionality.",
            "VernacExtend",
            "9c7e1fe6d23159d5580801709782c72a6cb0684f"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply update_nop.",
            "VernacExtend",
            "aa8fd1180f7f6bb867fe4b855bee833dd8110377"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma update_nop_ext' : forall (sigma : A -> B) y v, sigma y = v -> update A_eq_dec sigma y v = sigma.",
            "VernacStartTheoremProof",
            "6d696a0664e5cbf068ab9183f5f214ddedeb4d8b"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "apply update_nop_ext.",
            "VernacExtend",
            "6ea95d6578ebffce3ff47e32156542d8cf83453a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma update_overwrite : forall (sigma : A -> B) h st st', update A_eq_dec (update A_eq_dec sigma h st) h st' = update A_eq_dec sigma h st'.",
            "VernacStartTheoremProof",
            "9b1a9bc0e1ccad59443c0fa8ee9e66dc9500d722"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply functional_extensionality.",
            "VernacExtend",
            "9c7e1fe6d23159d5580801709782c72a6cb0684f"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "destruct (A_eq_dec h x).",
            "VernacExtend",
            "8104b93c09af52917de21851c49dfd15654005ec"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "repeat rewrite update_eq; auto.",
            "VernacExtend",
            "fb635071aeca6181035289c615c827a12c3fcec5"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "repeat rewrite update_diff; auto.",
            "VernacExtend",
            "75486a177671a3ad8e3e1365e0babd33869cecd4"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End update.",
            "VernacEndSegment",
            "7af7be73c6834d5f8437d26ee0a648c9927ed4c8"
        ],
        [
            "Lemma update_fun_comm : forall A B C A_eq_dec (f : B -> C) (st : A -> B) y v x, f (update A_eq_dec st y v x) = update A_eq_dec (fun x => f (st x)) y (f v) x.",
            "VernacStartTheoremProof",
            "f60430e7742a62805509626e94a70a8d715ea6e7"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "destruct (A_eq_dec x y); subst; repeat first [rewrite update_diff by congruence | rewrite update_eq by auto ]; auto.",
            "VernacExtend",
            "b860273e0da4db9c909eb0aa2cb17088ab8e2342"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Ltac update_destruct_goal := match goal with | [ |- context [ update ?eq_dec _ ?y _ ?x ] ] => destruct (eq_dec y x) end.",
            "VernacExtend",
            "502782327636adabfbb1f1632085503ba8c20a90"
        ],
        [
            "Ltac update_destruct_hyp := match goal with | [ _ : context [ update ?eq_dec _ ?y _ ?x ] |- _ ] => destruct (eq_dec y x) end.",
            "VernacExtend",
            "ba9c2f135e9f6adbf14f3777e57313d7f4848f24"
        ],
        [
            "Ltac update_destruct := update_destruct_goal || update_destruct_hyp.",
            "VernacExtend",
            "c17c42dbc39d46c5e5c4f532416a5a2d9bc2ae39"
        ],
        [
            "Ltac rewrite_update' H := first [rewrite update_diff in H by congruence | rewrite update_eq in H by auto ].",
            "VernacExtend",
            "a68b653e36cbaf7ce5959c92bc3efdf1713da5a1"
        ],
        [
            "Ltac rewrite_update := repeat match goal with | [ H : context [ update _ _ _ _ _ ] |- _ ] => rewrite_update' H; repeat rewrite_update' H | [ |- _ ] => repeat (try rewrite update_diff by congruence; try rewrite update_eq by auto) end.",
            "VernacExtend",
            "d0b899da82160aafc2cacfb9aefff215c5b2594c"
        ],
        [
            "Ltac destruct_update := repeat (update_destruct; subst; rewrite_update).",
            "VernacExtend",
            "79f93e083cbcee82c43a3d690aea653547b9388d"
        ],
        [
            "Ltac destruct_update_hyp := repeat ((update_destruct_hyp || update_destruct_goal); subst; rewrite_update).",
            "VernacExtend",
            "294d72d5765c3b03acd71d4b2dea20277af4223b"
        ],
        [
            "Ltac update_destruct_simplify := update_destruct; subst; rewrite_update; simpl in *.",
            "VernacExtend",
            "6d4d96ec9689da413b6f612e317f4a513c9d3c64"
        ],
        [
            "Ltac update_destruct_simplify_hyp := update_destruct_hyp || update_destruct_goal; subst; rewrite_update; simpl in *.",
            "VernacExtend",
            "ad3c3e3aea41d65bd21105dcd2d4f5e32a8c56cc"
        ],
        [
            "Ltac update_destruct_max_simplify := update_destruct; subst_max; rewrite_update; simpl in *.",
            "VernacExtend",
            "c45da901224062552faf79715e01b8426bd515b1"
        ]
    ],
    "proofs": [
        {
            "name": "update_diff",
            "line_nb": 6,
            "steps": [
                {
                    "command": [
                        "unfold update.",
                        "VernacExtend",
                        "62e04ebb1477401cedc82913efbc37f9d65c298a"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "break_if; congruence.",
                        "VernacExtend",
                        "ad9af4bb4d720c48dabc32e72ef7a467719a53fb"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "update_nop",
            "line_nb": 11,
            "steps": [
                {
                    "command": [
                        "unfold update.",
                        "VernacExtend",
                        "62e04ebb1477401cedc82913efbc37f9d65c298a"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "break_if; congruence.",
                        "VernacExtend",
                        "ad9af4bb4d720c48dabc32e72ef7a467719a53fb"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "update_eq",
            "line_nb": 16,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "subst.",
                        "VernacExtend",
                        "ccc9cb848804101be22a0bb6c324861981c5c7f1"
                    ]
                },
                {
                    "command": [
                        "unfold update.",
                        "VernacExtend",
                        "62e04ebb1477401cedc82913efbc37f9d65c298a"
                    ]
                },
                {
                    "command": [
                        "break_if; congruence.",
                        "VernacExtend",
                        "ad9af4bb4d720c48dabc32e72ef7a467719a53fb"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "update_same",
            "line_nb": 22,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "rewrite update_eq; auto.",
                        "VernacExtend",
                        "c9b0520accd94618a4cb70955cf1eede8c1948cb"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "update_nop_ext",
            "line_nb": 26,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply functional_extensionality.",
                        "VernacExtend",
                        "9c7e1fe6d23159d5580801709782c72a6cb0684f"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply update_nop.",
                        "VernacExtend",
                        "aa8fd1180f7f6bb867fe4b855bee833dd8110377"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "update_nop_ext'",
            "line_nb": 32,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "subst.",
                        "VernacExtend",
                        "ccc9cb848804101be22a0bb6c324861981c5c7f1"
                    ]
                },
                {
                    "command": [
                        "apply update_nop_ext.",
                        "VernacExtend",
                        "6ea95d6578ebffce3ff47e32156542d8cf83453a"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "update_overwrite",
            "line_nb": 37,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply functional_extensionality.",
                        "VernacExtend",
                        "9c7e1fe6d23159d5580801709782c72a6cb0684f"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "destruct (A_eq_dec h x).",
                        "VernacExtend",
                        "8104b93c09af52917de21851c49dfd15654005ec"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite update_eq; auto.",
                        "VernacExtend",
                        "fb635071aeca6181035289c615c827a12c3fcec5"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite update_diff; auto.",
                        "VernacExtend",
                        "75486a177671a3ad8e3e1365e0babd33869cecd4"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "update_fun_comm",
            "line_nb": 48,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "destruct (A_eq_dec x y); subst; repeat first [rewrite update_diff by congruence | rewrite update_eq by auto ]; auto.",
                        "VernacExtend",
                        "b860273e0da4db9c909eb0aa2cb17088ab8e2342"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}