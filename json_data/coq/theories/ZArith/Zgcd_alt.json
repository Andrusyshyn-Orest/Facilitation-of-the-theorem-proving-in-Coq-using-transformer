{
    "filename": "theories/ZArith/Zgcd_alt.v",
    "coq_project": "coq",
    "vernac_cmds": [
        [
            "Require Import ZArith_base.",
            "VernacRequire",
            "3869e2745ea23533899856ceac38bbbfdda9266e"
        ],
        [
            "Require Import ZArithRing.",
            "VernacRequire",
            "1792ea5bd3f37db98704504fc8fd627a7843b280"
        ],
        [
            "Require Import Zdiv.",
            "VernacRequire",
            "48857015f605c04d86a1833489372f2ed560176a"
        ],
        [
            "Require Import Znumtheory.",
            "VernacRequire",
            "b0019a4f65c83089c27581d981ae8f6e0b66ab58"
        ],
        [
            "Require Import Omega.",
            "VernacRequire",
            "72dd903de5f3320ef9d302d79812066579ed9cdb"
        ],
        [
            "Open Scope Z_scope.",
            "VernacOpenCloseScope",
            "5d5d2991d98cf1203a824951a099efb9d105702f"
        ],
        [
            "Fixpoint Zgcdn (n:nat) : Z -> Z -> Z := fun a b => match n with | O => 1 | S n => match a with | Z0 => Z.abs b | Zpos _ => Zgcdn n (Z.modulo b a) a | Zneg a => Zgcdn n (Z.modulo b (Zpos a)) (Zpos a) end end.",
            "VernacFixpoint",
            "b8d861ab29ac30972a34b05b90ced3ed9341fd33"
        ],
        [
            "Definition Zgcd_bound (a:Z) := match a with | Z0 => S O | Zpos p => let n := Pos.size_nat p in (n+n)%nat | Zneg p => let n := Pos.size_nat p in (n+n)%nat end.",
            "VernacDefinition",
            "afe0a0ac868e16ec8c94555b63b514ac82027397"
        ],
        [
            "Definition Zgcd_alt a b := Zgcdn (Zgcd_bound a) a b.",
            "VernacDefinition",
            "3c5514010f718a136e08780c5e5703c2ac384a19"
        ],
        [
            "Lemma Zgcdn_pos : forall n a b, 0 <= Zgcdn n a b.",
            "VernacStartTheoremProof",
            "38d52fab16a3bbfdc3df45ee10c5eaae3419f1e7"
        ],
        [
            "induction n.",
            "VernacExtend",
            "7f3faa2a3277e3553406d09101130efcb1764494"
        ],
        [
            "simpl; auto with zarith.",
            "VernacExtend",
            "61d3cdc6299cf8abf87703c074ca4503f0f27a12"
        ],
        [
            "destruct a; simpl; intros; auto with zarith; auto.",
            "VernacExtend",
            "4570f8deb97ad531e5b6451a9391602640d245d9"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma Zgcd_alt_pos : forall a b, 0 <= Zgcd_alt a b.",
            "VernacStartTheoremProof",
            "0e81073b01d2f7c3ccab17b58756fc815a2e7e06"
        ],
        [
            "intros; unfold Z.gcd; apply Zgcdn_pos; auto.",
            "VernacExtend",
            "01cde6005633b6d78336aad39f8c32210da8bbf8"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma Zgcdn_linear_bound : forall n a b, Z.abs a < Z.of_nat n -> Zis_gcd a b (Zgcdn n a b).",
            "VernacStartTheoremProof",
            "784c5a5a461bde63e4a024052df597086752af39"
        ],
        [
            "induction n.",
            "VernacExtend",
            "7f3faa2a3277e3553406d09101130efcb1764494"
        ],
        [
            "simpl; intros.",
            "VernacExtend",
            "429a59199da524088af55673600740ccc58db31e"
        ],
        [
            "exfalso; generalize (Z.abs_nonneg a); omega.",
            "VernacExtend",
            "1da7dd5adc827aa01fe408f48dab8dc093c379d8"
        ],
        [
            "destruct a; intros; simpl; [ generalize (Zis_gcd_0_abs b); intuition | | ]; unfold Z.modulo; generalize (Z_div_mod b (Zpos p) (eq_refl Gt)); destruct (Z.div_eucl b (Zpos p)) as (q,r); intros (H0,H1); rewrite Nat2Z.inj_succ in H; simpl Z.abs in H; (assert (H2: Z.abs r < Z.of_nat n) by (rewrite Z.abs_eq; auto with zarith)); assert (IH:=IHn r (Zpos p) H2); clear IHn; simpl in IH |- *; rewrite H0.",
            "VernacExtend",
            "602e477492b13ffa327c3ced8ca93baec01c84c8"
        ],
        [
            "apply Zis_gcd_for_euclid2; auto.",
            "VernacExtend",
            "9869493706fceba3b491d1a7a61b5a1c92a16b47"
        ],
        [
            "apply Zis_gcd_minus; apply Zis_gcd_sym.",
            "VernacExtend",
            "5f08bdef921e16c0aa072c7b0c09d77cf5b85fd0"
        ],
        [
            "apply Zis_gcd_for_euclid2; auto.",
            "VernacExtend",
            "9869493706fceba3b491d1a7a61b5a1c92a16b47"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Fixpoint fibonacci (n:nat) : Z := match n with | O => 1 | S O => 1 | S (S n as p) => fibonacci p + fibonacci n end.",
            "VernacFixpoint",
            "8920c1afd0f3f491c73322fd2074076163a3cc31"
        ],
        [
            "Lemma fibonacci_pos : forall n, 0 <= fibonacci n.",
            "VernacStartTheoremProof",
            "d929bc3346cf2c467507c6541def7d4d1568b77b"
        ],
        [
            "enough (forall N n, (n<N)%nat -> 0<=fibonacci n) by eauto.",
            "VernacExtend",
            "5c4ee37e2d01a8cbe10573b265048fd538b8c43b"
        ],
        [
            "induction N.",
            "VernacExtend",
            "014c91061e9f52f369bba44af3bfd9be499036f5"
        ],
        [
            "inversion 1.",
            "VernacExtend",
            "9152817da0dc28ba4701e3ff01c293af28a1059f"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "destruct n.",
            "VernacExtend",
            "1582bf847770c098bee882393a48b146dcc37a8c"
        ],
        [
            "simpl; auto with zarith.",
            "VernacExtend",
            "61d3cdc6299cf8abf87703c074ca4503f0f27a12"
        ],
        [
            "destruct n.",
            "VernacExtend",
            "1582bf847770c098bee882393a48b146dcc37a8c"
        ],
        [
            "simpl; auto with zarith.",
            "VernacExtend",
            "61d3cdc6299cf8abf87703c074ca4503f0f27a12"
        ],
        [
            "change (0 <= fibonacci (S n) + fibonacci n).",
            "VernacExtend",
            "30f48e84b416721788e410d02207e2cc51bb50cd"
        ],
        [
            "generalize (IHN n) (IHN (S n)); omega.",
            "VernacExtend",
            "f041ee2ceafa59f94988ac2a0f4ff83e17a4c47a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma fibonacci_incr : forall n m, (n<=m)%nat -> fibonacci n <= fibonacci m.",
            "VernacStartTheoremProof",
            "fe60fb0277b2b5920b63e7741232a7cf5b9c5b9b"
        ],
        [
            "induction 1.",
            "VernacExtend",
            "dfe896305621800fcbb03b32d51d497edbdf1dc5"
        ],
        [
            "auto with zarith.",
            "VernacExtend",
            "23f42fd3236dcece4a40b3a666dce57fea69a9c0"
        ],
        [
            "apply Z.le_trans with (fibonacci m); auto.",
            "VernacExtend",
            "47e3f61e472418ba28e3a6ed14045d475650d394"
        ],
        [
            "clear.",
            "VernacExtend",
            "086ee0db0bdefcfa1ec15bb5cd44d451de64c569"
        ],
        [
            "destruct m.",
            "VernacExtend",
            "8d29a39ed817a734f6646f7b42c80e41363356d4"
        ],
        [
            "simpl; auto with zarith.",
            "VernacExtend",
            "61d3cdc6299cf8abf87703c074ca4503f0f27a12"
        ],
        [
            "change (fibonacci (S m) <= fibonacci (S m)+fibonacci m).",
            "VernacExtend",
            "b18edd714bbc642f6201d53132428de0e03cd101"
        ],
        [
            "generalize (fibonacci_pos m); omega.",
            "VernacExtend",
            "377876177c0804b98053200246f11768ae6a3f4d"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma Zgcdn_worst_is_fibonacci : forall n a b, 0 < a < b -> Zis_gcd a b (Zgcdn (S n) a b) -> Zgcdn n a b <> Zgcdn (S n) a b -> fibonacci (S n) <= a /\\ fibonacci (S (S n)) <= b.",
            "VernacStartTheoremProof",
            "b3e657df88e1b2e7515f712d73ae0e5b3268a5f8"
        ],
        [
            "induction n.",
            "VernacExtend",
            "7f3faa2a3277e3553406d09101130efcb1764494"
        ],
        [
            "intros [|a|a]; intros; simpl; omega.",
            "VernacExtend",
            "cffcaf0cf6c480a18f901a3403e15cd80a9ebfb9"
        ],
        [
            "intros [|a|a] b (Ha,Ha'); [simpl; omega | | easy ].",
            "VernacExtend",
            "9f205769b71aa9d38b2dfa96965d9f546b101c48"
        ],
        [
            "remember (S n) as m.",
            "VernacExtend",
            "09af421db9d0bca6cd5c324b6c6ecc7b742f78d0"
        ],
        [
            "rewrite Heqm at 2.",
            "VernacExtend",
            "c49560e46a8b3ea343b759cc55a87dc7365c4f1a"
        ],
        [
            "simpl Zgcdn.",
            "VernacExtend",
            "acb2acc1fc2fd287684d961455541ca0c32d9f2f"
        ],
        [
            "unfold Z.modulo; generalize (Z_div_mod b (Zpos a) eq_refl).",
            "VernacExtend",
            "da2fd0b3bf9554c5c28c7f1547fef14679f368d8"
        ],
        [
            "destruct (Z.div_eucl b (Zpos a)) as (q,r).",
            "VernacExtend",
            "c9f134c8d902b18219724e25a56b3b0a440cb23a"
        ],
        [
            "intros (EQ,(Hr,Hr')).",
            "VernacExtend",
            "d77892290cc2deb58297432176562f32998fe9a8"
        ],
        [
            "Z.le_elim Hr.",
            "VernacExtend",
            "864f0d3d91b070349fcbe2e7c27d3a56b955dadf"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "replace (fibonacci (S (S m))) with (fibonacci (S m) + fibonacci m) by auto.",
            "VernacExtend",
            "6650089decc0074c887e2b3220211cbe9c838771"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "destruct (IHn r (Zpos a) (conj Hr Hr')); auto.",
            "VernacExtend",
            "3ef21742e3811ce6701b727ca6ccbc74fe1b2a62"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "assert (EQ' : r = Zpos a * (-q) + b) by (rewrite EQ; ring).",
            "VernacExtend",
            "f215fde06d64c00ad77e95fd9248c9a90c5223ac"
        ],
        [
            "rewrite EQ' at 1.",
            "VernacExtend",
            "6e52ff47aa9cdf2dabf4b340e179da4b7b26ffad"
        ],
        [
            "apply Zis_gcd_sym.",
            "VernacExtend",
            "eaf702080367f89d66265a555879edd9ab691099"
        ],
        [
            "apply Zis_gcd_for_euclid2; auto.",
            "VernacExtend",
            "9869493706fceba3b491d1a7a61b5a1c92a16b47"
        ],
        [
            "apply Zis_gcd_sym; auto.",
            "VernacExtend",
            "55f20e9736f4c0e8d0cedb499c2e8a6801108b31"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "split; auto.",
            "VernacExtend",
            "fcd44a714bd12fa54b1c7746996e44dbac16df06"
        ],
        [
            "rewrite EQ.",
            "VernacExtend",
            "359c5e196f83a6afbd9ede635bddbf545fd1eb82"
        ],
        [
            "apply Z.add_le_mono; auto.",
            "VernacExtend",
            "eefe8ca82c0db2fd7dcd0fb6054e9970d035dd69"
        ],
        [
            "apply Z.le_trans with (Zpos a * 1); auto.",
            "VernacExtend",
            "941bab972d696d3839278b3cc63ca48fcc4613b9"
        ],
        [
            "now rewrite Z.mul_1_r.",
            "VernacExtend",
            "c659738f2c6346b3f54646b64876f74bea1637d8"
        ],
        [
            "apply Z.mul_le_mono_nonneg_l; auto with zarith.",
            "VernacExtend",
            "1e65874b370d10e27df2f788c84bb3549d172f38"
        ],
        [
            "change 1 with (Z.succ 0).",
            "VernacExtend",
            "5e0cf0b78ccce7e4bcdc9b164e4573e03eeeabcc"
        ],
        [
            "apply Z.le_succ_l.",
            "VernacExtend",
            "831514d6ebda3fd5951c3d1b55dc52282df141d3"
        ],
        [
            "destruct q; auto with zarith.",
            "VernacExtend",
            "888a7855df22c54c83330260eb08e13d00dd67d6"
        ],
        [
            "assert (Zpos a * Zneg p < 0) by now compute.",
            "VernacExtend",
            "e1eaba35c77ca4ad1055f9a7be5b549610819f59"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "clear IHn EQ Hr'; intros _.",
            "VernacExtend",
            "d9a18ac5d152edec5b31a437a74542a116f585b8"
        ],
        [
            "subst r; simpl; rewrite Heqm.",
            "VernacExtend",
            "d17c8129667b75d1436825614530e50a212e76f3"
        ],
        [
            "destruct n.",
            "VernacExtend",
            "1582bf847770c098bee882393a48b146dcc37a8c"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "now destruct 1.",
            "VernacExtend",
            "599cf8488dce43cedbb3491ca78a34441bf2a1bd"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma Zgcdn_ok_before_fibonacci : forall n a b, 0 < a < b -> a < fibonacci (S n) -> Zis_gcd a b (Zgcdn n a b).",
            "VernacStartTheoremProof",
            "56946fee5b07773a557591f97fb7c172abeb4af6"
        ],
        [
            "destruct a; [ destruct 1; exfalso; omega | | destruct 1; discriminate].",
            "VernacExtend",
            "6847a82f6326c134be6a4142e8e0a74ade869f62"
        ],
        [
            "cut (forall k n b, k = (S (Pos.to_nat p) - n)%nat -> 0 < Zpos p < b -> Zpos p < fibonacci (S n) -> Zis_gcd (Zpos p) b (Zgcdn n (Zpos p) b)).",
            "VernacExtend",
            "7771e6fd130a55ccdf82ced311068fe56b6a285b"
        ],
        [
            "destruct 2; eauto.",
            "VernacExtend",
            "6417899db0682fbc6e65b79e9bfdfe7d05f589e6"
        ],
        [
            "clear n; induction k.",
            "VernacExtend",
            "00c4883eeee9aef9384890ef1431ec7cb04a0b0f"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "assert (Pos.to_nat p < n)%nat by omega.",
            "VernacExtend",
            "8bc96bad9a34c9610ecade28d70e1ee2bae385f4"
        ],
        [
            "apply Zgcdn_linear_bound.",
            "VernacExtend",
            "02e807b1d68d3f4f93fdd9b60a71f8ca586d4af5"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "generalize (inj_le _ _ H2).",
            "VernacExtend",
            "fa0415b8aa488b74805f67388cc72df0e67fd86c"
        ],
        [
            "rewrite Nat2Z.inj_succ.",
            "VernacExtend",
            "1fc791f52357dc9e0a22fac0a6d82e87969a1699"
        ],
        [
            "rewrite positive_nat_Z; auto.",
            "VernacExtend",
            "c218b119254251ff9ccc39a3a1855d39e0dc5e10"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "generalize (Zgcdn_worst_is_fibonacci n (Zpos p) b H0); intros.",
            "VernacExtend",
            "501789a3c69af82b4da117275edfd800d3dd3caa"
        ],
        [
            "assert (Zis_gcd (Zpos p) b (Zgcdn (S n) (Zpos p) b)).",
            "VernacExtend",
            "4788825e6f8a6c180e1a5c395380f569a0f21b48"
        ],
        [
            "apply IHk; auto.",
            "VernacExtend",
            "458d58a400434cdb7e6d36e3df88228bda710800"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "replace (fibonacci (S (S n))) with (fibonacci (S n)+fibonacci n) by auto.",
            "VernacExtend",
            "b055694050530a250d31001eb127403508fcbdff"
        ],
        [
            "generalize (fibonacci_pos n); omega.",
            "VernacExtend",
            "2ac24e84f1e060a3ec4e88e57ee648d1f3b10d88"
        ],
        [
            "replace (Zgcdn n (Zpos p) b) with (Zgcdn (S n) (Zpos p) b); auto.",
            "VernacExtend",
            "a9c201ebf9a8a7d162bf05cb95934e6d625f3630"
        ],
        [
            "generalize (H2 H3); clear H2 H3; omega.",
            "VernacExtend",
            "e6ef526f73f195090f6f30611600dd62423dcfe4"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma Zgcd_bound_fibonacci : forall a, 0 < a -> a < fibonacci (Zgcd_bound a).",
            "VernacStartTheoremProof",
            "2f63fbf0255a410753db7d053d3915b6a1b07edf"
        ],
        [
            "destruct a; [omega| | intro H; discriminate].",
            "VernacExtend",
            "43cf6a327e7fb363255dce46d81791e06465ca87"
        ],
        [
            "intros _.",
            "VernacExtend",
            "eb0e518a4896777a9a76b3ab973eaf7b4f1b52db"
        ],
        [
            "induction p; [ | | compute; auto ]; simpl Zgcd_bound in *; rewrite plus_comm; simpl plus; set (n:= (Pos.size_nat p+Pos.size_nat p)%nat) in *; simpl; assert (n <> O) by (unfold n; destruct p; simpl; auto).",
            "VernacExtend",
            "cbbefde997b006601158d994c4291bbebbaffb3d"
        ],
        [
            "destruct n as [ |m]; [elim H; auto| ].",
            "VernacExtend",
            "7fcd693f29c41f40d80f8a5deabf12d5ed4cf25d"
        ],
        [
            "generalize (fibonacci_pos m); rewrite Pos2Z.inj_xI; omega.",
            "VernacExtend",
            "403c549d28f7ebc13332050d2ef700bf8cf7df2d"
        ],
        [
            "destruct n as [ |m]; [elim H; auto| ].",
            "VernacExtend",
            "7fcd693f29c41f40d80f8a5deabf12d5ed4cf25d"
        ],
        [
            "generalize (fibonacci_pos m); rewrite Pos2Z.inj_xO; omega.",
            "VernacExtend",
            "6c7c0263f3f50d1a55da6eac4cd8e81ee134076b"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma Zgcd_bound_opp a : Zgcd_bound (-a) = Zgcd_bound a.",
            "VernacStartTheoremProof",
            "b36e548cb3d128c089842fe4e421151a1a6e4940"
        ],
        [
            "now destruct a.",
            "VernacExtend",
            "24051356fff328c7208562817960b0c83ed3bf6c"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma Zgcdn_opp n a b : Zgcdn n (-a) b = Zgcdn n a b.",
            "VernacStartTheoremProof",
            "e6f799389f811f5eb91679edb439e92232137dc4"
        ],
        [
            "induction n; simpl; auto.",
            "VernacExtend",
            "e97dceb16245749e91243b27d3fd5ddc89e99bdd"
        ],
        [
            "destruct a; simpl; auto.",
            "VernacExtend",
            "d3281b1ac93d1263ea39f3556240463bbc6e4604"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma Zgcdn_is_gcd_pos n a b : (Zgcd_bound (Zpos a) <= n)%nat -> Zis_gcd (Zpos a) b (Zgcdn n (Zpos a) b).",
            "VernacStartTheoremProof",
            "060496a28b6b367ae9724d70b5705de6117e2eb2"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "generalize (Zgcd_bound_fibonacci (Zpos a)).",
            "VernacExtend",
            "fc88f2aba800f4153d1039fb6196551d30cd4f1e"
        ],
        [
            "simpl Zgcd_bound in *.",
            "VernacExtend",
            "bd20617dbe772b5246e06ffb1cda0654a5a7c6b2"
        ],
        [
            "remember (Pos.size_nat a+Pos.size_nat a)%nat as m.",
            "VernacExtend",
            "556efcddb6bcfa72ed8d30a6162a95703e9d6dbf"
        ],
        [
            "assert (1 < m)%nat.",
            "VernacExtend",
            "baa60d632cc48698f23831529d235afca320ea4d"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "rewrite Heqm; destruct a; simpl; rewrite 1?plus_comm; auto with arith.",
            "VernacExtend",
            "6901e7252957eab6a316edc7f82afe5372321667"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "destruct m as [ |m]; [inversion H0; auto| ].",
            "VernacExtend",
            "58303d1ea787f62631576118c70c55dff758fb6e"
        ],
        [
            "destruct n as [ |n]; [inversion H; auto| ].",
            "VernacExtend",
            "f5daadf75d13912bb7f80f63056e4e6040220917"
        ],
        [
            "simpl Zgcdn.",
            "VernacExtend",
            "acb2acc1fc2fd287684d961455541ca0c32d9f2f"
        ],
        [
            "unfold Z.modulo.",
            "VernacExtend",
            "5b541c0157c6f315abfe19063bf48e48b751b78b"
        ],
        [
            "generalize (Z_div_mod b (Zpos a) (eq_refl Gt)).",
            "VernacExtend",
            "2c7e612e1f51f2728ded87c8a227d8d38570d593"
        ],
        [
            "destruct (Z.div_eucl b (Zpos a)) as (q,r).",
            "VernacExtend",
            "c9f134c8d902b18219724e25a56b3b0a440cb23a"
        ],
        [
            "intros (->,(H1,H2)) H3.",
            "VernacExtend",
            "4cdd482d8ff9931bee61546b360b455541027d3a"
        ],
        [
            "apply Zis_gcd_for_euclid2.",
            "VernacExtend",
            "afd4d9874b9eba1f72b924bed18bfaa6516803d5"
        ],
        [
            "Z.le_elim H1.",
            "VernacExtend",
            "0efedf01ebb311bf12c81a588aa4fe6716c61a1e"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply Zgcdn_ok_before_fibonacci; auto.",
            "VernacExtend",
            "1f2db27ca7df2b46fffc6cc7b6e63d08fa50618b"
        ],
        [
            "apply Z.lt_le_trans with (fibonacci (S m)); [ omega | apply fibonacci_incr; auto].",
            "VernacExtend",
            "3eadec08b93bcef134f17c97f7a1dfd38911e942"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "subst r; simpl.",
            "VernacExtend",
            "9cbc8cdb21d39ac475405d105cf2669b712a4ce8"
        ],
        [
            "destruct m as [ |m]; [exfalso; omega| ].",
            "VernacExtend",
            "e05ac378c7c40c720013fafa278fbf4a16cb425e"
        ],
        [
            "destruct n as [ |n]; [exfalso; omega| ].",
            "VernacExtend",
            "cb999d23e862dc74927a6742250e673510ec1b47"
        ],
        [
            "simpl; apply Zis_gcd_sym; apply Zis_gcd_0.",
            "VernacExtend",
            "9643e1baf1265b62f4200c6896f0e40b3379f13e"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma Zgcdn_is_gcd n a b : (Zgcd_bound a <= n)%nat -> Zis_gcd a b (Zgcdn n a b).",
            "VernacStartTheoremProof",
            "6c5ba70281e1a18ede683713b985f46946c8884a"
        ],
        [
            "destruct a.",
            "VernacExtend",
            "3f53f61a7882a1bcc65ff705b5afc6c02a0dddf5"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "simpl; intros.",
            "VernacExtend",
            "429a59199da524088af55673600740ccc58db31e"
        ],
        [
            "destruct n; [exfalso; omega | ].",
            "VernacExtend",
            "fe0838f07f1ac8a3c4b9f8e3883dbedcf5ac6cb4"
        ],
        [
            "simpl; generalize (Zis_gcd_0_abs b); intuition.",
            "VernacExtend",
            "027e6c25ee916f3ec4a06835658628f95d336aaf"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply Zgcdn_is_gcd_pos.",
            "VernacExtend",
            "a209941b92434f2e30985b52a472356564848274"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "rewrite <- Zgcd_bound_opp, <- Zgcdn_opp.",
            "VernacExtend",
            "190da6d3397faeb1875801fe52056c4e62b2673f"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply Zis_gcd_minus, Zis_gcd_sym.",
            "VernacExtend",
            "e3b01083d7b7d6926bed7bec7679513bb495a453"
        ],
        [
            "simpl Z.opp.",
            "VernacExtend",
            "8761f902372afb84698653ac184204220d57ed40"
        ],
        [
            "now apply Zgcdn_is_gcd_pos.",
            "VernacExtend",
            "282c2fa971a1773eb223675eb7678f5bf9709375"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma Zgcd_is_gcd : forall a b, Zis_gcd a b (Zgcd_alt a b).",
            "VernacStartTheoremProof",
            "049bbaa2c70794be42bd5d0e5bdc8fd22c6f7f95"
        ],
        [
            "unfold Zgcd_alt; intros; apply Zgcdn_is_gcd; auto.",
            "VernacExtend",
            "a3d483a031faf59781b2485f456311b3f8bfa7bf"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ]
    ],
    "proofs": [
        {
            "name": "Zgcdn_pos",
            "line_nb": 9,
            "steps": [
                {
                    "command": [
                        "induction n.",
                        "VernacExtend",
                        "7f3faa2a3277e3553406d09101130efcb1764494"
                    ]
                },
                {
                    "command": [
                        "simpl; auto with zarith.",
                        "VernacExtend",
                        "61d3cdc6299cf8abf87703c074ca4503f0f27a12"
                    ]
                },
                {
                    "command": [
                        "destruct a; simpl; intros; auto with zarith; auto.",
                        "VernacExtend",
                        "4570f8deb97ad531e5b6451a9391602640d245d9"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Zgcd_alt_pos",
            "line_nb": 14,
            "steps": [
                {
                    "command": [
                        "intros; unfold Z.gcd; apply Zgcdn_pos; auto.",
                        "VernacExtend",
                        "01cde6005633b6d78336aad39f8c32210da8bbf8"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Zgcdn_linear_bound",
            "line_nb": 17,
            "steps": [
                {
                    "command": [
                        "induction n.",
                        "VernacExtend",
                        "7f3faa2a3277e3553406d09101130efcb1764494"
                    ]
                },
                {
                    "command": [
                        "simpl; intros.",
                        "VernacExtend",
                        "429a59199da524088af55673600740ccc58db31e"
                    ]
                },
                {
                    "command": [
                        "exfalso; generalize (Z.abs_nonneg a); omega.",
                        "VernacExtend",
                        "1da7dd5adc827aa01fe408f48dab8dc093c379d8"
                    ]
                },
                {
                    "command": [
                        "destruct a; intros; simpl; [ generalize (Zis_gcd_0_abs b); intuition | | ]; unfold Z.modulo; generalize (Z_div_mod b (Zpos p) (eq_refl Gt)); destruct (Z.div_eucl b (Zpos p)) as (q,r); intros (H0,H1); rewrite Nat2Z.inj_succ in H; simpl Z.abs in H; (assert (H2: Z.abs r < Z.of_nat n) by (rewrite Z.abs_eq; auto with zarith)); assert (IH:=IHn r (Zpos p) H2); clear IHn; simpl in IH |- *; rewrite H0.",
                        "VernacExtend",
                        "602e477492b13ffa327c3ced8ca93baec01c84c8"
                    ]
                },
                {
                    "command": [
                        "apply Zis_gcd_for_euclid2; auto.",
                        "VernacExtend",
                        "9869493706fceba3b491d1a7a61b5a1c92a16b47"
                    ]
                },
                {
                    "command": [
                        "apply Zis_gcd_minus; apply Zis_gcd_sym.",
                        "VernacExtend",
                        "5f08bdef921e16c0aa072c7b0c09d77cf5b85fd0"
                    ]
                },
                {
                    "command": [
                        "apply Zis_gcd_for_euclid2; auto.",
                        "VernacExtend",
                        "9869493706fceba3b491d1a7a61b5a1c92a16b47"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "fibonacci_pos",
            "line_nb": 27,
            "steps": [
                {
                    "command": [
                        "enough (forall N n, (n<N)%nat -> 0<=fibonacci n) by eauto.",
                        "VernacExtend",
                        "5c4ee37e2d01a8cbe10573b265048fd538b8c43b"
                    ]
                },
                {
                    "command": [
                        "induction N.",
                        "VernacExtend",
                        "014c91061e9f52f369bba44af3bfd9be499036f5"
                    ]
                },
                {
                    "command": [
                        "inversion 1.",
                        "VernacExtend",
                        "9152817da0dc28ba4701e3ff01c293af28a1059f"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "destruct n.",
                        "VernacExtend",
                        "1582bf847770c098bee882393a48b146dcc37a8c"
                    ]
                },
                {
                    "command": [
                        "simpl; auto with zarith.",
                        "VernacExtend",
                        "61d3cdc6299cf8abf87703c074ca4503f0f27a12"
                    ]
                },
                {
                    "command": [
                        "destruct n.",
                        "VernacExtend",
                        "1582bf847770c098bee882393a48b146dcc37a8c"
                    ]
                },
                {
                    "command": [
                        "simpl; auto with zarith.",
                        "VernacExtend",
                        "61d3cdc6299cf8abf87703c074ca4503f0f27a12"
                    ]
                },
                {
                    "command": [
                        "change (0 <= fibonacci (S n) + fibonacci n).",
                        "VernacExtend",
                        "30f48e84b416721788e410d02207e2cc51bb50cd"
                    ]
                },
                {
                    "command": [
                        "generalize (IHN n) (IHN (S n)); omega.",
                        "VernacExtend",
                        "f041ee2ceafa59f94988ac2a0f4ff83e17a4c47a"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "fibonacci_incr",
            "line_nb": 39,
            "steps": [
                {
                    "command": [
                        "induction 1.",
                        "VernacExtend",
                        "dfe896305621800fcbb03b32d51d497edbdf1dc5"
                    ]
                },
                {
                    "command": [
                        "auto with zarith.",
                        "VernacExtend",
                        "23f42fd3236dcece4a40b3a666dce57fea69a9c0"
                    ]
                },
                {
                    "command": [
                        "apply Z.le_trans with (fibonacci m); auto.",
                        "VernacExtend",
                        "47e3f61e472418ba28e3a6ed14045d475650d394"
                    ]
                },
                {
                    "command": [
                        "clear.",
                        "VernacExtend",
                        "086ee0db0bdefcfa1ec15bb5cd44d451de64c569"
                    ]
                },
                {
                    "command": [
                        "destruct m.",
                        "VernacExtend",
                        "8d29a39ed817a734f6646f7b42c80e41363356d4"
                    ]
                },
                {
                    "command": [
                        "simpl; auto with zarith.",
                        "VernacExtend",
                        "61d3cdc6299cf8abf87703c074ca4503f0f27a12"
                    ]
                },
                {
                    "command": [
                        "change (fibonacci (S m) <= fibonacci (S m)+fibonacci m).",
                        "VernacExtend",
                        "b18edd714bbc642f6201d53132428de0e03cd101"
                    ]
                },
                {
                    "command": [
                        "generalize (fibonacci_pos m); omega.",
                        "VernacExtend",
                        "377876177c0804b98053200246f11768ae6a3f4d"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Zgcdn_worst_is_fibonacci",
            "line_nb": 49,
            "steps": [
                {
                    "command": [
                        "induction n.",
                        "VernacExtend",
                        "7f3faa2a3277e3553406d09101130efcb1764494"
                    ]
                },
                {
                    "command": [
                        "intros [|a|a]; intros; simpl; omega.",
                        "VernacExtend",
                        "cffcaf0cf6c480a18f901a3403e15cd80a9ebfb9"
                    ]
                },
                {
                    "command": [
                        "intros [|a|a] b (Ha,Ha'); [simpl; omega | | easy ].",
                        "VernacExtend",
                        "9f205769b71aa9d38b2dfa96965d9f546b101c48"
                    ]
                },
                {
                    "command": [
                        "remember (S n) as m.",
                        "VernacExtend",
                        "09af421db9d0bca6cd5c324b6c6ecc7b742f78d0"
                    ]
                },
                {
                    "command": [
                        "rewrite Heqm at 2.",
                        "VernacExtend",
                        "c49560e46a8b3ea343b759cc55a87dc7365c4f1a"
                    ]
                },
                {
                    "command": [
                        "simpl Zgcdn.",
                        "VernacExtend",
                        "acb2acc1fc2fd287684d961455541ca0c32d9f2f"
                    ]
                },
                {
                    "command": [
                        "unfold Z.modulo; generalize (Z_div_mod b (Zpos a) eq_refl).",
                        "VernacExtend",
                        "da2fd0b3bf9554c5c28c7f1547fef14679f368d8"
                    ]
                },
                {
                    "command": [
                        "destruct (Z.div_eucl b (Zpos a)) as (q,r).",
                        "VernacExtend",
                        "c9f134c8d902b18219724e25a56b3b0a440cb23a"
                    ]
                },
                {
                    "command": [
                        "intros (EQ,(Hr,Hr')).",
                        "VernacExtend",
                        "d77892290cc2deb58297432176562f32998fe9a8"
                    ]
                },
                {
                    "command": [
                        "Z.le_elim Hr.",
                        "VernacExtend",
                        "864f0d3d91b070349fcbe2e7c27d3a56b955dadf"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "replace (fibonacci (S (S m))) with (fibonacci (S m) + fibonacci m) by auto.",
                        "VernacExtend",
                        "6650089decc0074c887e2b3220211cbe9c838771"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "destruct (IHn r (Zpos a) (conj Hr Hr')); auto.",
                        "VernacExtend",
                        "3ef21742e3811ce6701b727ca6ccbc74fe1b2a62"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "assert (EQ' : r = Zpos a * (-q) + b) by (rewrite EQ; ring).",
                        "VernacExtend",
                        "f215fde06d64c00ad77e95fd9248c9a90c5223ac"
                    ]
                },
                {
                    "command": [
                        "rewrite EQ' at 1.",
                        "VernacExtend",
                        "6e52ff47aa9cdf2dabf4b340e179da4b7b26ffad"
                    ]
                },
                {
                    "command": [
                        "apply Zis_gcd_sym.",
                        "VernacExtend",
                        "eaf702080367f89d66265a555879edd9ab691099"
                    ]
                },
                {
                    "command": [
                        "apply Zis_gcd_for_euclid2; auto.",
                        "VernacExtend",
                        "9869493706fceba3b491d1a7a61b5a1c92a16b47"
                    ]
                },
                {
                    "command": [
                        "apply Zis_gcd_sym; auto.",
                        "VernacExtend",
                        "55f20e9736f4c0e8d0cedb499c2e8a6801108b31"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "split; auto.",
                        "VernacExtend",
                        "fcd44a714bd12fa54b1c7746996e44dbac16df06"
                    ]
                },
                {
                    "command": [
                        "rewrite EQ.",
                        "VernacExtend",
                        "359c5e196f83a6afbd9ede635bddbf545fd1eb82"
                    ]
                },
                {
                    "command": [
                        "apply Z.add_le_mono; auto.",
                        "VernacExtend",
                        "eefe8ca82c0db2fd7dcd0fb6054e9970d035dd69"
                    ]
                },
                {
                    "command": [
                        "apply Z.le_trans with (Zpos a * 1); auto.",
                        "VernacExtend",
                        "941bab972d696d3839278b3cc63ca48fcc4613b9"
                    ]
                },
                {
                    "command": [
                        "now rewrite Z.mul_1_r.",
                        "VernacExtend",
                        "c659738f2c6346b3f54646b64876f74bea1637d8"
                    ]
                },
                {
                    "command": [
                        "apply Z.mul_le_mono_nonneg_l; auto with zarith.",
                        "VernacExtend",
                        "1e65874b370d10e27df2f788c84bb3549d172f38"
                    ]
                },
                {
                    "command": [
                        "change 1 with (Z.succ 0).",
                        "VernacExtend",
                        "5e0cf0b78ccce7e4bcdc9b164e4573e03eeeabcc"
                    ]
                },
                {
                    "command": [
                        "apply Z.le_succ_l.",
                        "VernacExtend",
                        "831514d6ebda3fd5951c3d1b55dc52282df141d3"
                    ]
                },
                {
                    "command": [
                        "destruct q; auto with zarith.",
                        "VernacExtend",
                        "888a7855df22c54c83330260eb08e13d00dd67d6"
                    ]
                },
                {
                    "command": [
                        "assert (Zpos a * Zneg p < 0) by now compute.",
                        "VernacExtend",
                        "e1eaba35c77ca4ad1055f9a7be5b549610819f59"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "clear IHn EQ Hr'; intros _.",
                        "VernacExtend",
                        "d9a18ac5d152edec5b31a437a74542a116f585b8"
                    ]
                },
                {
                    "command": [
                        "subst r; simpl; rewrite Heqm.",
                        "VernacExtend",
                        "d17c8129667b75d1436825614530e50a212e76f3"
                    ]
                },
                {
                    "command": [
                        "destruct n.",
                        "VernacExtend",
                        "1582bf847770c098bee882393a48b146dcc37a8c"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "now destruct 1.",
                        "VernacExtend",
                        "599cf8488dce43cedbb3491ca78a34441bf2a1bd"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Zgcdn_ok_before_fibonacci",
            "line_nb": 92,
            "steps": [
                {
                    "command": [
                        "destruct a; [ destruct 1; exfalso; omega | | destruct 1; discriminate].",
                        "VernacExtend",
                        "6847a82f6326c134be6a4142e8e0a74ade869f62"
                    ]
                },
                {
                    "command": [
                        "cut (forall k n b, k = (S (Pos.to_nat p) - n)%nat -> 0 < Zpos p < b -> Zpos p < fibonacci (S n) -> Zis_gcd (Zpos p) b (Zgcdn n (Zpos p) b)).",
                        "VernacExtend",
                        "7771e6fd130a55ccdf82ced311068fe56b6a285b"
                    ]
                },
                {
                    "command": [
                        "destruct 2; eauto.",
                        "VernacExtend",
                        "6417899db0682fbc6e65b79e9bfdfe7d05f589e6"
                    ]
                },
                {
                    "command": [
                        "clear n; induction k.",
                        "VernacExtend",
                        "00c4883eeee9aef9384890ef1431ec7cb04a0b0f"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "assert (Pos.to_nat p < n)%nat by omega.",
                        "VernacExtend",
                        "8bc96bad9a34c9610ecade28d70e1ee2bae385f4"
                    ]
                },
                {
                    "command": [
                        "apply Zgcdn_linear_bound.",
                        "VernacExtend",
                        "02e807b1d68d3f4f93fdd9b60a71f8ca586d4af5"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "generalize (inj_le _ _ H2).",
                        "VernacExtend",
                        "fa0415b8aa488b74805f67388cc72df0e67fd86c"
                    ]
                },
                {
                    "command": [
                        "rewrite Nat2Z.inj_succ.",
                        "VernacExtend",
                        "1fc791f52357dc9e0a22fac0a6d82e87969a1699"
                    ]
                },
                {
                    "command": [
                        "rewrite positive_nat_Z; auto.",
                        "VernacExtend",
                        "c218b119254251ff9ccc39a3a1855d39e0dc5e10"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "generalize (Zgcdn_worst_is_fibonacci n (Zpos p) b H0); intros.",
                        "VernacExtend",
                        "501789a3c69af82b4da117275edfd800d3dd3caa"
                    ]
                },
                {
                    "command": [
                        "assert (Zis_gcd (Zpos p) b (Zgcdn (S n) (Zpos p) b)).",
                        "VernacExtend",
                        "4788825e6f8a6c180e1a5c395380f569a0f21b48"
                    ]
                },
                {
                    "command": [
                        "apply IHk; auto.",
                        "VernacExtend",
                        "458d58a400434cdb7e6d36e3df88228bda710800"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "replace (fibonacci (S (S n))) with (fibonacci (S n)+fibonacci n) by auto.",
                        "VernacExtend",
                        "b055694050530a250d31001eb127403508fcbdff"
                    ]
                },
                {
                    "command": [
                        "generalize (fibonacci_pos n); omega.",
                        "VernacExtend",
                        "2ac24e84f1e060a3ec4e88e57ee648d1f3b10d88"
                    ]
                },
                {
                    "command": [
                        "replace (Zgcdn n (Zpos p) b) with (Zgcdn (S n) (Zpos p) b); auto.",
                        "VernacExtend",
                        "a9c201ebf9a8a7d162bf05cb95934e6d625f3630"
                    ]
                },
                {
                    "command": [
                        "generalize (H2 H3); clear H2 H3; omega.",
                        "VernacExtend",
                        "e6ef526f73f195090f6f30611600dd62423dcfe4"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Zgcd_bound_fibonacci",
            "line_nb": 115,
            "steps": [
                {
                    "command": [
                        "destruct a; [omega| | intro H; discriminate].",
                        "VernacExtend",
                        "43cf6a327e7fb363255dce46d81791e06465ca87"
                    ]
                },
                {
                    "command": [
                        "intros _.",
                        "VernacExtend",
                        "eb0e518a4896777a9a76b3ab973eaf7b4f1b52db"
                    ]
                },
                {
                    "command": [
                        "induction p; [ | | compute; auto ]; simpl Zgcd_bound in *; rewrite plus_comm; simpl plus; set (n:= (Pos.size_nat p+Pos.size_nat p)%nat) in *; simpl; assert (n <> O) by (unfold n; destruct p; simpl; auto).",
                        "VernacExtend",
                        "cbbefde997b006601158d994c4291bbebbaffb3d"
                    ]
                },
                {
                    "command": [
                        "destruct n as [ |m]; [elim H; auto| ].",
                        "VernacExtend",
                        "7fcd693f29c41f40d80f8a5deabf12d5ed4cf25d"
                    ]
                },
                {
                    "command": [
                        "generalize (fibonacci_pos m); rewrite Pos2Z.inj_xI; omega.",
                        "VernacExtend",
                        "403c549d28f7ebc13332050d2ef700bf8cf7df2d"
                    ]
                },
                {
                    "command": [
                        "destruct n as [ |m]; [elim H; auto| ].",
                        "VernacExtend",
                        "7fcd693f29c41f40d80f8a5deabf12d5ed4cf25d"
                    ]
                },
                {
                    "command": [
                        "generalize (fibonacci_pos m); rewrite Pos2Z.inj_xO; omega.",
                        "VernacExtend",
                        "6c7c0263f3f50d1a55da6eac4cd8e81ee134076b"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Zgcd_bound_opp",
            "line_nb": 124,
            "steps": [
                {
                    "command": [
                        "now destruct a.",
                        "VernacExtend",
                        "24051356fff328c7208562817960b0c83ed3bf6c"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Zgcdn_opp",
            "line_nb": 127,
            "steps": [
                {
                    "command": [
                        "induction n; simpl; auto.",
                        "VernacExtend",
                        "e97dceb16245749e91243b27d3fd5ddc89e99bdd"
                    ]
                },
                {
                    "command": [
                        "destruct a; simpl; auto.",
                        "VernacExtend",
                        "d3281b1ac93d1263ea39f3556240463bbc6e4604"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Zgcdn_is_gcd_pos",
            "line_nb": 131,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "generalize (Zgcd_bound_fibonacci (Zpos a)).",
                        "VernacExtend",
                        "fc88f2aba800f4153d1039fb6196551d30cd4f1e"
                    ]
                },
                {
                    "command": [
                        "simpl Zgcd_bound in *.",
                        "VernacExtend",
                        "bd20617dbe772b5246e06ffb1cda0654a5a7c6b2"
                    ]
                },
                {
                    "command": [
                        "remember (Pos.size_nat a+Pos.size_nat a)%nat as m.",
                        "VernacExtend",
                        "556efcddb6bcfa72ed8d30a6162a95703e9d6dbf"
                    ]
                },
                {
                    "command": [
                        "assert (1 < m)%nat.",
                        "VernacExtend",
                        "baa60d632cc48698f23831529d235afca320ea4d"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "rewrite Heqm; destruct a; simpl; rewrite 1?plus_comm; auto with arith.",
                        "VernacExtend",
                        "6901e7252957eab6a316edc7f82afe5372321667"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "destruct m as [ |m]; [inversion H0; auto| ].",
                        "VernacExtend",
                        "58303d1ea787f62631576118c70c55dff758fb6e"
                    ]
                },
                {
                    "command": [
                        "destruct n as [ |n]; [inversion H; auto| ].",
                        "VernacExtend",
                        "f5daadf75d13912bb7f80f63056e4e6040220917"
                    ]
                },
                {
                    "command": [
                        "simpl Zgcdn.",
                        "VernacExtend",
                        "acb2acc1fc2fd287684d961455541ca0c32d9f2f"
                    ]
                },
                {
                    "command": [
                        "unfold Z.modulo.",
                        "VernacExtend",
                        "5b541c0157c6f315abfe19063bf48e48b751b78b"
                    ]
                },
                {
                    "command": [
                        "generalize (Z_div_mod b (Zpos a) (eq_refl Gt)).",
                        "VernacExtend",
                        "2c7e612e1f51f2728ded87c8a227d8d38570d593"
                    ]
                },
                {
                    "command": [
                        "destruct (Z.div_eucl b (Zpos a)) as (q,r).",
                        "VernacExtend",
                        "c9f134c8d902b18219724e25a56b3b0a440cb23a"
                    ]
                },
                {
                    "command": [
                        "intros (->,(H1,H2)) H3.",
                        "VernacExtend",
                        "4cdd482d8ff9931bee61546b360b455541027d3a"
                    ]
                },
                {
                    "command": [
                        "apply Zis_gcd_for_euclid2.",
                        "VernacExtend",
                        "afd4d9874b9eba1f72b924bed18bfaa6516803d5"
                    ]
                },
                {
                    "command": [
                        "Z.le_elim H1.",
                        "VernacExtend",
                        "0efedf01ebb311bf12c81a588aa4fe6716c61a1e"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply Zgcdn_ok_before_fibonacci; auto.",
                        "VernacExtend",
                        "1f2db27ca7df2b46fffc6cc7b6e63d08fa50618b"
                    ]
                },
                {
                    "command": [
                        "apply Z.lt_le_trans with (fibonacci (S m)); [ omega | apply fibonacci_incr; auto].",
                        "VernacExtend",
                        "3eadec08b93bcef134f17c97f7a1dfd38911e942"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "subst r; simpl.",
                        "VernacExtend",
                        "9cbc8cdb21d39ac475405d105cf2669b712a4ce8"
                    ]
                },
                {
                    "command": [
                        "destruct m as [ |m]; [exfalso; omega| ].",
                        "VernacExtend",
                        "e05ac378c7c40c720013fafa278fbf4a16cb425e"
                    ]
                },
                {
                    "command": [
                        "destruct n as [ |n]; [exfalso; omega| ].",
                        "VernacExtend",
                        "cb999d23e862dc74927a6742250e673510ec1b47"
                    ]
                },
                {
                    "command": [
                        "simpl; apply Zis_gcd_sym; apply Zis_gcd_0.",
                        "VernacExtend",
                        "9643e1baf1265b62f4200c6896f0e40b3379f13e"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Zgcdn_is_gcd",
            "line_nb": 158,
            "steps": [
                {
                    "command": [
                        "destruct a.",
                        "VernacExtend",
                        "3f53f61a7882a1bcc65ff705b5afc6c02a0dddf5"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "simpl; intros.",
                        "VernacExtend",
                        "429a59199da524088af55673600740ccc58db31e"
                    ]
                },
                {
                    "command": [
                        "destruct n; [exfalso; omega | ].",
                        "VernacExtend",
                        "fe0838f07f1ac8a3c4b9f8e3883dbedcf5ac6cb4"
                    ]
                },
                {
                    "command": [
                        "simpl; generalize (Zis_gcd_0_abs b); intuition.",
                        "VernacExtend",
                        "027e6c25ee916f3ec4a06835658628f95d336aaf"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply Zgcdn_is_gcd_pos.",
                        "VernacExtend",
                        "a209941b92434f2e30985b52a472356564848274"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "rewrite <- Zgcd_bound_opp, <- Zgcdn_opp.",
                        "VernacExtend",
                        "190da6d3397faeb1875801fe52056c4e62b2673f"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply Zis_gcd_minus, Zis_gcd_sym.",
                        "VernacExtend",
                        "e3b01083d7b7d6926bed7bec7679513bb495a453"
                    ]
                },
                {
                    "command": [
                        "simpl Z.opp.",
                        "VernacExtend",
                        "8761f902372afb84698653ac184204220d57ed40"
                    ]
                },
                {
                    "command": [
                        "now apply Zgcdn_is_gcd_pos.",
                        "VernacExtend",
                        "282c2fa971a1773eb223675eb7678f5bf9709375"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "Zgcd_is_gcd",
            "line_nb": 173,
            "steps": [
                {
                    "command": [
                        "unfold Zgcd_alt; intros; apply Zgcdn_is_gcd; auto.",
                        "VernacExtend",
                        "a3d483a031faf59781b2485f456311b3f8bfa7bf"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}