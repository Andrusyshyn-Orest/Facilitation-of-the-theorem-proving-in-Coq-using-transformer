{
    "filename": "qs_cmp_prob.v",
    "coq_project": "quicksort-complexity",
    "vernac_cmds": [
        [
            "Set Implicit Arguments.",
            "VernacSetOption",
            "9e84ff8896f028601d8aded48c1d4aebe60aa584"
        ],
        [
            "Unset Standard Proposition Elimination Names.",
            "VernacUnsetOption",
            "911574cdf91989455d0d3d11c7a9b0ca10fd1ae6"
        ],
        [
            "Require Import util.",
            "VernacRequire",
            "4430f87d7649f96d1418f130d57967666d56d84f"
        ],
        [
            "Require Import Le.",
            "VernacRequire",
            "838bfe0aac98b4a25730898d79830c3f8329aec1"
        ],
        [
            "Require Import Plus.",
            "VernacRequire",
            "a18284a3c28ae9356bfc5084ee8540c5d50631e5"
        ],
        [
            "Require Import Minus.",
            "VernacRequire",
            "20cc47d13d78bfdfc1c86ca6d3e417e595dfb052"
        ],
        [
            "Require Import Lt.",
            "VernacRequire",
            "fe47d80ebda42c5f075a36fb67288742f8593767"
        ],
        [
            "Require Import Arith.",
            "VernacRequire",
            "7f40051ec5b363eee0bbfd802b43ad2f8b97479f"
        ],
        [
            "Require Import Omega.",
            "VernacRequire",
            "72dd903de5f3320ef9d302d79812066579ed9cdb"
        ],
        [
            "Require Import Recdef.",
            "VernacRequire",
            "8ffa9cbe33b0c9742b324b18d68b10eb03ac2ead"
        ],
        [
            "Require Import Bool_nat.",
            "VernacRequire",
            "4702a197d9b7da96555eb8a1e023108da86589c0"
        ],
        [
            "Require Import arith_lems.",
            "VernacRequire",
            "c122d8f93731b561f73c879ca58fed05abd59dc7"
        ],
        [
            "Require Import nat_below.",
            "VernacRequire",
            "5fd79b191289e7e9092d80072ab4925e292a74b4"
        ],
        [
            "Require Import List.",
            "VernacRequire",
            "d9bcce4a390afeb160107bf87c6f7abe3d82c6d6"
        ],
        [
            "Require Import monads.",
            "VernacRequire",
            "5b2fd91685e0255ced6df1c87a652a12b8990a39"
        ],
        [
            "Require Import Bool.",
            "VernacRequire",
            "a27d9a6c92262b970381301472e9a1100c206680"
        ],
        [
            "Require Import Compare_dec.",
            "VernacRequire",
            "96b495dc82d6bd54e62353acae7d6e61222564e6"
        ],
        [
            "Require Import EqNat.",
            "VernacRequire",
            "6f4e2e752aa686b7ad3ad5aff446ff7d64b7cc4d"
        ],
        [
            "Require Import Relation_Definitions.",
            "VernacRequire",
            "ba1086f65c0b2f6754b8273aa4aa004209b8f8b6"
        ],
        [
            "Require Import monoid_monad_trans.",
            "VernacRequire",
            "4bb2bf1c803b5281d50c61057d2ecff387723de8"
        ],
        [
            "Require Import expec.",
            "VernacRequire",
            "6108876ad7046f754b0250b41afb624b59204af9"
        ],
        [
            "Require Import monoid_expec.",
            "VernacRequire",
            "f4722d2df5fe7701983e13613d638ef451b5a69b"
        ],
        [
            "Require Import nat_seqs.",
            "VernacRequire",
            "350f7c7394c4c6b69193e921e8497ea2449f9eb8"
        ],
        [
            "Require Import list_utils.",
            "VernacRequire",
            "f5ce54076a68b3ca9f48d4de158eadf0961b9e1f"
        ],
        [
            "Require Import sums_and_averages.",
            "VernacRequire",
            "446558af055a369398fd661d2b300c36d92b3eb6"
        ],
        [
            "Require qs_definitions.",
            "VernacRequire",
            "03f3d90e9fc98395b688694f99d898813b8320cc"
        ],
        [
            "Require qs_parts.",
            "VernacRequire",
            "037b805a8c35aba79ace02a1837e02560df891ce"
        ],
        [
            "Require U.",
            "VernacRequire",
            "ebae73eb9205a1161ba9693d2fcc7ffbed44ab82"
        ],
        [
            "Require Import indices.",
            "VernacRequire",
            "2f5de736d65b4735f04daf8c110f56fa844a0296"
        ],
        [
            "Require Import qs_sound_cmps.",
            "VernacRequire",
            "940096c12b5150614d88f02f43958c336d7a3a67"
        ],
        [
            "Require qs_case_split.",
            "VernacRequire",
            "85735651baa29049aad4b7d2eea8d85de0b92433"
        ],
        [
            "Require Import qs_cases.",
            "VernacRequire",
            "b1c221ec155c2325ca9a618bf3013cc9528e1270"
        ],
        [
            "Require Import Fourier.",
            "VernacRequire",
            "b1faf81affc36d90178938cafee4d59fdf2002f3"
        ],
        [
            "Require Import Rbase.",
            "VernacRequire",
            "c0a8d81b170d4ed8309a8632a3cac35f6cba016a"
        ],
        [
            "Require Import sort_order.",
            "VernacRequire",
            "85a39449b2d00eaee1e45659744d459c465d1213"
        ],
        [
            "Import qs_definitions.mon_nondet.",
            "VernacImport",
            "5c0eef652096b4e37e1770ee4f0d6268f2583b1b"
        ],
        [
            "Section contents.",
            "VernacBeginSection",
            "64247bb134c943946794e7969d57832818b1ace7"
        ],
        [
            "Variables (ee: E) (ol: list ee).",
            "VernacAssumption",
            "fb7c4709052b76d35c2a9ad77fd76e313082f2b5"
        ],
        [
            "Lemma arith_part n (b i j: nat): (b <= i)%nat -> (i < j)%nat -> (j < b + S n)%nat -> (2 * / INR (S (j - i)) * INR (i - b) + (1 + (0 + (1 + 2 * / INR (S (j - i)) * INR (b + n - j))))) / INR (S n) = 2 / INR (S (j - i)).",
            "VernacStartTheoremProof",
            "54e1d8546d13540b0c4bd0fdd0008d6c91b8f572"
        ],
        [
            "Proof with auto with real.",
            "VernacProof",
            "abb74eecc4d10277fa1de9225f21b7e3d6250741"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "repeat rewrite <- Rplus_assoc.",
            "VernacExtend",
            "df2938587772e8adfc9aa9b9c2794de67ac14c50"
        ],
        [
            "rewrite Rplus_0_r.",
            "VernacExtend",
            "d5c1fdd9d1c31f6ede268b5fbee697b051ea4fe2"
        ],
        [
            "rewrite plus_comm.",
            "VernacExtend",
            "f2921c049c57ff33e3248947a1d6b2bcd1257393"
        ],
        [
            "replace (2 * / INR (S (j - i)) * INR (i - b) + 1 + 1 + 2 * / INR (S (j - i)) * INR (n + b - j)) with (2 * / INR (S (j - i)) * (INR (i - b) + INR (n + b - j)) + 2).",
            "VernacExtend",
            "541ef806a9beaf236eb4e6f3f7f1d6446ce36d6d"
        ],
        [
            "rewrite <- plus_INR.",
            "VernacExtend",
            "92f7644a1c1f8edc4826a3312bad3e8ff112ea2c"
        ],
        [
            "replace ((i - b + (n + b - j))%nat) with ((S n - S (j - i))%nat) by omega.",
            "VernacExtend",
            "5d06fa9e053b0149c4977fd93171b97a72c600c5"
        ],
        [
            "rewrite minus_INR.",
            "VernacExtend",
            "ddd12a81f335f5d6f0801c4603d2cacfd18f2ab8"
        ],
        [
            "field.",
            "VernacExtend",
            "93f44750d651d466b74a0cc63f88acb56273d533"
        ],
        [
            "split...",
            "VernacExtend",
            "baadab085aba401319b7eae3380d34307a7b74d2"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "field...",
            "VernacExtend",
            "a1f0527010432378ee0968235efec90d34afa40a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma Index_In_dec (i: Index ee ol) l: { In i l } + { ~ In i l }.",
            "VernacStartTheoremProof",
            "506d4223c9aa70e36f5ab63c88b7054e4c5c7718"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply In_dec.",
            "VernacExtend",
            "1a510fc03b9415e5e9cd217e5f0a404b95a02264"
        ],
        [
            "unfold Index.",
            "VernacExtend",
            "01ec085a47cc23c11b6cdf77d7d35aca3f3947d5"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply natBelow_eq_dec.",
            "VernacExtend",
            "5d4ccba46eb56869aed1d93762bcac0397e06bf9"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem qs_comp_prob: forall i j: Index ee ol, lt i j -> forall l b, IndexSeq b l -> monoid_expec (U.ijcount i j) (U.qs (e:=ee) (ol:=ol) l) <= 2 / INR (S (j - i)).",
            "VernacStartTheoremProof",
            "aeb9d97dfaf306f4057ae6e1b249ac329ebfb4ee"
        ],
        [
            "Proof with auto with real.",
            "VernacProof",
            "abb74eecc4d10277fa1de9225f21b7e3d6250741"
        ],
        [
            "do 4 intro.",
            "VernacExtend",
            "f9fb059d7761e4197e62492b83edb74ab62c074d"
        ],
        [
            "cset (sound_cmp_expec_0 i j l).",
            "VernacExtend",
            "dbc92829d02cd832568b5043b97648a12c0b5d2c"
        ],
        [
            "unfold U.qs in *.",
            "VernacExtend",
            "ba571877e835d37ecc6e08a334643355e69d872a"
        ],
        [
            "revert H0.",
            "VernacExtend",
            "de3e4fca453928a41c450906d5d5626d573cfb55"
        ],
        [
            "pattern l, (qs (U.cmp (e:=ee) (ol:=ol)) U.pick l).",
            "VernacExtend",
            "f23d3ee068655852cb7be4da2221c15a2c06a1c7"
        ],
        [
            "apply U.qs_ind.",
            "VernacExtend",
            "c6324f303cd2bc226762551fc044cd7c33e4eed9"
        ],
        [
            "Focus 1.",
            "VernacFocus",
            "2e70fb9f135d16f7a4a2728604ca85344cf984cd"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply Rle_trans with 0.",
            "VernacExtend",
            "6fc7cbbd3bf64d4d7a487e9e8054a92c4237c86a"
        ],
        [
            "compute...",
            "VernacExtend",
            "3f7994627cf0348965d38977790a26cfa7767a14"
        ],
        [
            "apply zero_le_2_div_Sn.",
            "VernacExtend",
            "a248f9ae383bd19c90a02ed15b7f10b78fb2cf93"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "clear l.",
            "VernacExtend",
            "fea3fd0af2a95dd56fb8262ccfbea1340d887dc7"
        ],
        [
            "destruct (Index_In_dec i v).",
            "VernacExtend",
            "13a4d2b2e37a21e0ae8a17b384f6ca62cea09d7c"
        ],
        [
            "Focus 2.",
            "VernacFocus",
            "485d4f15aaf5c71ed130bd270976f9fc4e12a61f"
        ],
        [
            "rewrite H1...",
            "VernacExtend",
            "ea2378a230b97c3935b9ba0f0107ca3d47b65218"
        ],
        [
            "apply zero_le_2_div_Sn.",
            "VernacExtend",
            "a248f9ae383bd19c90a02ed15b7f10b78fb2cf93"
        ],
        [
            "destruct (Index_In_dec j v).",
            "VernacExtend",
            "72e289c55207589dfd1a00a7669a4e27dd4d4714"
        ],
        [
            "Focus 2.",
            "VernacFocus",
            "485d4f15aaf5c71ed130bd270976f9fc4e12a61f"
        ],
        [
            "rewrite H1...",
            "VernacExtend",
            "ea2378a230b97c3935b9ba0f0107ca3d47b65218"
        ],
        [
            "apply zero_le_2_div_Sn.",
            "VernacExtend",
            "a248f9ae383bd19c90a02ed15b7f10b78fb2cf93"
        ],
        [
            "clear H1.",
            "VernacExtend",
            "c05bbc655b5fdcbbabbab72bd73c28fb300d5502"
        ],
        [
            "rename H2 into H1.",
            "VernacExtend",
            "2d55806e735c486010ab4fb3585d58c07f91a3a9"
        ],
        [
            "rename i0 into H2.",
            "VernacExtend",
            "514a9fa62f81bc2fd573f515ff587f96d0afceb0"
        ],
        [
            "rename i1 into H3.",
            "VernacExtend",
            "3cf3555eb3bc500446361b8bd737ef81dda5131f"
        ],
        [
            "destruct (IndexSeq_inv H1 i H2).",
            "VernacExtend",
            "1cdcce04f8bc8b1d4d293c90db7790332350eab8"
        ],
        [
            "destruct (IndexSeq_inv H1 j H3).",
            "VernacExtend",
            "80397fa9096f0abd7da4121a7691cfa1471dd5c7"
        ],
        [
            "rewrite vec.length in *.",
            "VernacExtend",
            "ad225ba5078f7d58bd0a4c9d330bbe2b2ba8990e"
        ],
        [
            "cset (@monoid_expec_Node_map U.monoid (U.ijcount i j) (natBelow (S n))).",
            "VernacExtend",
            "c0f23e0c66c13d9a2e90478532df780df047a31c"
        ],
        [
            "simpl in H8.",
            "VernacExtend",
            "3ffa163638f0cd702536b03d79bee02d960b0fdb"
        ],
        [
            "rewrite H8.",
            "VernacExtend",
            "ef335154f8a1120928ddce71bc7a2456078d36bc"
        ],
        [
            "clear H8.",
            "VernacExtend",
            "bb55999d98db29a385bd8f1f3d68192c139f5f5c"
        ],
        [
            "unfold monoid_expec_sum.",
            "VernacExtend",
            "14674f2e6504f2c758098f76b2f73ad5947b9812"
        ],
        [
            "rewrite ne_list.from_vec_to_plain at 2.",
            "VernacExtend",
            "4c6b0afd47a19e3e6df50b98695372bb3bafe6f1"
        ],
        [
            "rewrite vec.length.",
            "VernacExtend",
            "89c749459e90298328720cd009eec7d26017266d"
        ],
        [
            "rewrite <- arith_part with n b i j...",
            "VernacExtend",
            "3d728a537638fe95acdf599068b3d1d773836edf"
        ],
        [
            "unfold Rdiv.",
            "VernacExtend",
            "d9820df68a5475147f48d29acf89824b27f71597"
        ],
        [
            "apply Rmult_le_compat_r...",
            "VernacExtend",
            "69469355e60d3938752942beea3213ae6eece6b4"
        ],
        [
            "cset (monoid_expec_map_fst_monoid_mult (U.hom_ijcount i j)).",
            "VernacExtend",
            "e2f2506098d608c62c2be6a1c1247edcefb3099c"
        ],
        [
            "simpl monoid_mult in H8.",
            "VernacExtend",
            "360737e8d05ae0bd886aebfa380d1f1d4565c8a2"
        ],
        [
            "unfold monoid_expec in H8.",
            "VernacExtend",
            "5508c958819d281d048af0f43aca14258aad3a57"
        ],
        [
            "apply (@qs_case_split.case_split ee ol b i j (list (Index ee ol)) (U.ijcount i j \u2218 fst) n v); intros; try rewrite H8...",
            "VernacExtend",
            "8786f28176e2295a600c51330f26ead27485c0e8"
        ],
        [
            "apply case_A with b...",
            "VernacExtend",
            "c5dbe89b7ef07ef2dcc7d60b74c22d2651fbc5f3"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply H0 with b0...",
            "VernacExtend",
            "458f2857cf2ab31979ef4ab71d12f00c5219d8bc"
        ],
        [
            "apply sound_cmp_expec_0...",
            "VernacExtend",
            "c2c19b9e7a4d222974396a5bb24ae97a3bffa0c2"
        ],
        [
            "apply case_BD with b...",
            "VernacExtend",
            "8ea15a7e251e25da20dbde18352c77f7835196cc"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply H0 with b0...",
            "VernacExtend",
            "458f2857cf2ab31979ef4ab71d12f00c5219d8bc"
        ],
        [
            "apply sound_cmp_expec_0...",
            "VernacExtend",
            "c2c19b9e7a4d222974396a5bb24ae97a3bffa0c2"
        ],
        [
            "left...",
            "VernacExtend",
            "bf4fd72477fff45e0940a41f06078165174dbd25"
        ],
        [
            "unfold Index in *.",
            "VernacExtend",
            "cdc681cf90f2e14b3872e48a1ba5b679b33250e8"
        ],
        [
            "apply natBelow_unique...",
            "VernacExtend",
            "e5334e38581b59cc8491eb74c51abae19bd6943f"
        ],
        [
            "apply case_C...",
            "VernacExtend",
            "fb1af3b6a4e4c966b2594e71e899a678775e4718"
        ],
        [
            "apply case_BD with b...",
            "VernacExtend",
            "8ea15a7e251e25da20dbde18352c77f7835196cc"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply H0 with b0...",
            "VernacExtend",
            "458f2857cf2ab31979ef4ab71d12f00c5219d8bc"
        ],
        [
            "apply sound_cmp_expec_0...",
            "VernacExtend",
            "c2c19b9e7a4d222974396a5bb24ae97a3bffa0c2"
        ],
        [
            "right...",
            "VernacExtend",
            "812b278b3530fdc8b155b846f3e666d427661a31"
        ],
        [
            "unfold Index in *.",
            "VernacExtend",
            "cdc681cf90f2e14b3872e48a1ba5b679b33250e8"
        ],
        [
            "apply natBelow_unique...",
            "VernacExtend",
            "e5334e38581b59cc8491eb74c51abae19bd6943f"
        ],
        [
            "apply case_E with b...",
            "VernacExtend",
            "04d81b6e9153fa77551529004543605a94a9908e"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply H0 with b0...",
            "VernacExtend",
            "458f2857cf2ab31979ef4ab71d12f00c5219d8bc"
        ],
        [
            "apply sound_cmp_expec_0.",
            "VernacExtend",
            "b8932279bed662d4efd6768c33b9e1c13dd26ade"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End contents.",
            "VernacEndSegment",
            "28f505b78f584feda38f14dd967d87712e3c7f31"
        ]
    ],
    "proofs": [
        {
            "name": "Index_In_dec",
            "line_nb": 53,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply In_dec.",
                        "VernacExtend",
                        "1a510fc03b9415e5e9cd217e5f0a404b95a02264"
                    ]
                },
                {
                    "command": [
                        "unfold Index.",
                        "VernacExtend",
                        "01ec085a47cc23c11b6cdf77d7d35aca3f3947d5"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply natBelow_eq_dec.",
                        "VernacExtend",
                        "5d4ccba46eb56869aed1d93762bcac0397e06bf9"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}