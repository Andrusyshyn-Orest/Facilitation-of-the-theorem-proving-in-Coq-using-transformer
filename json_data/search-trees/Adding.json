{
    "filename": "Adding.v",
    "coq_project": "search-trees",
    "vernac_cmds": [
        [
            "Require Import nat_trees.",
            "VernacRequire",
            "fe2f937ddbf108abdcc6f357b5369b15755e4082"
        ],
        [
            "Require Import search_trees.",
            "VernacRequire",
            "e7563d2e5279f43f080f369b49c85d0e2776b2f5"
        ],
        [
            "Require Import Compare_dec.",
            "VernacRequire",
            "96b495dc82d6bd54e62353acae7d6e61222564e6"
        ],
        [
            "Inductive INSERT (n : nat) (t t' : nat_tree) : Prop := insert_intro : (forall p : nat, occ t p -> occ t' p) -> occ t' n -> (forall p : nat, occ t' p -> occ t p \\/ n = p) -> search t' -> INSERT n t t'.",
            "VernacInductive",
            "71d6dd4cca827b910d24c1d66ccdea9034163796"
        ],
        [
            "Hint Resolve insert_intro: searchtrees.",
            "VernacHints",
            "838cfabd2635781ccb854fc5bb3f9e43de2bea65"
        ],
        [
            "Definition INSERT_SPEC (n : nat) (t : nat_tree) := {t' : nat_tree | INSERT n t t'}.",
            "VernacDefinition",
            "1ec22cee62a6df0a7f01fc1db78a40027c45aa9f"
        ],
        [
            "Lemma insert_nil : forall n : nat, INSERT n NIL (bin n NIL NIL).",
            "VernacStartTheoremProof",
            "2bc117e6e4d3bc354c9a2e39e1d5cc01601b6186"
        ],
        [
            "intro n; split; auto with searchtrees.",
            "VernacExtend",
            "4ced3b90b317021cf141df176cf06fffbdfd36d5"
        ],
        [
            "intros p H; inversion_clear H; auto with searchtrees.",
            "VernacExtend",
            "65d44bec1b6da1d1165ec7d0d0898f6b63a1e2b6"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Hint Resolve insert_nil: searchtrees.",
            "VernacHints",
            "e90a58efc59aaeb478f9b4660dff97e2142506a8"
        ],
        [
            "Lemma insert_l : forall (n p : nat) (t1 t'1 t2 : nat_tree), n < p -> search (bin p t1 t2) -> INSERT n t1 t'1 -> INSERT n (bin p t1 t2) (bin p t'1 t2).",
            "VernacStartTheoremProof",
            "a7e23d44680a72091f5d0649808c81514b365f17"
        ],
        [
            "intros n p t1 t'1 t2 H H0 H1; split.",
            "VernacExtend",
            "1efa42b770a0cee3a4427968e1dae32f64d318a2"
        ],
        [
            "intros p0 H2; inversion_clear H2.",
            "VernacExtend",
            "b98948855c37d6b7e52d37d6b4d70ed2e8568651"
        ],
        [
            "auto with searchtrees.",
            "VernacExtend",
            "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
        ],
        [
            "elim H1; auto with searchtrees.",
            "VernacExtend",
            "45b84c7811d2ad4aacba533ba1b65df6a9568f64"
        ],
        [
            "auto with searchtrees.",
            "VernacExtend",
            "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
        ],
        [
            "constructor 2; elim H1; auto with searchtrees.",
            "VernacExtend",
            "12af786379a53546bd82d007c58b7b0689af285e"
        ],
        [
            "intros p0 H2.",
            "VernacExtend",
            "26a3333c1c028bb610431487929b9f6f4f0e5214"
        ],
        [
            "inversion_clear H2.",
            "VernacExtend",
            "951d59869a2bafa3e041b055bd4a8bdff67bdad5"
        ],
        [
            "auto with searchtrees.",
            "VernacExtend",
            "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
        ],
        [
            "elim H1; intros.",
            "VernacExtend",
            "6b7bcf9d739b14ca3a09271e2c3493e16c5e2914"
        ],
        [
            "elim (H5 p0); auto with searchtrees.",
            "VernacExtend",
            "64f1d34baaaa18561afb35b332e30a96fed6a765"
        ],
        [
            "auto with searchtrees.",
            "VernacExtend",
            "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
        ],
        [
            "elim H1; constructor 2; auto with searchtrees.",
            "VernacExtend",
            "9cba3f46ad689306dd79aca508775682fb8f5ed5"
        ],
        [
            "eapply search_r; eauto with searchtrees.",
            "VernacExtend",
            "9737f82a526294433f312e286b3b5cf5a61cfcdd"
        ],
        [
            "split; intros.",
            "VernacExtend",
            "3c0a2af2969d0c39838e9010244dfd28201b7f3e"
        ],
        [
            "elim (H4 q).",
            "VernacExtend",
            "ee759dc8f8b67dc04046557f3e69f0e32783f776"
        ],
        [
            "intro; cut (maj p t1).",
            "VernacExtend",
            "9c24a40dc8f204104b8091ceab0ff8ec396b58a2"
        ],
        [
            "simple induction 1; auto with searchtrees.",
            "VernacExtend",
            "71ea44c177982dc058a83364722920ee8a604ba0"
        ],
        [
            "eapply maj_l; eauto with searchtrees.",
            "VernacExtend",
            "44ed1b1ec639d8227d8b4bba14387bd54f36826a"
        ],
        [
            "simple induction 1; auto with searchtrees.",
            "VernacExtend",
            "71ea44c177982dc058a83364722920ee8a604ba0"
        ],
        [
            "auto with searchtrees.",
            "VernacExtend",
            "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
        ],
        [
            "eapply min_r; eauto with searchtrees.",
            "VernacExtend",
            "e2eb8ab74fe385d2201029369f5f194474504142"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Lemma insert_r : forall (n p : nat) (t1 t2 t'2 : nat_tree), p < n -> search (bin p t1 t2) -> INSERT n t2 t'2 -> INSERT n (bin p t1 t2) (bin p t1 t'2).",
            "VernacStartTheoremProof",
            "186dd830abc9bd5f73cad62bd300509950a6e98b"
        ],
        [
            "intros n p t1 t2 t'2 H H0 H1; split.",
            "VernacExtend",
            "e4800fdc316d0083ee8565607faafe1c970c6743"
        ],
        [
            "intros p0 H2; inversion_clear H2; auto with searchtrees.",
            "VernacExtend",
            "b039c99a3bed264dc14b0ce261afbebe1c7a6dea"
        ],
        [
            "elim H1; auto with searchtrees.",
            "VernacExtend",
            "45b84c7811d2ad4aacba533ba1b65df6a9568f64"
        ],
        [
            "constructor 3; elim H1; auto with searchtrees.",
            "VernacExtend",
            "bfdd91dad7da4f45367cec2daef297e5e33b0329"
        ],
        [
            "intros p0 H2; inversion_clear H2; auto with searchtrees.",
            "VernacExtend",
            "b039c99a3bed264dc14b0ce261afbebe1c7a6dea"
        ],
        [
            "elim H1; intros.",
            "VernacExtend",
            "6b7bcf9d739b14ca3a09271e2c3493e16c5e2914"
        ],
        [
            "elim (H5 p0); auto with searchtrees.",
            "VernacExtend",
            "64f1d34baaaa18561afb35b332e30a96fed6a765"
        ],
        [
            "elim H1; constructor 2; auto with searchtrees.",
            "VernacExtend",
            "9cba3f46ad689306dd79aca508775682fb8f5ed5"
        ],
        [
            "eapply search_l; eauto with searchtrees.",
            "VernacExtend",
            "823f675fcee7f59c214c823a95268add99e83896"
        ],
        [
            "split; intros.",
            "VernacExtend",
            "3c0a2af2969d0c39838e9010244dfd28201b7f3e"
        ],
        [
            "elim (maj_l _ _ _ H0); auto with searchtrees.",
            "VernacExtend",
            "af92235ff49f9fd0acb6219e4987fe97d0e212f7"
        ],
        [
            "split; intros q H6.",
            "VernacExtend",
            "0dae03424af7e50d40858d167dea69aedfa1ec51"
        ],
        [
            "elim (H4 q H6).",
            "VernacExtend",
            "91c84b48c209014f2f135fec5e69a9577a60547c"
        ],
        [
            "intro.",
            "VernacExtend",
            "3999be354c758ba0d1866e0fcc78a7288779a224"
        ],
        [
            "elim (min_r _ _ _ H0); auto with searchtrees.",
            "VernacExtend",
            "8bcb302f018bb9eafbf27833763dce1ca1dddf22"
        ],
        [
            "simple induction 1; auto with searchtrees.",
            "VernacExtend",
            "71ea44c177982dc058a83364722920ee8a604ba0"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Lemma insert_eq : forall (n : nat) (t1 t2 : nat_tree), search (bin n t1 t2) -> INSERT n (bin n t1 t2) (bin n t1 t2).",
            "VernacStartTheoremProof",
            "44b35a52e034e23bedf74db146101c13d60fd56a"
        ],
        [
            "auto with searchtrees.",
            "VernacExtend",
            "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Hint Resolve insert_l insert_r insert_eq: searchtrees.",
            "VernacHints",
            "715485a136aeb9a313b77d0ea2d5d3a34e5cb302"
        ],
        [
            "Lemma insert : forall (n : nat) (t : nat_tree), search t -> INSERT_SPEC n t.",
            "VernacStartTheoremProof",
            "68b319f263a83a1a3e2c4652a354548212ce954e"
        ],
        [
            "refine (fix insert (n : nat) (t : nat_tree) {struct t} : search t -> INSERT_SPEC n t := match t return (search t -> INSERT_SPEC n t) with | NIL => fun s => exist _ (bin n NIL NIL) _ | bin p t1 t2 => fun s => match le_gt_dec n p with | left h => match le_lt_eq_dec n p h with | left _ => match insert n t1 _ with | exist t3 _ => exist _ (bin p t3 t2) _ end | right _ => exist _ (bin n t1 t2) _ end | right _ => match insert n t2 _ with | exist t3 _ => exist _ (bin p t1 t3) _ end end end).",
            "VernacExtend",
            "756cb65fbc9233d9d38d82250ba5541e12694f3e"
        ],
        [
            "auto with searchtrees.",
            "VernacExtend",
            "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
        ],
        [
            "eapply search_l; eauto with searchtrees.",
            "VernacExtend",
            "823f675fcee7f59c214c823a95268add99e83896"
        ],
        [
            "auto with searchtrees.",
            "VernacExtend",
            "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
        ],
        [
            "rewrite e; auto with searchtrees.",
            "VernacExtend",
            "8298018056809e19593952c84ea0a5e65b628926"
        ],
        [
            "eapply search_r; eauto with searchtrees.",
            "VernacExtend",
            "9737f82a526294433f312e286b3b5cf5a61cfcdd"
        ],
        [
            "auto with searchtrees.",
            "VernacExtend",
            "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Hint Resolve insert: searchtrees.",
            "VernacHints",
            "d32002815b014ec73492ac034bb36451750b42e0"
        ]
    ],
    "proofs": [
        {
            "name": "insert_nil",
            "line_nb": 6,
            "steps": [
                {
                    "command": [
                        "intro n; split; auto with searchtrees.",
                        "VernacExtend",
                        "4ced3b90b317021cf141df176cf06fffbdfd36d5"
                    ]
                },
                {
                    "command": [
                        "intros p H; inversion_clear H; auto with searchtrees.",
                        "VernacExtend",
                        "65d44bec1b6da1d1165ec7d0d0898f6b63a1e2b6"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "insert_l",
            "line_nb": 11,
            "steps": [
                {
                    "command": [
                        "intros n p t1 t'1 t2 H H0 H1; split.",
                        "VernacExtend",
                        "1efa42b770a0cee3a4427968e1dae32f64d318a2"
                    ]
                },
                {
                    "command": [
                        "intros p0 H2; inversion_clear H2.",
                        "VernacExtend",
                        "b98948855c37d6b7e52d37d6b4d70ed2e8568651"
                    ]
                },
                {
                    "command": [
                        "auto with searchtrees.",
                        "VernacExtend",
                        "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
                    ]
                },
                {
                    "command": [
                        "elim H1; auto with searchtrees.",
                        "VernacExtend",
                        "45b84c7811d2ad4aacba533ba1b65df6a9568f64"
                    ]
                },
                {
                    "command": [
                        "auto with searchtrees.",
                        "VernacExtend",
                        "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
                    ]
                },
                {
                    "command": [
                        "constructor 2; elim H1; auto with searchtrees.",
                        "VernacExtend",
                        "12af786379a53546bd82d007c58b7b0689af285e"
                    ]
                },
                {
                    "command": [
                        "intros p0 H2.",
                        "VernacExtend",
                        "26a3333c1c028bb610431487929b9f6f4f0e5214"
                    ]
                },
                {
                    "command": [
                        "inversion_clear H2.",
                        "VernacExtend",
                        "951d59869a2bafa3e041b055bd4a8bdff67bdad5"
                    ]
                },
                {
                    "command": [
                        "auto with searchtrees.",
                        "VernacExtend",
                        "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
                    ]
                },
                {
                    "command": [
                        "elim H1; intros.",
                        "VernacExtend",
                        "6b7bcf9d739b14ca3a09271e2c3493e16c5e2914"
                    ]
                },
                {
                    "command": [
                        "elim (H5 p0); auto with searchtrees.",
                        "VernacExtend",
                        "64f1d34baaaa18561afb35b332e30a96fed6a765"
                    ]
                },
                {
                    "command": [
                        "auto with searchtrees.",
                        "VernacExtend",
                        "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
                    ]
                },
                {
                    "command": [
                        "elim H1; constructor 2; auto with searchtrees.",
                        "VernacExtend",
                        "9cba3f46ad689306dd79aca508775682fb8f5ed5"
                    ]
                },
                {
                    "command": [
                        "eapply search_r; eauto with searchtrees.",
                        "VernacExtend",
                        "9737f82a526294433f312e286b3b5cf5a61cfcdd"
                    ]
                },
                {
                    "command": [
                        "split; intros.",
                        "VernacExtend",
                        "3c0a2af2969d0c39838e9010244dfd28201b7f3e"
                    ]
                },
                {
                    "command": [
                        "elim (H4 q).",
                        "VernacExtend",
                        "ee759dc8f8b67dc04046557f3e69f0e32783f776"
                    ]
                },
                {
                    "command": [
                        "intro; cut (maj p t1).",
                        "VernacExtend",
                        "9c24a40dc8f204104b8091ceab0ff8ec396b58a2"
                    ]
                },
                {
                    "command": [
                        "simple induction 1; auto with searchtrees.",
                        "VernacExtend",
                        "71ea44c177982dc058a83364722920ee8a604ba0"
                    ]
                },
                {
                    "command": [
                        "eapply maj_l; eauto with searchtrees.",
                        "VernacExtend",
                        "44ed1b1ec639d8227d8b4bba14387bd54f36826a"
                    ]
                },
                {
                    "command": [
                        "simple induction 1; auto with searchtrees.",
                        "VernacExtend",
                        "71ea44c177982dc058a83364722920ee8a604ba0"
                    ]
                },
                {
                    "command": [
                        "auto with searchtrees.",
                        "VernacExtend",
                        "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
                    ]
                },
                {
                    "command": [
                        "eapply min_r; eauto with searchtrees.",
                        "VernacExtend",
                        "e2eb8ab74fe385d2201029369f5f194474504142"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "insert_r",
            "line_nb": 35,
            "steps": [
                {
                    "command": [
                        "intros n p t1 t2 t'2 H H0 H1; split.",
                        "VernacExtend",
                        "e4800fdc316d0083ee8565607faafe1c970c6743"
                    ]
                },
                {
                    "command": [
                        "intros p0 H2; inversion_clear H2; auto with searchtrees.",
                        "VernacExtend",
                        "b039c99a3bed264dc14b0ce261afbebe1c7a6dea"
                    ]
                },
                {
                    "command": [
                        "elim H1; auto with searchtrees.",
                        "VernacExtend",
                        "45b84c7811d2ad4aacba533ba1b65df6a9568f64"
                    ]
                },
                {
                    "command": [
                        "constructor 3; elim H1; auto with searchtrees.",
                        "VernacExtend",
                        "bfdd91dad7da4f45367cec2daef297e5e33b0329"
                    ]
                },
                {
                    "command": [
                        "intros p0 H2; inversion_clear H2; auto with searchtrees.",
                        "VernacExtend",
                        "b039c99a3bed264dc14b0ce261afbebe1c7a6dea"
                    ]
                },
                {
                    "command": [
                        "elim H1; intros.",
                        "VernacExtend",
                        "6b7bcf9d739b14ca3a09271e2c3493e16c5e2914"
                    ]
                },
                {
                    "command": [
                        "elim (H5 p0); auto with searchtrees.",
                        "VernacExtend",
                        "64f1d34baaaa18561afb35b332e30a96fed6a765"
                    ]
                },
                {
                    "command": [
                        "elim H1; constructor 2; auto with searchtrees.",
                        "VernacExtend",
                        "9cba3f46ad689306dd79aca508775682fb8f5ed5"
                    ]
                },
                {
                    "command": [
                        "eapply search_l; eauto with searchtrees.",
                        "VernacExtend",
                        "823f675fcee7f59c214c823a95268add99e83896"
                    ]
                },
                {
                    "command": [
                        "split; intros.",
                        "VernacExtend",
                        "3c0a2af2969d0c39838e9010244dfd28201b7f3e"
                    ]
                },
                {
                    "command": [
                        "elim (maj_l _ _ _ H0); auto with searchtrees.",
                        "VernacExtend",
                        "af92235ff49f9fd0acb6219e4987fe97d0e212f7"
                    ]
                },
                {
                    "command": [
                        "split; intros q H6.",
                        "VernacExtend",
                        "0dae03424af7e50d40858d167dea69aedfa1ec51"
                    ]
                },
                {
                    "command": [
                        "elim (H4 q H6).",
                        "VernacExtend",
                        "91c84b48c209014f2f135fec5e69a9577a60547c"
                    ]
                },
                {
                    "command": [
                        "intro.",
                        "VernacExtend",
                        "3999be354c758ba0d1866e0fcc78a7288779a224"
                    ]
                },
                {
                    "command": [
                        "elim (min_r _ _ _ H0); auto with searchtrees.",
                        "VernacExtend",
                        "8bcb302f018bb9eafbf27833763dce1ca1dddf22"
                    ]
                },
                {
                    "command": [
                        "simple induction 1; auto with searchtrees.",
                        "VernacExtend",
                        "71ea44c177982dc058a83364722920ee8a604ba0"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "insert_eq",
            "line_nb": 53,
            "steps": [
                {
                    "command": [
                        "auto with searchtrees.",
                        "VernacExtend",
                        "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "insert",
            "line_nb": 57,
            "steps": [
                {
                    "command": [
                        "refine (fix insert (n : nat) (t : nat_tree) {struct t} : search t -> INSERT_SPEC n t := match t return (search t -> INSERT_SPEC n t) with | NIL => fun s => exist _ (bin n NIL NIL) _ | bin p t1 t2 => fun s => match le_gt_dec n p with | left h => match le_lt_eq_dec n p h with | left _ => match insert n t1 _ with | exist t3 _ => exist _ (bin p t3 t2) _ end | right _ => exist _ (bin n t1 t2) _ end | right _ => match insert n t2 _ with | exist t3 _ => exist _ (bin p t1 t3) _ end end end).",
                        "VernacExtend",
                        "756cb65fbc9233d9d38d82250ba5541e12694f3e"
                    ]
                },
                {
                    "command": [
                        "auto with searchtrees.",
                        "VernacExtend",
                        "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
                    ]
                },
                {
                    "command": [
                        "eapply search_l; eauto with searchtrees.",
                        "VernacExtend",
                        "823f675fcee7f59c214c823a95268add99e83896"
                    ]
                },
                {
                    "command": [
                        "auto with searchtrees.",
                        "VernacExtend",
                        "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
                    ]
                },
                {
                    "command": [
                        "rewrite e; auto with searchtrees.",
                        "VernacExtend",
                        "8298018056809e19593952c84ea0a5e65b628926"
                    ]
                },
                {
                    "command": [
                        "eapply search_r; eauto with searchtrees.",
                        "VernacExtend",
                        "9737f82a526294433f312e286b3b5cf5a61cfcdd"
                    ]
                },
                {
                    "command": [
                        "auto with searchtrees.",
                        "VernacExtend",
                        "0c5fffbc47c1bf78dd304e0ac997148233b2cfbe"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        }
    ]
}