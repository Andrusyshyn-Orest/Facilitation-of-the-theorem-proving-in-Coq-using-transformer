{
    "filename": "systems/Counter.v",
    "coq_project": "verdi",
    "vernac_cmds": [
        [
            "Require Import Verdi.Verdi.",
            "VernacRequire",
            "0e1dbcd85e6257dada3df6be709464bd18aff5ac"
        ],
        [
            "Require Import Verdi.HandlerMonad.",
            "VernacRequire",
            "f97ef88927f192aa7dc6015f1c20d613a11a1006"
        ],
        [
            "Local Arguments update {_} {_} _ _ _ _ _ : simpl never.",
            "VernacArguments",
            "58518d3b0cf998daca73acf32f30d0de10e4973c"
        ],
        [
            "Set Implicit Arguments.",
            "VernacSetOption",
            "9e84ff8896f028601d8aded48c1d4aebe60aa584"
        ],
        [
            "Inductive Name := primary | backup.",
            "VernacInductive",
            "292e2e9116625d9ace363545e507d5a6d1a9679e"
        ],
        [
            "Definition Name_eq_dec : forall x y : Name, {x = y} + {x <> y}.",
            "VernacDefinition",
            "4e9c93ff02378ac4b6db35f2fcf673935a27abaa"
        ],
        [
            "decide equality.",
            "VernacExtend",
            "10aba07d521545accbb51a4c2e0695a9ddce3199"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Inductive Msg := inc | ack.",
            "VernacInductive",
            "a1fad68c7a9ec8a3db312db62d13bf1312dc4cb4"
        ],
        [
            "Definition Msg_eq_dec : forall x y : Msg, {x = y} + {x <> y}.",
            "VernacDefinition",
            "1f8a0f1147187f9d8d94e1a20402a8a774a25fff"
        ],
        [
            "decide equality.",
            "VernacExtend",
            "10aba07d521545accbb51a4c2e0695a9ddce3199"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Inductive Input := request_inc.",
            "VernacInductive",
            "3250b77ff3a2b7c93eb2f52b269559b1740e2e6f"
        ],
        [
            "Definition Input_eq_dec : forall x y : Input, {x = y} + {x <> y}.",
            "VernacDefinition",
            "775f613666e6ff6c19eb5734b9a430ebb1b0c88c"
        ],
        [
            "destruct x,y.",
            "VernacExtend",
            "af0056d9c01fe1cf4101f3a6342913e24f7f57c3"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Inductive Output := inc_executed.",
            "VernacInductive",
            "892b9458a7e5ab22a3273adb2b5e38ca594a90d9"
        ],
        [
            "Definition Output_eq_dec : forall x y : Output, {x = y} + {x <> y}.",
            "VernacDefinition",
            "66856058fe0d70ebf60c444f40c793e2df75e8ea"
        ],
        [
            "destruct x,y.",
            "VernacExtend",
            "af0056d9c01fe1cf4101f3a6342913e24f7f57c3"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Definition Data := nat.",
            "VernacDefinition",
            "2547a720be5851d526eeced9f38d4c8e31f6cd47"
        ],
        [
            "Definition init_Data := 0.",
            "VernacDefinition",
            "e1940ddd78269a4aa4bc9d1ddb9ad0630371219e"
        ],
        [
            "Definition Handler (S : Type) := GenHandler (Name * Msg) S Output unit.",
            "VernacDefinition",
            "5acff1a7abff7afe9bf31fee66d572b49e418e88"
        ],
        [
            "Definition PrimaryNetHandler (m : Msg) : Handler Data := match m with | ack => write_output inc_executed | _ => nop end.",
            "VernacDefinition",
            "7218bc82d256d7c0bc597be795b2a8a99220fcc7"
        ],
        [
            "Definition PrimaryInputHandler (i : Input) : Handler Data := match i with | request_inc => modify S ;; send (backup, inc) end.",
            "VernacDefinition",
            "99dcb60ec47a1897a316e9752b6aa4b11f9425c0"
        ],
        [
            "Definition BackupNetHandler (m : Msg) : Handler Data := match m with | inc => modify S ;; send (primary, ack) | _ => nop end.",
            "VernacDefinition",
            "8903ea55cfd743cb239001bb0989b920faadaf84"
        ],
        [
            "Definition BackupInputHandler (i : Input) : Handler Data := nop.",
            "VernacDefinition",
            "9e830e3ecc701dbadda12edef68aadf86a70e69a"
        ],
        [
            "Definition NetHandler (me : Name) (m : Msg) : Handler Data := match me with | primary => PrimaryNetHandler m | backup => BackupNetHandler m end.",
            "VernacDefinition",
            "03ffe28dde5fd75799b2fde1b321e4c1ed55bd01"
        ],
        [
            "Definition InputHandler (me : Name) (i : Input) : Handler Data := match me with | primary => PrimaryInputHandler i | backup => BackupInputHandler i end.",
            "VernacDefinition",
            "40c0fcdfd96a8b6689c42da306477e7a304151df"
        ],
        [
            "Instance Counter_BaseParams : BaseParams := { data := Data; input := Input; output := Output }.",
            "VernacInstance",
            "c09ff7de4430882c2da842b1efdeeb2f157ad1fc"
        ],
        [
            "Definition Nodes : list Name := [primary; backup].",
            "VernacDefinition",
            "86c1b56e9f86b8eea601d98f1f2064b81ed6c008"
        ],
        [
            "Lemma all_Names_Nodes : forall n, In n Nodes.",
            "VernacStartTheoremProof",
            "32c0082bc86e99155153ec5c8b394f2f1d9d9ccd"
        ],
        [
            "destruct n; simpl; auto.",
            "VernacExtend",
            "1e3544c1db38cf9d3b82500db7d90f24bce9aeea"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma NoDup_Nodes : NoDup Nodes.",
            "VernacStartTheoremProof",
            "06f85b0ea225967d940d0377545bfd90f5564055"
        ],
        [
            "repeat constructor; simpl; intuition discriminate.",
            "VernacExtend",
            "534331954a176cc4cd4f77205235e354bf98ab7e"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Instance Counter_MultiParams : MultiParams Counter_BaseParams := { name := Name; name_eq_dec := Name_eq_dec; msg := Msg; msg_eq_dec := Msg_eq_dec; nodes := Nodes; all_names_nodes := all_Names_Nodes; no_dup_nodes := NoDup_Nodes; init_handlers := fun _ => init_Data; net_handlers := fun dst src msg s => runGenHandler_ignore s (NetHandler dst msg); input_handlers := fun nm i s => runGenHandler_ignore s (InputHandler nm i) }.",
            "VernacInstance",
            "66f06bcc6e3f3d2bdd88906ed8be8ce308d38d80"
        ],
        [
            "Lemma net_handlers_NetHandler : forall h src m d os d' ms, net_handlers h src m d = (os, d', ms) -> NetHandler h m d = (tt, os, d', ms).",
            "VernacStartTheoremProof",
            "46524b698dd95883a7c515efa860b292579639ab"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "monad_unfold.",
            "VernacExtend",
            "086e2d130d757170479c1841773b226b4c1659a9"
        ],
        [
            "repeat break_let.",
            "VernacExtend",
            "af4c4045b2a41d256b959f44ffccc9ee0df74742"
        ],
        [
            "find_inversion.",
            "VernacExtend",
            "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
        ],
        [
            "destruct u.",
            "VernacExtend",
            "dee8b63128905ddbe2f11c2896ff9a49d579fc5f"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma input_handlers_InputHandlers : forall h i d os d' ms, input_handlers h i d = (os, d', ms) -> InputHandler h i d = (tt, os, d', ms).",
            "VernacStartTheoremProof",
            "6c237284dcb7433a543fa6405ad794eb9da11bb9"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "monad_unfold.",
            "VernacExtend",
            "086e2d130d757170479c1841773b226b4c1659a9"
        ],
        [
            "repeat break_let.",
            "VernacExtend",
            "af4c4045b2a41d256b959f44ffccc9ee0df74742"
        ],
        [
            "find_inversion.",
            "VernacExtend",
            "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
        ],
        [
            "destruct u.",
            "VernacExtend",
            "dee8b63128905ddbe2f11c2896ff9a49d579fc5f"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma PrimaryNetHandler_no_msgs : forall m d ms d' o u, PrimaryNetHandler m d = (u, o, d', ms) -> ms = [].",
            "VernacStartTheoremProof",
            "63e01cffbf5b26e18a625dfa57d4546010a1aadb"
        ],
        [
            "unfold PrimaryNetHandler.",
            "VernacExtend",
            "cd2b589dcce002602d99d5b3c958cf124f170ecd"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "monad_unfold.",
            "VernacExtend",
            "086e2d130d757170479c1841773b226b4c1659a9"
        ],
        [
            "break_match; find_inversion; auto.",
            "VernacExtend",
            "59450a99146f7c50bc266f76e0c70345013b2ea2"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition inc_in_flight_to_backup (l : list packet) : nat := length (filterMap (fun p => if msg_eq_dec (pBody p) inc then if name_eq_dec (pDst p) backup then Some tt else None else None) l).",
            "VernacDefinition",
            "d0e2619fd8f3ade9ec676e6eafb65f2c5feb1ad9"
        ],
        [
            "Lemma inc_in_flight_to_backup_app : forall xs ys, inc_in_flight_to_backup (xs ++ ys) = inc_in_flight_to_backup xs + inc_in_flight_to_backup ys.",
            "VernacStartTheoremProof",
            "8b4178f532fd2cfd91960abe22974f4c55f145bd"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold inc_in_flight_to_backup.",
            "VernacExtend",
            "824cb3e819a1eeea5dc7bb054ccacd28af71de40"
        ],
        [
            "rewrite filterMap_app.",
            "VernacExtend",
            "1faa912e5f801b3ba68c28ee3de2498295db7fd9"
        ],
        [
            "rewrite app_length.",
            "VernacExtend",
            "b9244791fd1e7d821ced2461a10375e028945296"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma inc_in_flight_to_backup_cons_primary_dst : forall p, pDst p = primary -> inc_in_flight_to_backup [p] = 0.",
            "VernacStartTheoremProof",
            "21cb22b67e6fef2feaae85afb66b4959402a876d"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold inc_in_flight_to_backup.",
            "VernacExtend",
            "824cb3e819a1eeea5dc7bb054ccacd28af71de40"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "repeat break_match; try congruence; auto.",
            "VernacExtend",
            "66a76ab38a2872294c4754ade6b13d18078f6357"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma inc_in_flight_to_backup_nil : inc_in_flight_to_backup [] = 0.",
            "VernacStartTheoremProof",
            "e05a67055bbcb21e80382b60bf136f3af95ec57a"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma InputHandler_inc_in_flight_to_backup_preserved : forall h i d u o d' l, InputHandler h i d = (u, o, d', l) -> d' = d + inc_in_flight_to_backup (send_packets h l).",
            "VernacStartTheoremProof",
            "a716634b3e8a71f2519c74b38d23f8c884ad1039"
        ],
        [
            "unfold InputHandler, PrimaryInputHandler, BackupInputHandler.",
            "VernacExtend",
            "26aafc2e992f0d2f29eaa28090ae4f551a089567"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "monad_unfold.",
            "VernacExtend",
            "086e2d130d757170479c1841773b226b4c1659a9"
        ],
        [
            "repeat break_match; find_inversion; compute; auto.",
            "VernacExtend",
            "26af59d35f4f9c3ec8a62fd4aea9fc5270bb5ced"
        ],
        [
            "rewrite plus_comm.",
            "VernacExtend",
            "f2921c049c57ff33e3248947a1d6b2bcd1257393"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma NetHandler_inc_in_flight_to_backup_preserved : forall p d u o d' l, NetHandler (pDst p) (pBody p) d = (u, o, d', l) -> d' + inc_in_flight_to_backup (send_packets (pDst p) l) = d + inc_in_flight_to_backup [p].",
            "VernacStartTheoremProof",
            "8cdde37c674c6898e95dc5ca4137041513f38484"
        ],
        [
            "unfold NetHandler, PrimaryNetHandler, BackupNetHandler.",
            "VernacExtend",
            "29fe206d5b851ccc99c7e5417b9dd82228e71119"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "monad_unfold.",
            "VernacExtend",
            "086e2d130d757170479c1841773b226b4c1659a9"
        ],
        [
            "destruct p.",
            "VernacExtend",
            "b4e16e38d42fc59fab0ab4e95e065fc358d5a1ad"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat break_match; find_inversion; simpl; try rewrite inc_in_flight_to_backup_nil; unfold Data in *; compute; auto with *.",
            "VernacExtend",
            "ef9459ddeae16628fbaf37b04a400b8f90e43dc3"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma InputHandler_backup_no_msgs : forall i d u o d' l, InputHandler backup i d = (u, o, d', l) -> l = [].",
            "VernacStartTheoremProof",
            "7ab1f91370283a320ce1a532b6130583bc65ff1a"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "unfold BackupInputHandler.",
            "VernacExtend",
            "f062052bde080d85ccc243beeaca78d45d517426"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "monad_unfold.",
            "VernacExtend",
            "086e2d130d757170479c1841773b226b4c1659a9"
        ],
        [
            "find_inversion.",
            "VernacExtend",
            "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma cons_is_app : forall A (x : A) xs, x :: xs = [x] ++ xs.",
            "VernacStartTheoremProof",
            "5bdbb7c0a5bb6be4fe637a0dec764c52e72fbd05"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma backup_plus_network_eq_primary : forall net tr, step_async_star (params := Counter_MultiParams) step_async_init net tr -> nwState net backup + inc_in_flight_to_backup (nwPackets net) = nwState net primary.",
            "VernacStartTheoremProof",
            "7905f3913fc13b1dd5eab5887e03163077a56d8d"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "remember step_async_init as y in *.",
            "VernacExtend",
            "9e7217c7edc8efb970d104a114d6c5383fae233a"
        ],
        [
            "revert Heqy.",
            "VernacExtend",
            "84b1c231a4ae147df0b79569d8b6897a29e75bc2"
        ],
        [
            "induction H using refl_trans_1n_trace_n1_ind; intros; subst.",
            "VernacExtend",
            "b0ab46ae0627b2bd774cca67d2e38aba7a27e887"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "concludes.",
            "VernacExtend",
            "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
        ],
        [
            "match goal with | [ H : step_async _ _ _ |- _ ] => invc H end; simpl.",
            "VernacExtend",
            "c4ccef996acec1ae83b71fa4eb159e44ebd71cd9"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "find_apply_lem_hyp net_handlers_NetHandler.",
            "VernacExtend",
            "9f34558fe2769361bab448ca60c6b2538a1227dd"
        ],
        [
            "find_copy_apply_lem_hyp NetHandler_inc_in_flight_to_backup_preserved.",
            "VernacExtend",
            "a5a49f90438e1a9e3eee7bccfd6d181e92052fe4"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "rewrite cons_is_app in IHrefl_trans_1n_trace1.",
            "VernacExtend",
            "35cd179df467818728ada6985c8a917019f574dc"
        ],
        [
            "repeat rewrite inc_in_flight_to_backup_app in *.",
            "VernacExtend",
            "9028e1f7bb2487b3a53cbe7c1ca8485a630c2318"
        ],
        [
            "destruct (pDst p) eqn:?; try rewrite update_same; try rewrite update_diff by congruence; unfold send_packets in *; simpl in *.",
            "VernacExtend",
            "e3da865ff7b1d702d926d681d0b3d3047af47c9a"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "erewrite PrimaryNetHandler_no_msgs with (ms := l) in * by eauto.",
            "VernacExtend",
            "2f50c0dde248f681c92996cdedb1a010a45b4ef4"
        ],
        [
            "rewrite inc_in_flight_to_backup_cons_primary_dst in * by auto.",
            "VernacExtend",
            "0b46983cecf70a0492b781dfae34d9b45ed820a2"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "rewrite inc_in_flight_to_backup_nil in *.",
            "VernacExtend",
            "fce43d5004b81e1cef927102f915f6140f6b0bcc"
        ],
        [
            "auto with *.",
            "VernacExtend",
            "cafee3e5c160f4826f26575cc7be0078a2421ff0"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "find_apply_lem_hyp input_handlers_InputHandlers.",
            "VernacExtend",
            "16409cee8c3524598e175890d2185c95ee8b33b5"
        ],
        [
            "find_copy_apply_lem_hyp InputHandler_inc_in_flight_to_backup_preserved.",
            "VernacExtend",
            "8f262f4defc27aff8ea5e3fa7f567e8f30447997"
        ],
        [
            "unfold send_packets in *.",
            "VernacExtend",
            "60adfc1dade182c47367364b32bda2a4467aa77e"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "rewrite inc_in_flight_to_backup_app.",
            "VernacExtend",
            "dead2ef559efb00d0a8990a3ff106b546a5d83d1"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "destruct h eqn:?; try rewrite update_same; try rewrite update_diff by congruence.",
            "VernacExtend",
            "c126abe0fa35faf138adccca6afd24915c5c7d1a"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "erewrite InputHandler_backup_no_msgs with (l := l) by eauto.",
            "VernacExtend",
            "66975d7fdbf56e96e94d5d7058d7c29a57d055bd"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "rewrite inc_in_flight_to_backup_nil.",
            "VernacExtend",
            "751da38b1205fb01cca87ba3c32e1602c1636c7e"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem primary_ge_backup : forall net tr, step_async_star (params := Counter_MultiParams) step_async_init net tr -> nwState net backup <= nwState net primary.",
            "VernacStartTheoremProof",
            "7798c0bdb72d54004d80e9d0a19d7d33b9982ad4"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply backup_plus_network_eq_primary in H.",
            "VernacExtend",
            "c5f58e11c04b5f645e83dcc319bdbe2b54a7065e"
        ],
        [
            "auto with *.",
            "VernacExtend",
            "cafee3e5c160f4826f26575cc7be0078a2421ff0"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition trace_inputs (tr : list (name * (input + list output))) : nat := length (filterMap (fun e => match e with | (primary, inl i) => Some i | _ => None end) tr).",
            "VernacDefinition",
            "0ed06a7aab18f082b0057f76a8b1ceb250a9f135"
        ],
        [
            "Lemma trace_inputs_app : forall tr1 tr2, trace_inputs (tr1 ++ tr2) = trace_inputs tr1 + trace_inputs tr2.",
            "VernacStartTheoremProof",
            "cdcb8119868c3abd641b61ee43186989f5dbe996"
        ],
        [
            "unfold trace_inputs.",
            "VernacExtend",
            "71c9be2a1dc14b655ff72bb5014a9dea6112d253"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "rewrite filterMap_app.",
            "VernacExtend",
            "1faa912e5f801b3ba68c28ee3de2498295db7fd9"
        ],
        [
            "rewrite app_length.",
            "VernacExtend",
            "b9244791fd1e7d821ced2461a10375e028945296"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition trace_outputs (tr : list (name * (input + list output))) : nat := length (filterMap (fun e => match e with | (primary, inr [o]) => Some o | _ => None end) tr).",
            "VernacDefinition",
            "0f9a30fa0ade63017a6bc96b2cea7704ff63f50c"
        ],
        [
            "Lemma trace_outputs_app : forall tr1 tr2, trace_outputs (tr1 ++ tr2) = trace_outputs tr1 + trace_outputs tr2.",
            "VernacStartTheoremProof",
            "4fd7c65308d115136c40adfeb0fe21d95a241acf"
        ],
        [
            "unfold trace_outputs.",
            "VernacExtend",
            "d1dd41d3661dbf7caabb0c5f451e204463de176c"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "rewrite filterMap_app.",
            "VernacExtend",
            "1faa912e5f801b3ba68c28ee3de2498295db7fd9"
        ],
        [
            "rewrite app_length.",
            "VernacExtend",
            "b9244791fd1e7d821ced2461a10375e028945296"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition ack_in_flight_to_primary (l : list packet) : nat := length (filterMap (fun p => if msg_eq_dec (pBody p) ack then if name_eq_dec (pDst p) primary then Some tt else None else None) l).",
            "VernacDefinition",
            "df47ce78c610bc924f6d111b87f88d34e45b7ea4"
        ],
        [
            "Lemma ack_in_flight_to_primary_app : forall xs ys, ack_in_flight_to_primary (xs ++ ys) = ack_in_flight_to_primary xs + ack_in_flight_to_primary ys.",
            "VernacStartTheoremProof",
            "922887cfa809e68b28c14f74b79a736a261025c5"
        ],
        [
            "unfold ack_in_flight_to_primary.",
            "VernacExtend",
            "1b6d941a9357ba6f515bab961f6c3ec9d6a10a9b"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "rewrite filterMap_app.",
            "VernacExtend",
            "1faa912e5f801b3ba68c28ee3de2498295db7fd9"
        ],
        [
            "rewrite app_length.",
            "VernacExtend",
            "b9244791fd1e7d821ced2461a10375e028945296"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma ack_in_flight_to_primary_backup : forall p, pDst p = backup -> ack_in_flight_to_primary [p] = 0.",
            "VernacStartTheoremProof",
            "460dfdde6493d8fbd9a702cd3c41f61b5c5a2eb1"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold ack_in_flight_to_primary.",
            "VernacExtend",
            "1b6d941a9357ba6f515bab961f6c3ec9d6a10a9b"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "repeat break_match; try congruence; auto.",
            "VernacExtend",
            "66a76ab38a2872294c4754ade6b13d18078f6357"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma InputHandler_trace_preserved : forall h i d u o d' l, InputHandler h i d = (u, o, d', l) -> trace_inputs [(h, inl i)] = trace_outputs [(h, inr o)] + inc_in_flight_to_backup (send_packets h l) + ack_in_flight_to_primary (send_packets h l).",
            "VernacStartTheoremProof",
            "75a41c4d3b8d75bbfee433e46ce70842bd5e2ebd"
        ],
        [
            "unfold InputHandler, PrimaryInputHandler, BackupInputHandler.",
            "VernacExtend",
            "26aafc2e992f0d2f29eaa28090ae4f551a089567"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "monad_unfold.",
            "VernacExtend",
            "086e2d130d757170479c1841773b226b4c1659a9"
        ],
        [
            "repeat break_match; find_inversion; compute; auto.",
            "VernacExtend",
            "26af59d35f4f9c3ec8a62fd4aea9fc5270bb5ced"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma NetHandler_trace_preserved : forall p d u o d' l, NetHandler (pDst p) (pBody p) d = (u, o, d', l) -> inc_in_flight_to_backup [p] + ack_in_flight_to_primary [p] = trace_outputs [((pDst p), inr o)] + inc_in_flight_to_backup (send_packets (pDst p) l) + ack_in_flight_to_primary (send_packets (pDst p) l).",
            "VernacStartTheoremProof",
            "d33ec7a6e09d68e178fc0765ea1684fc2b2059ff"
        ],
        [
            "unfold NetHandler, PrimaryNetHandler, BackupNetHandler.",
            "VernacExtend",
            "29fe206d5b851ccc99c7e5417b9dd82228e71119"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "monad_unfold.",
            "VernacExtend",
            "086e2d130d757170479c1841773b226b4c1659a9"
        ],
        [
            "destruct p.",
            "VernacExtend",
            "b4e16e38d42fc59fab0ab4e95e065fc358d5a1ad"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "repeat break_match; find_inversion; simpl; try rewrite inc_in_flight_to_backup_nil; unfold Data in *; compute; auto with *.",
            "VernacExtend",
            "ef9459ddeae16628fbaf37b04a400b8f90e43dc3"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma trace_inputs_output : forall h os, trace_inputs [(h, inr os)] = 0.",
            "VernacStartTheoremProof",
            "3b709fe2d446507f88ce88e0dc56562555f3abc4"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold trace_inputs.",
            "VernacExtend",
            "71c9be2a1dc14b655ff72bb5014a9dea6112d253"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "repeat break_match; simpl; congruence.",
            "VernacExtend",
            "5029128169c9398799fbb7f4a432759bf1aa51af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma trace_outputs_input : forall h i, trace_outputs [(h, inl i)] = 0.",
            "VernacStartTheoremProof",
            "b3959e31b9f98d94a48a80ff91fcfa800408b07e"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold trace_outputs.",
            "VernacExtend",
            "d1dd41d3661dbf7caabb0c5f451e204463de176c"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "repeat break_match; simpl; congruence.",
            "VernacExtend",
            "5029128169c9398799fbb7f4a432759bf1aa51af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma trace_outputs_backup : forall e, trace_outputs [(backup, e)] = 0.",
            "VernacStartTheoremProof",
            "f3305b7804d34a8e12c21feb5d0d44ab345d9426"
        ],
        [
            "auto.",
            "VernacExtend",
            "1f09da0addd069b3b65326f8c71967acc1e985af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma inputs_eq_outputs_plus_inc_plus_ack : forall net tr, step_async_star (params := Counter_MultiParams) step_async_init net tr -> trace_inputs tr = trace_outputs tr + inc_in_flight_to_backup (nwPackets net) + ack_in_flight_to_primary (nwPackets net).",
            "VernacStartTheoremProof",
            "c9cb8166fb9e7e61fd1d4b5775aca87b1c9b04b5"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "remember step_async_init as y in *.",
            "VernacExtend",
            "9e7217c7edc8efb970d104a114d6c5383fae233a"
        ],
        [
            "revert Heqy.",
            "VernacExtend",
            "84b1c231a4ae147df0b79569d8b6897a29e75bc2"
        ],
        [
            "induction H using refl_trans_1n_trace_n1_ind; intros; subst.",
            "VernacExtend",
            "b0ab46ae0627b2bd774cca67d2e38aba7a27e887"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "concludes.",
            "VernacExtend",
            "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
        ],
        [
            "match goal with | [ H : step_async _ _ _ |- _ ] => invc H end; simpl.",
            "VernacExtend",
            "c4ccef996acec1ae83b71fa4eb159e44ebd71cd9"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "find_apply_lem_hyp net_handlers_NetHandler.",
            "VernacExtend",
            "9f34558fe2769361bab448ca60c6b2538a1227dd"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "rewrite trace_inputs_app.",
            "VernacExtend",
            "10835c8f1a57f76ee5cff42e8ef0a733635a8910"
        ],
        [
            "rewrite trace_outputs_app.",
            "VernacExtend",
            "27844150cca8ba63f69c774fe165ec8845bd2044"
        ],
        [
            "rewrite cons_is_app with (x := p) in *.",
            "VernacExtend",
            "68606dc8893e2aae24fd19f09ced161c1dc0ae0b"
        ],
        [
            "repeat rewrite inc_in_flight_to_backup_app in *.",
            "VernacExtend",
            "9028e1f7bb2487b3a53cbe7c1ca8485a630c2318"
        ],
        [
            "repeat rewrite ack_in_flight_to_primary_app in *.",
            "VernacExtend",
            "340a75a0301b90d3f53cb29d3a29513797f6449b"
        ],
        [
            "find_apply_lem_hyp NetHandler_trace_preserved.",
            "VernacExtend",
            "fb7a5ffe3dd34cb0833faac5bce9b1fab0d48974"
        ],
        [
            "destruct (pDst p) eqn:?.",
            "VernacExtend",
            "3d64675962009026b8340d91c67ee38d9e44cc93"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "erewrite inc_in_flight_to_backup_cons_primary_dst in * by eauto.",
            "VernacExtend",
            "f48114b795c57db39abf61eba6851bb9ba8f4c44"
        ],
        [
            "rewrite trace_inputs_output in *.",
            "VernacExtend",
            "446a4128dd581b9958569df4f80780899b5bd059"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "rewrite ack_in_flight_to_primary_backup in * by auto.",
            "VernacExtend",
            "0e255e252f28e84e40865b5d0908e7fb380323d7"
        ],
        [
            "rewrite trace_outputs_backup in *.",
            "VernacExtend",
            "93673fa15e8c481622103f8625caa3ce847194bf"
        ],
        [
            "unfold send_packets in *.",
            "VernacExtend",
            "60adfc1dade182c47367364b32bda2a4467aa77e"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "rewrite <- plus_n_O in *.",
            "VernacExtend",
            "09ded659524b1439a7eb313a90184d70f345adef"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "find_apply_lem_hyp input_handlers_InputHandlers.",
            "VernacExtend",
            "16409cee8c3524598e175890d2185c95ee8b33b5"
        ],
        [
            "find_apply_lem_hyp InputHandler_trace_preserved.",
            "VernacExtend",
            "36e2020d234ec6f0855b50c657be67dc0afdebc3"
        ],
        [
            "rewrite cons_is_app.",
            "VernacExtend",
            "5c35333540582e91258200f6b7e3e3184c2dd690"
        ],
        [
            "repeat rewrite trace_inputs_app.",
            "VernacExtend",
            "ebf11201b6e89f3d098922eb67a6b29345f9c531"
        ],
        [
            "repeat rewrite trace_outputs_app.",
            "VernacExtend",
            "d18f50b76906d8f59c58e009c0c6ad5971c16cdf"
        ],
        [
            "repeat rewrite inc_in_flight_to_backup_app in *.",
            "VernacExtend",
            "9028e1f7bb2487b3a53cbe7c1ca8485a630c2318"
        ],
        [
            "repeat rewrite ack_in_flight_to_primary_app in *.",
            "VernacExtend",
            "340a75a0301b90d3f53cb29d3a29513797f6449b"
        ],
        [
            "rewrite trace_outputs_input.",
            "VernacExtend",
            "548c64aa8bad0f9f2573a638155ae59a55b3a090"
        ],
        [
            "rewrite trace_inputs_output.",
            "VernacExtend",
            "2021e10219b44c2be0c7fd3ed7fd675f9e881e60"
        ],
        [
            "unfold send_packets in *.",
            "VernacExtend",
            "60adfc1dade182c47367364b32bda2a4467aa77e"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem inputs_ge_outputs : forall net tr, step_async_star (params := Counter_MultiParams) step_async_init net tr -> trace_outputs tr <= trace_inputs tr.",
            "VernacStartTheoremProof",
            "997b2acfecab7a8488e81ceff4305184db2656e6"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "apply inputs_eq_outputs_plus_inc_plus_ack in H.",
            "VernacExtend",
            "e7643e1c3d5b5d3b4bc392546be9e539e69e3bf7"
        ],
        [
            "omega.",
            "VernacExtend",
            "32c6c865d255452c7e10c77111456d1981cede39"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ]
    ],
    "proofs": [
        {
            "name": "Name_eq_dec",
            "line_nb": 5,
            "steps": [
                {
                    "command": [
                        "decide equality.",
                        "VernacExtend",
                        "10aba07d521545accbb51a4c2e0695a9ddce3199"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "Msg_eq_dec",
            "line_nb": 9,
            "steps": [
                {
                    "command": [
                        "decide equality.",
                        "VernacExtend",
                        "10aba07d521545accbb51a4c2e0695a9ddce3199"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "Input_eq_dec",
            "line_nb": 13,
            "steps": [
                {
                    "command": [
                        "destruct x,y.",
                        "VernacExtend",
                        "af0056d9c01fe1cf4101f3a6342913e24f7f57c3"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "Output_eq_dec",
            "line_nb": 18,
            "steps": [
                {
                    "command": [
                        "destruct x,y.",
                        "VernacExtend",
                        "af0056d9c01fe1cf4101f3a6342913e24f7f57c3"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        },
        {
            "name": "all_Names_Nodes",
            "line_nb": 33,
            "steps": [
                {
                    "command": [
                        "destruct n; simpl; auto.",
                        "VernacExtend",
                        "1e3544c1db38cf9d3b82500db7d90f24bce9aeea"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "NoDup_Nodes",
            "line_nb": 36,
            "steps": [
                {
                    "command": [
                        "repeat constructor; simpl; intuition discriminate.",
                        "VernacExtend",
                        "534331954a176cc4cd4f77205235e354bf98ab7e"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "net_handlers_NetHandler",
            "line_nb": 40,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "monad_unfold.",
                        "VernacExtend",
                        "086e2d130d757170479c1841773b226b4c1659a9"
                    ]
                },
                {
                    "command": [
                        "repeat break_let.",
                        "VernacExtend",
                        "af4c4045b2a41d256b959f44ffccc9ee0df74742"
                    ]
                },
                {
                    "command": [
                        "find_inversion.",
                        "VernacExtend",
                        "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
                    ]
                },
                {
                    "command": [
                        "destruct u.",
                        "VernacExtend",
                        "dee8b63128905ddbe2f11c2896ff9a49d579fc5f"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "input_handlers_InputHandlers",
            "line_nb": 49,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "monad_unfold.",
                        "VernacExtend",
                        "086e2d130d757170479c1841773b226b4c1659a9"
                    ]
                },
                {
                    "command": [
                        "repeat break_let.",
                        "VernacExtend",
                        "af4c4045b2a41d256b959f44ffccc9ee0df74742"
                    ]
                },
                {
                    "command": [
                        "find_inversion.",
                        "VernacExtend",
                        "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
                    ]
                },
                {
                    "command": [
                        "destruct u.",
                        "VernacExtend",
                        "dee8b63128905ddbe2f11c2896ff9a49d579fc5f"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "PrimaryNetHandler_no_msgs",
            "line_nb": 58,
            "steps": [
                {
                    "command": [
                        "unfold PrimaryNetHandler.",
                        "VernacExtend",
                        "cd2b589dcce002602d99d5b3c958cf124f170ecd"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "monad_unfold.",
                        "VernacExtend",
                        "086e2d130d757170479c1841773b226b4c1659a9"
                    ]
                },
                {
                    "command": [
                        "break_match; find_inversion; auto.",
                        "VernacExtend",
                        "59450a99146f7c50bc266f76e0c70345013b2ea2"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "inc_in_flight_to_backup_app",
            "line_nb": 65,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold inc_in_flight_to_backup.",
                        "VernacExtend",
                        "824cb3e819a1eeea5dc7bb054ccacd28af71de40"
                    ]
                },
                {
                    "command": [
                        "rewrite filterMap_app.",
                        "VernacExtend",
                        "1faa912e5f801b3ba68c28ee3de2498295db7fd9"
                    ]
                },
                {
                    "command": [
                        "rewrite app_length.",
                        "VernacExtend",
                        "b9244791fd1e7d821ced2461a10375e028945296"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "inc_in_flight_to_backup_cons_primary_dst",
            "line_nb": 72,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold inc_in_flight_to_backup.",
                        "VernacExtend",
                        "824cb3e819a1eeea5dc7bb054ccacd28af71de40"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; try congruence; auto.",
                        "VernacExtend",
                        "66a76ab38a2872294c4754ade6b13d18078f6357"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "inc_in_flight_to_backup_nil",
            "line_nb": 78,
            "steps": [
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "InputHandler_inc_in_flight_to_backup_preserved",
            "line_nb": 81,
            "steps": [
                {
                    "command": [
                        "unfold InputHandler, PrimaryInputHandler, BackupInputHandler.",
                        "VernacExtend",
                        "26aafc2e992f0d2f29eaa28090ae4f551a089567"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "monad_unfold.",
                        "VernacExtend",
                        "086e2d130d757170479c1841773b226b4c1659a9"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; find_inversion; compute; auto.",
                        "VernacExtend",
                        "26af59d35f4f9c3ec8a62fd4aea9fc5270bb5ced"
                    ]
                },
                {
                    "command": [
                        "rewrite plus_comm.",
                        "VernacExtend",
                        "f2921c049c57ff33e3248947a1d6b2bcd1257393"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "NetHandler_inc_in_flight_to_backup_preserved",
            "line_nb": 90,
            "steps": [
                {
                    "command": [
                        "unfold NetHandler, PrimaryNetHandler, BackupNetHandler.",
                        "VernacExtend",
                        "29fe206d5b851ccc99c7e5417b9dd82228e71119"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "monad_unfold.",
                        "VernacExtend",
                        "086e2d130d757170479c1841773b226b4c1659a9"
                    ]
                },
                {
                    "command": [
                        "destruct p.",
                        "VernacExtend",
                        "b4e16e38d42fc59fab0ab4e95e065fc358d5a1ad"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; find_inversion; simpl; try rewrite inc_in_flight_to_backup_nil; unfold Data in *; compute; auto with *.",
                        "VernacExtend",
                        "ef9459ddeae16628fbaf37b04a400b8f90e43dc3"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "InputHandler_backup_no_msgs",
            "line_nb": 98,
            "steps": [
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "unfold BackupInputHandler.",
                        "VernacExtend",
                        "f062052bde080d85ccc243beeaca78d45d517426"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "monad_unfold.",
                        "VernacExtend",
                        "086e2d130d757170479c1841773b226b4c1659a9"
                    ]
                },
                {
                    "command": [
                        "find_inversion.",
                        "VernacExtend",
                        "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "cons_is_app",
            "line_nb": 106,
            "steps": [
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "backup_plus_network_eq_primary",
            "line_nb": 109,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "remember step_async_init as y in *.",
                        "VernacExtend",
                        "9e7217c7edc8efb970d104a114d6c5383fae233a"
                    ]
                },
                {
                    "command": [
                        "revert Heqy.",
                        "VernacExtend",
                        "84b1c231a4ae147df0b79569d8b6897a29e75bc2"
                    ]
                },
                {
                    "command": [
                        "induction H using refl_trans_1n_trace_n1_ind; intros; subst.",
                        "VernacExtend",
                        "b0ab46ae0627b2bd774cca67d2e38aba7a27e887"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "concludes.",
                        "VernacExtend",
                        "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
                    ]
                },
                {
                    "command": [
                        "match goal with | [ H : step_async _ _ _ |- _ ] => invc H end; simpl.",
                        "VernacExtend",
                        "c4ccef996acec1ae83b71fa4eb159e44ebd71cd9"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "find_apply_lem_hyp net_handlers_NetHandler.",
                        "VernacExtend",
                        "9f34558fe2769361bab448ca60c6b2538a1227dd"
                    ]
                },
                {
                    "command": [
                        "find_copy_apply_lem_hyp NetHandler_inc_in_flight_to_backup_preserved.",
                        "VernacExtend",
                        "a5a49f90438e1a9e3eee7bccfd6d181e92052fe4"
                    ]
                },
                {
                    "command": [
                        "repeat find_rewrite.",
                        "VernacExtend",
                        "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
                    ]
                },
                {
                    "command": [
                        "rewrite cons_is_app in IHrefl_trans_1n_trace1.",
                        "VernacExtend",
                        "35cd179df467818728ada6985c8a917019f574dc"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite inc_in_flight_to_backup_app in *.",
                        "VernacExtend",
                        "9028e1f7bb2487b3a53cbe7c1ca8485a630c2318"
                    ]
                },
                {
                    "command": [
                        "destruct (pDst p) eqn:?; try rewrite update_same; try rewrite update_diff by congruence; unfold send_packets in *; simpl in *.",
                        "VernacExtend",
                        "e3da865ff7b1d702d926d681d0b3d3047af47c9a"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "erewrite PrimaryNetHandler_no_msgs with (ms := l) in * by eauto.",
                        "VernacExtend",
                        "2f50c0dde248f681c92996cdedb1a010a45b4ef4"
                    ]
                },
                {
                    "command": [
                        "rewrite inc_in_flight_to_backup_cons_primary_dst in * by auto.",
                        "VernacExtend",
                        "0b46983cecf70a0492b781dfae34d9b45ed820a2"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "rewrite inc_in_flight_to_backup_nil in *.",
                        "VernacExtend",
                        "fce43d5004b81e1cef927102f915f6140f6b0bcc"
                    ]
                },
                {
                    "command": [
                        "auto with *.",
                        "VernacExtend",
                        "cafee3e5c160f4826f26575cc7be0078a2421ff0"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "find_apply_lem_hyp input_handlers_InputHandlers.",
                        "VernacExtend",
                        "16409cee8c3524598e175890d2185c95ee8b33b5"
                    ]
                },
                {
                    "command": [
                        "find_copy_apply_lem_hyp InputHandler_inc_in_flight_to_backup_preserved.",
                        "VernacExtend",
                        "8f262f4defc27aff8ea5e3fa7f567e8f30447997"
                    ]
                },
                {
                    "command": [
                        "unfold send_packets in *.",
                        "VernacExtend",
                        "60adfc1dade182c47367364b32bda2a4467aa77e"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "rewrite inc_in_flight_to_backup_app.",
                        "VernacExtend",
                        "dead2ef559efb00d0a8990a3ff106b546a5d83d1"
                    ]
                },
                {
                    "command": [
                        "subst.",
                        "VernacExtend",
                        "ccc9cb848804101be22a0bb6c324861981c5c7f1"
                    ]
                },
                {
                    "command": [
                        "destruct h eqn:?; try rewrite update_same; try rewrite update_diff by congruence.",
                        "VernacExtend",
                        "c126abe0fa35faf138adccca6afd24915c5c7d1a"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "erewrite InputHandler_backup_no_msgs with (l := l) by eauto.",
                        "VernacExtend",
                        "66975d7fdbf56e96e94d5d7058d7c29a57d055bd"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "rewrite inc_in_flight_to_backup_nil.",
                        "VernacExtend",
                        "751da38b1205fb01cca87ba3c32e1602c1636c7e"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "primary_ge_backup",
            "line_nb": 150,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply backup_plus_network_eq_primary in H.",
                        "VernacExtend",
                        "c5f58e11c04b5f645e83dcc319bdbe2b54a7065e"
                    ]
                },
                {
                    "command": [
                        "auto with *.",
                        "VernacExtend",
                        "cafee3e5c160f4826f26575cc7be0078a2421ff0"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "trace_inputs_app",
            "line_nb": 156,
            "steps": [
                {
                    "command": [
                        "unfold trace_inputs.",
                        "VernacExtend",
                        "71c9be2a1dc14b655ff72bb5014a9dea6112d253"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "rewrite filterMap_app.",
                        "VernacExtend",
                        "1faa912e5f801b3ba68c28ee3de2498295db7fd9"
                    ]
                },
                {
                    "command": [
                        "rewrite app_length.",
                        "VernacExtend",
                        "b9244791fd1e7d821ced2461a10375e028945296"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "trace_outputs_app",
            "line_nb": 164,
            "steps": [
                {
                    "command": [
                        "unfold trace_outputs.",
                        "VernacExtend",
                        "d1dd41d3661dbf7caabb0c5f451e204463de176c"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "rewrite filterMap_app.",
                        "VernacExtend",
                        "1faa912e5f801b3ba68c28ee3de2498295db7fd9"
                    ]
                },
                {
                    "command": [
                        "rewrite app_length.",
                        "VernacExtend",
                        "b9244791fd1e7d821ced2461a10375e028945296"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "ack_in_flight_to_primary_app",
            "line_nb": 172,
            "steps": [
                {
                    "command": [
                        "unfold ack_in_flight_to_primary.",
                        "VernacExtend",
                        "1b6d941a9357ba6f515bab961f6c3ec9d6a10a9b"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "rewrite filterMap_app.",
                        "VernacExtend",
                        "1faa912e5f801b3ba68c28ee3de2498295db7fd9"
                    ]
                },
                {
                    "command": [
                        "rewrite app_length.",
                        "VernacExtend",
                        "b9244791fd1e7d821ced2461a10375e028945296"
                    ]
                },
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "ack_in_flight_to_primary_backup",
            "line_nb": 179,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold ack_in_flight_to_primary.",
                        "VernacExtend",
                        "1b6d941a9357ba6f515bab961f6c3ec9d6a10a9b"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; try congruence; auto.",
                        "VernacExtend",
                        "66a76ab38a2872294c4754ade6b13d18078f6357"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "InputHandler_trace_preserved",
            "line_nb": 185,
            "steps": [
                {
                    "command": [
                        "unfold InputHandler, PrimaryInputHandler, BackupInputHandler.",
                        "VernacExtend",
                        "26aafc2e992f0d2f29eaa28090ae4f551a089567"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "monad_unfold.",
                        "VernacExtend",
                        "086e2d130d757170479c1841773b226b4c1659a9"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; find_inversion; compute; auto.",
                        "VernacExtend",
                        "26af59d35f4f9c3ec8a62fd4aea9fc5270bb5ced"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "NetHandler_trace_preserved",
            "line_nb": 192,
            "steps": [
                {
                    "command": [
                        "unfold NetHandler, PrimaryNetHandler, BackupNetHandler.",
                        "VernacExtend",
                        "29fe206d5b851ccc99c7e5417b9dd82228e71119"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "monad_unfold.",
                        "VernacExtend",
                        "086e2d130d757170479c1841773b226b4c1659a9"
                    ]
                },
                {
                    "command": [
                        "destruct p.",
                        "VernacExtend",
                        "b4e16e38d42fc59fab0ab4e95e065fc358d5a1ad"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; find_inversion; simpl; try rewrite inc_in_flight_to_backup_nil; unfold Data in *; compute; auto with *.",
                        "VernacExtend",
                        "ef9459ddeae16628fbaf37b04a400b8f90e43dc3"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "trace_inputs_output",
            "line_nb": 200,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold trace_inputs.",
                        "VernacExtend",
                        "71c9be2a1dc14b655ff72bb5014a9dea6112d253"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; simpl; congruence.",
                        "VernacExtend",
                        "5029128169c9398799fbb7f4a432759bf1aa51af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "trace_outputs_input",
            "line_nb": 206,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold trace_outputs.",
                        "VernacExtend",
                        "d1dd41d3661dbf7caabb0c5f451e204463de176c"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "repeat break_match; simpl; congruence.",
                        "VernacExtend",
                        "5029128169c9398799fbb7f4a432759bf1aa51af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "trace_outputs_backup",
            "line_nb": 212,
            "steps": [
                {
                    "command": [
                        "auto.",
                        "VernacExtend",
                        "1f09da0addd069b3b65326f8c71967acc1e985af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "inputs_eq_outputs_plus_inc_plus_ack",
            "line_nb": 215,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "remember step_async_init as y in *.",
                        "VernacExtend",
                        "9e7217c7edc8efb970d104a114d6c5383fae233a"
                    ]
                },
                {
                    "command": [
                        "revert Heqy.",
                        "VernacExtend",
                        "84b1c231a4ae147df0b79569d8b6897a29e75bc2"
                    ]
                },
                {
                    "command": [
                        "induction H using refl_trans_1n_trace_n1_ind; intros; subst.",
                        "VernacExtend",
                        "b0ab46ae0627b2bd774cca67d2e38aba7a27e887"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "concludes.",
                        "VernacExtend",
                        "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
                    ]
                },
                {
                    "command": [
                        "match goal with | [ H : step_async _ _ _ |- _ ] => invc H end; simpl.",
                        "VernacExtend",
                        "c4ccef996acec1ae83b71fa4eb159e44ebd71cd9"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "find_apply_lem_hyp net_handlers_NetHandler.",
                        "VernacExtend",
                        "9f34558fe2769361bab448ca60c6b2538a1227dd"
                    ]
                },
                {
                    "command": [
                        "repeat find_rewrite.",
                        "VernacExtend",
                        "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
                    ]
                },
                {
                    "command": [
                        "rewrite trace_inputs_app.",
                        "VernacExtend",
                        "10835c8f1a57f76ee5cff42e8ef0a733635a8910"
                    ]
                },
                {
                    "command": [
                        "rewrite trace_outputs_app.",
                        "VernacExtend",
                        "27844150cca8ba63f69c774fe165ec8845bd2044"
                    ]
                },
                {
                    "command": [
                        "rewrite cons_is_app with (x := p) in *.",
                        "VernacExtend",
                        "68606dc8893e2aae24fd19f09ced161c1dc0ae0b"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite inc_in_flight_to_backup_app in *.",
                        "VernacExtend",
                        "9028e1f7bb2487b3a53cbe7c1ca8485a630c2318"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite ack_in_flight_to_primary_app in *.",
                        "VernacExtend",
                        "340a75a0301b90d3f53cb29d3a29513797f6449b"
                    ]
                },
                {
                    "command": [
                        "find_apply_lem_hyp NetHandler_trace_preserved.",
                        "VernacExtend",
                        "fb7a5ffe3dd34cb0833faac5bce9b1fab0d48974"
                    ]
                },
                {
                    "command": [
                        "destruct (pDst p) eqn:?.",
                        "VernacExtend",
                        "3d64675962009026b8340d91c67ee38d9e44cc93"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "erewrite inc_in_flight_to_backup_cons_primary_dst in * by eauto.",
                        "VernacExtend",
                        "f48114b795c57db39abf61eba6851bb9ba8f4c44"
                    ]
                },
                {
                    "command": [
                        "rewrite trace_inputs_output in *.",
                        "VernacExtend",
                        "446a4128dd581b9958569df4f80780899b5bd059"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "rewrite ack_in_flight_to_primary_backup in * by auto.",
                        "VernacExtend",
                        "0e255e252f28e84e40865b5d0908e7fb380323d7"
                    ]
                },
                {
                    "command": [
                        "rewrite trace_outputs_backup in *.",
                        "VernacExtend",
                        "93673fa15e8c481622103f8625caa3ce847194bf"
                    ]
                },
                {
                    "command": [
                        "unfold send_packets in *.",
                        "VernacExtend",
                        "60adfc1dade182c47367364b32bda2a4467aa77e"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "rewrite <- plus_n_O in *.",
                        "VernacExtend",
                        "09ded659524b1439a7eb313a90184d70f345adef"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "find_apply_lem_hyp input_handlers_InputHandlers.",
                        "VernacExtend",
                        "16409cee8c3524598e175890d2185c95ee8b33b5"
                    ]
                },
                {
                    "command": [
                        "find_apply_lem_hyp InputHandler_trace_preserved.",
                        "VernacExtend",
                        "36e2020d234ec6f0855b50c657be67dc0afdebc3"
                    ]
                },
                {
                    "command": [
                        "rewrite cons_is_app.",
                        "VernacExtend",
                        "5c35333540582e91258200f6b7e3e3184c2dd690"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite trace_inputs_app.",
                        "VernacExtend",
                        "ebf11201b6e89f3d098922eb67a6b29345f9c531"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite trace_outputs_app.",
                        "VernacExtend",
                        "d18f50b76906d8f59c58e009c0c6ad5971c16cdf"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite inc_in_flight_to_backup_app in *.",
                        "VernacExtend",
                        "9028e1f7bb2487b3a53cbe7c1ca8485a630c2318"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite ack_in_flight_to_primary_app in *.",
                        "VernacExtend",
                        "340a75a0301b90d3f53cb29d3a29513797f6449b"
                    ]
                },
                {
                    "command": [
                        "rewrite trace_outputs_input.",
                        "VernacExtend",
                        "548c64aa8bad0f9f2573a638155ae59a55b3a090"
                    ]
                },
                {
                    "command": [
                        "rewrite trace_inputs_output.",
                        "VernacExtend",
                        "2021e10219b44c2be0c7fd3ed7fd675f9e881e60"
                    ]
                },
                {
                    "command": [
                        "unfold send_packets in *.",
                        "VernacExtend",
                        "60adfc1dade182c47367364b32bda2a4467aa77e"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "inputs_ge_outputs",
            "line_nb": 261,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "apply inputs_eq_outputs_plus_inc_plus_ack in H.",
                        "VernacExtend",
                        "e7643e1c3d5b5d3b4bc392546be9e539e69e3bf7"
                    ]
                },
                {
                    "command": [
                        "omega.",
                        "VernacExtend",
                        "32c6c865d255452c7e10c77111456d1981cede39"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}