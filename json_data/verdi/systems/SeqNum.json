{
    "filename": "systems/SeqNum.v",
    "coq_project": "verdi",
    "vernac_cmds": [
        [
            "Require Import Verdi.Verdi.",
            "VernacRequire",
            "0e1dbcd85e6257dada3df6be709464bd18aff5ac"
        ],
        [
            "Set Implicit Arguments.",
            "VernacSetOption",
            "9e84ff8896f028601d8aded48c1d4aebe60aa584"
        ],
        [
            "Section SeqNum.",
            "VernacBeginSection",
            "e551c0d0085d57298aaa6b3037ae0c37c5393ee5"
        ],
        [
            "Context {orig_base_params : BaseParams}.",
            "VernacContext",
            "69028e681894580fbc36a6124a9136decfafb159"
        ],
        [
            "Context {orig_multi_params : MultiParams orig_base_params}.",
            "VernacContext",
            "692c0242367fb056a6bbecc097c4105250bd8749"
        ],
        [
            "Record seq_num_data := mkseq_num_data { tdNum : nat; tdSeen : list (name * list nat); tdData : data }.",
            "VernacInductive",
            "7db10915f8c83a6fee7994de17bc955597a82021"
        ],
        [
            "Record seq_num_msg := mkseq_num_msg { tmNum : nat; tmMsg : msg }.",
            "VernacInductive",
            "920c51f11b85eb9cb74e4cb070a0648b930bcca7"
        ],
        [
            "Definition seq_num_msg_eq_dec (x y : seq_num_msg) : {x = y} + {x <> y}.",
            "VernacDefinition",
            "3d303a10f268dafdea144c43c75a4d0982ce25f3"
        ],
        [
            "decide equality.",
            "VernacExtend",
            "10aba07d521545accbb51a4c2e0695a9ddce3199"
        ],
        [
            "apply msg_eq_dec.",
            "VernacExtend",
            "0670b5b9bc0b8f5584d07ad19ff758d257bf1c2a"
        ],
        [
            "decide equality.",
            "VernacExtend",
            "10aba07d521545accbb51a4c2e0695a9ddce3199"
        ],
        [
            "Defined.",
            "VernacEndProof",
            "88c0be54a50df4bb90276c075406fe442428eb9c"
        ],
        [
            "Fixpoint processPackets (seq_num : nat) (packets : list (name * msg)) : nat * list (name * seq_num_msg) := match packets with | [] => (seq_num, []) | p :: ps => let (n', pkts) := processPackets seq_num ps in (S n', (fst p, mkseq_num_msg n' (snd p)) :: pkts) end.",
            "VernacFixpoint",
            "883fce0f85604d3c30dae0f984db000acae123ef"
        ],
        [
            "Definition seq_num_init_handlers (n : name) := mkseq_num_data 0 [] (init_handlers n).",
            "VernacDefinition",
            "c413b3afd6d4b835c33eabd68dfa1c28b90feac1"
        ],
        [
            "Definition seq_num_net_handlers (dst : name) (src : name) (m : seq_num_msg) (state : seq_num_data) : list output * seq_num_data * list (name * seq_num_msg) := let seen_src := assoc_default name_eq_dec (tdSeen state) src [] in if member (tmNum m) seen_src then ([], state, []) else let '(out, data', pkts) := net_handlers dst src (tmMsg m) (tdData state) in let (n', tpkts) := processPackets (tdNum state) pkts in (out, mkseq_num_data n' (assoc_set name_eq_dec (tdSeen state) src (tmNum m :: seen_src)) data', tpkts).",
            "VernacDefinition",
            "243871c78c89ec17dc2ed19282ea2af5d6becaab"
        ],
        [
            "Definition seq_num_input_handlers (h : name) (inp : input) (state : seq_num_data) : (list output) * seq_num_data * list (name * seq_num_msg) := let '(out, data', pkts) := input_handlers h inp (tdData state) in let (n', tpkts) := processPackets (tdNum state) pkts in (out, mkseq_num_data n' (tdSeen state) data', tpkts).",
            "VernacDefinition",
            "e8750b8fcf6861ce6fce6bd473e18b45f7e107d7"
        ],
        [
            "Instance base_params : BaseParams := { data := seq_num_data ; input := input ; output := output }.",
            "VernacInstance",
            "42776dc29cd12f53ab1291d633c30f506123500b"
        ],
        [
            "Instance multi_params : MultiParams _ := { name := name ; msg := seq_num_msg ; msg_eq_dec := seq_num_msg_eq_dec ; name_eq_dec := name_eq_dec ; nodes := nodes ; all_names_nodes := all_names_nodes; no_dup_nodes := no_dup_nodes; init_handlers := seq_num_init_handlers; net_handlers := seq_num_net_handlers; input_handlers := seq_num_input_handlers }.",
            "VernacInstance",
            "0472829a95445c224a4f31a64faa932d480eead6"
        ],
        [
            "End SeqNum.",
            "VernacEndSegment",
            "c42839e25d12a8fbcca4a8558462d1acfa28a4ab"
        ],
        [
            "Hint Extern 5 (@BaseParams) => apply base_params : typeclass_instances.",
            "VernacHints",
            "64fd1794343372b245d75ac5845a6e83d1b9d951"
        ],
        [
            "Hint Extern 5 (@MultiParams _) => apply multi_params : typeclass_instances.",
            "VernacHints",
            "29d35b2494878be9651941450d3fd9c240dcfc19"
        ]
    ],
    "proofs": [
        {
            "name": "seq_num_msg_eq_dec",
            "line_nb": 7,
            "steps": [
                {
                    "command": [
                        "decide equality.",
                        "VernacExtend",
                        "10aba07d521545accbb51a4c2e0695a9ddce3199"
                    ]
                },
                {
                    "command": [
                        "apply msg_eq_dec.",
                        "VernacExtend",
                        "0670b5b9bc0b8f5584d07ad19ff758d257bf1c2a"
                    ]
                },
                {
                    "command": [
                        "decide equality.",
                        "VernacExtend",
                        "10aba07d521545accbb51a4c2e0695a9ddce3199"
                    ]
                },
                {
                    "command": [
                        "Defined.",
                        "VernacEndProof",
                        "88c0be54a50df4bb90276c075406fe442428eb9c"
                    ]
                }
            ]
        }
    ]
}