{
    "filename": "systems/LogCorrect.v",
    "coq_project": "verdi",
    "vernac_cmds": [
        [
            "Require Import Verdi.Verdi.",
            "VernacRequire",
            "0e1dbcd85e6257dada3df6be709464bd18aff5ac"
        ],
        [
            "Require Import Cheerios.Cheerios.",
            "VernacRequire",
            "16849e20c6eed40074c99fb332f1a361f701150e"
        ],
        [
            "Require Import Verdi.Log.",
            "VernacRequire",
            "8a0b7532fbc1a1558415ca5ab249c6fe430a6e0f"
        ],
        [
            "Require Import FunctionalExtensionality.",
            "VernacRequire",
            "bb1bf6a28f9de1b2ad0dab7920189198216ed486"
        ],
        [
            "Section LogCorrect.",
            "VernacBeginSection",
            "d407ec67b3ae899ff0b935dd9926a34b7c5979e5"
        ],
        [
            "Context {orig_base_params : BaseParams}.",
            "VernacContext",
            "69028e681894580fbc36a6124a9136decfafb159"
        ],
        [
            "Context {orig_multi_params : MultiParams orig_base_params}.",
            "VernacContext",
            "692c0242367fb056a6bbecc097c4105250bd8749"
        ],
        [
            "Context {orig_failure_params : FailureParams orig_multi_params}.",
            "VernacContext",
            "646ef0f7c705745674e5068bcc56f8b0696048ec"
        ],
        [
            "Context {data_serializer : Serializer data}.",
            "VernacContext",
            "1ec49bc41eb9c7aeb63f5bcb159316239730202c"
        ],
        [
            "Context {name_serializer : Serializer name}.",
            "VernacContext",
            "41b36f01bb002aa64c356c2f32f431e73ddd9bd0"
        ],
        [
            "Context {msg_serializer : Serializer msg}.",
            "VernacContext",
            "adede02191a430c9b79d4cf0a92974475d033843"
        ],
        [
            "Context {input_serializer : Serializer input}.",
            "VernacContext",
            "48888728e62c6a0ed0868a255b217712cfc8ee5d"
        ],
        [
            "Variable snapshot_interval : nat.",
            "VernacAssumption",
            "b8fa6d72e3ef627a532890383ac24a83258e551c"
        ],
        [
            "Instance log_base_params : BaseParams := @log_base_params orig_base_params.",
            "VernacInstance",
            "3eee4dae42df653e7ea7e23de5e8094b1187f461"
        ],
        [
            "Instance log_multi_params : DiskOpMultiParams log_base_params := log_multi_params snapshot_interval.",
            "VernacInstance",
            "2541ed3ca5c5459db199064993a47a68a3c768ce"
        ],
        [
            "Instance log_failure_params : DiskOpFailureParams log_multi_params := log_failure_params snapshot_interval.",
            "VernacInstance",
            "0400febf91142b7f77fa4da26791be55389f24d6"
        ],
        [
            "Lemma apply_log_app : forall h d entries e, apply_log h d (entries ++ [e]) = apply_entry h (apply_log h d entries) e.",
            "VernacStartTheoremProof",
            "d55e2a92fab0ba49e4715aee7280a626120e6b2e"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold apply_log.",
            "VernacExtend",
            "8a140f1c8678eda275c21f63f4876b2fae936726"
        ],
        [
            "rewrite fold_left_app.",
            "VernacExtend",
            "94bd7866d849f1a79f70458c9064c0a7877defe5"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition disk_correct dsk h st := exists s (entries : list entry) (snap : data), dsk Count = Some (serialize (length entries)) /\\ dsk Log = Some s /\\ IOStreamWriter.unwrap s = IOStreamWriter.unwrap (list_serialize_rec entry _ entries) /\\ dsk Snapshot = Some (serialize snap) /\\ log_num_entries st = length entries /\\ (apply_log h snap entries = log_data st).",
            "VernacDefinition",
            "0d61d7f16250af8a04df02376b7ce4f35cfa2065"
        ],
        [
            "Lemma log_net_handlers_spec : forall dst src m st ops out st' l dsk dsk', disk_correct dsk dst st -> log_net_handlers snapshot_interval dst src m st = (ops, out, st', l) -> apply_ops dsk ops = dsk' -> disk_correct dsk' dst st'.",
            "VernacStartTheoremProof",
            "08a742c2b7d8e4701324ab91be67330e3946be8e"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold disk_correct in *.",
            "VernacExtend",
            "18f181078cbd5d5f9b56247c95fd75460d954cff"
        ],
        [
            "unfold log_net_handlers, log_handler_result in *; break_if; do 2 break_let.",
            "VernacExtend",
            "594e9bbc444e659e4e605be9f1be5344184b80c0"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "find_inversion.",
            "VernacExtend",
            "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "exists IOStreamWriter.empty, [], d.",
            "VernacExtend",
            "4c61c8e99b47a2d764926e790d3b2bb111a85e95"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "find_inversion.",
            "VernacExtend",
            "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "match goal with | _ : dsk Log = Some ?s, _ : apply_log _ ?d ?entries = _ |- _ => exists (s +$+ (serialize (inr (src, m) : entry))), (entries ++ [inr (src, m)]), d end.",
            "VernacExtend",
            "a09da4efb81c4c97e9bd15a52a255a41e2cfc091"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "match goal with | H : context [log_num_entries] |- _ => rewrite H end.",
            "VernacExtend",
            "9be9c72bf1c776a74505546946ec87f52574fe6f"
        ],
        [
            "rewrite app_length.",
            "VernacExtend",
            "b9244791fd1e7d821ced2461a10375e028945296"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "rewrite NPeano.Nat.add_1_r.",
            "VernacExtend",
            "d7b85f9d0d32da3ac1e1285da2dfbd391310bf56"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "break_match.",
            "VernacExtend",
            "b2bc690b7d230eee6ff83ec2752e6c3ed02d2594"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "find_inversion.",
            "VernacExtend",
            "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "congruence.",
            "VernacExtend",
            "d8c818f6cffeaee6a722a71acc77f2d6e5199eb9"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "cheerios_crush.",
            "VernacExtend",
            "cd9abf2aaa45ac64ce554017f49d53791fbc9c23"
        ],
        [
            "rewrite serialize_snoc.",
            "VernacExtend",
            "4b3912724be2cc53a9f0a97698cb425ea12a5c45"
        ],
        [
            "match goal with | H : IOStreamWriter.unwrap _ = IOStreamWriter.unwrap _ |- _ => rewrite H end.",
            "VernacExtend",
            "c9a7850bc8ae0ccaf947aa39cf2c47f6b3addb62"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "match goal with | H : context [log_num_entries] |- _ => rewrite H end.",
            "VernacExtend",
            "9be9c72bf1c776a74505546946ec87f52574fe6f"
        ],
        [
            "rewrite app_length.",
            "VernacExtend",
            "b9244791fd1e7d821ced2461a10375e028945296"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "rewrite NPeano.Nat.add_1_r.",
            "VernacExtend",
            "d7b85f9d0d32da3ac1e1285da2dfbd391310bf56"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite apply_log_app.",
            "VernacExtend",
            "4617b28fbdfca150e5c88ad0eaa45582d3ea10a3"
        ],
        [
            "match goal with | H : context [apply_log] |- _ => rewrite H end.",
            "VernacExtend",
            "10339891515c02f38106ae5cc4461e62a06f9c94"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "match goal with | H : context [net_handlers] |- _ => rewrite H end.",
            "VernacExtend",
            "7f51c741f1f968d9efa5750b29595c898778f83e"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma log_input_handlers_spec : forall h m st ops out st' l dsk dsk', disk_correct dsk h st -> log_input_handlers snapshot_interval h m st = (ops, out, st', l) -> apply_ops dsk ops = dsk' -> disk_correct dsk' h st'.",
            "VernacStartTheoremProof",
            "965a34fd1c1e5316463cd034f4574784ff5459c0"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "unfold disk_correct in *.",
            "VernacExtend",
            "18f181078cbd5d5f9b56247c95fd75460d954cff"
        ],
        [
            "unfold log_input_handlers, log_handler_result in *; break_if; do 2 break_let.",
            "VernacExtend",
            "66dd64932a9b54f885c27b5f49e14f57cd9a6f1b"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "find_inversion.",
            "VernacExtend",
            "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "exists IOStreamWriter.empty, [], d.",
            "VernacExtend",
            "4c61c8e99b47a2d764926e790d3b2bb111a85e95"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "find_inversion.",
            "VernacExtend",
            "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "match goal with | _ : dsk Log = Some ?s, _ : apply_log _ ?d ?entries = _ |- _ => exists (s +$+ (serialize (inl m : entry))), (entries ++ [inl m]), d end.",
            "VernacExtend",
            "79f8e03971d3f3a562b11b943b37030bb55b201e"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "match goal with | H : context [log_num_entries] |- _ => rewrite H end.",
            "VernacExtend",
            "9be9c72bf1c776a74505546946ec87f52574fe6f"
        ],
        [
            "rewrite app_length.",
            "VernacExtend",
            "b9244791fd1e7d821ced2461a10375e028945296"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "rewrite NPeano.Nat.add_1_r.",
            "VernacExtend",
            "d7b85f9d0d32da3ac1e1285da2dfbd391310bf56"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "break_match.",
            "VernacExtend",
            "b2bc690b7d230eee6ff83ec2752e6c3ed02d2594"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "find_inversion.",
            "VernacExtend",
            "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "congruence.",
            "VernacExtend",
            "d8c818f6cffeaee6a722a71acc77f2d6e5199eb9"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "cheerios_crush.",
            "VernacExtend",
            "cd9abf2aaa45ac64ce554017f49d53791fbc9c23"
        ],
        [
            "rewrite serialize_snoc.",
            "VernacExtend",
            "4b3912724be2cc53a9f0a97698cb425ea12a5c45"
        ],
        [
            "match goal with | H : IOStreamWriter.unwrap _ = IOStreamWriter.unwrap _ |- _ => rewrite H end.",
            "VernacExtend",
            "c9a7850bc8ae0ccaf947aa39cf2c47f6b3addb62"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "match goal with | H : context [log_num_entries] |- _ => rewrite H end.",
            "VernacExtend",
            "9be9c72bf1c776a74505546946ec87f52574fe6f"
        ],
        [
            "rewrite app_length.",
            "VernacExtend",
            "b9244791fd1e7d821ced2461a10375e028945296"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "rewrite NPeano.Nat.add_1_r.",
            "VernacExtend",
            "d7b85f9d0d32da3ac1e1285da2dfbd391310bf56"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite apply_log_app.",
            "VernacExtend",
            "4617b28fbdfca150e5c88ad0eaa45582d3ea10a3"
        ],
        [
            "match goal with | H : context [apply_log] |- _ => rewrite H end.",
            "VernacExtend",
            "10339891515c02f38106ae5cc4461e62a06f9c94"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "match goal with | H : context [input_handlers] |- _ => rewrite H end.",
            "VernacExtend",
            "1adec969094c2a0ff2e4e2f8dc9589b70bcc06e6"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma disk_correct_reboot : forall net h d ops, disk_correct (nwdoDisk net h) h (nwdoState net h) -> do_log_reboot snapshot_interval h (disk_to_channel (nwdoDisk net h)) = (d, ops) -> disk_correct (apply_ops (nwdoDisk net h) ops) h d.",
            "VernacStartTheoremProof",
            "e4c50c34096881b43c3b5c174162f276132b9ac7"
        ],
        [
            "intros net h d dsk H_correct H_reboot.",
            "VernacExtend",
            "aac990988a158976e4dfb6cd54e408da0f0933cd"
        ],
        [
            "unfold do_log_reboot, disk_to_channel, channel_to_log, from_channel in *.",
            "VernacExtend",
            "8392d4d023f7fcb6dc47afe1be24082869e0eb90"
        ],
        [
            "unfold disk_correct in *.",
            "VernacExtend",
            "18f181078cbd5d5f9b56247c95fd75460d954cff"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "repeat rewrite IOStreamWriter.channel_wrap_unwrap in *.",
            "VernacExtend",
            "db13df00ccc438fcfc9efbc80a5b3e082e0e059a"
        ],
        [
            "repeat rewrite serialize_deserialize_id_nil in H_reboot.",
            "VernacExtend",
            "01148be5589bff38d722c13328a95d587c48242c"
        ],
        [
            "rewrite <- (app_nil_r (IOStreamWriter.unwrap _)) in H_reboot.",
            "VernacExtend",
            "1b171d41d4f019d54a01b26fff8cd0171a3b16c8"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "rewrite list_serialize_deserialize_id_rec in H_reboot.",
            "VernacExtend",
            "057bb86f985b55103d8a6b3951b1c07d37b24db9"
        ],
        [
            "find_inversion.",
            "VernacExtend",
            "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
        ],
        [
            "exists (IOStreamWriter.empty).",
            "VernacExtend",
            "9d0eac358a951b712058aaf921595a9443b99cc7"
        ],
        [
            "exists [].",
            "VernacExtend",
            "0124358b905f1434771624034a4e7386196b0a4b"
        ],
        [
            "exists (reboot (apply_log h x1 x0)).",
            "VernacExtend",
            "4ab971c1b927bf5f83353a478bf900836d9ac85a"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma disk_correct_invariant : forall net failed tr, @step_failure_disk_ops_star _ _ log_failure_params step_failure_disk_ops_init (failed, net) tr -> forall h, disk_correct (nwdoDisk net h) h (nwdoState net h).",
            "VernacStartTheoremProof",
            "b61f4fe89ee2beb7163bc93e5576c65318e6a010"
        ],
        [
            "intros net failed tr H_st h.",
            "VernacExtend",
            "e0cd4bb35c6b1aed6f4ece02a0bd124ff2cb555f"
        ],
        [
            "remember step_failure_disk_ops_init as x.",
            "VernacExtend",
            "6999b1db289b7550cde1998a0adab3d5e935782c"
        ],
        [
            "change net with (snd (failed, net)).",
            "VernacExtend",
            "d19cf9b3967cea4538b1bae5e5f5114a15451609"
        ],
        [
            "induction H_st using refl_trans_1n_trace_n1_ind.",
            "VernacExtend",
            "e5d72e4f8dd4ba427e93b57fc50f9b3af2021fff"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold disk_correct.",
            "VernacExtend",
            "4f52e47f2bf9810c200177252d363f7228e57fb2"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "exists IOStreamWriter.empty, [], (init_handlers h).",
            "VernacExtend",
            "db9acf66495553324ebe0f6aca4000bd0533a4d7"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "concludes.",
            "VernacExtend",
            "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
        ],
        [
            "match goal with H : step_failure_disk_ops _ _ _ |- _ => invcs H end.",
            "VernacExtend",
            "27116b8dce5ea97a8f01d1fe9b137ea5718be9b0"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "break_if.",
            "VernacExtend",
            "c247550e3c86ef9b38eaa4d1de30a9b2a63ba8cb"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "rewrite e in *.",
            "VernacExtend",
            "4c506eddfe08576f2ba60dc4024c518a5ef4dd81"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "match goal with | [G : disk_correct _ _ _, H : log_net_handlers _ _ _ _ _ = _ |- _] => apply (log_net_handlers_spec _ _ _ _ _ _ _ _ _ _ G H) end.",
            "VernacExtend",
            "96040b26b39fdca4a164fb40047f6c2e75b43eca"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "assumption.",
            "VernacExtend",
            "41f0308313ff87e6ab2782f90d6021ec4b55d932"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "break_if.",
            "VernacExtend",
            "c247550e3c86ef9b38eaa4d1de30a9b2a63ba8cb"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "rewrite e in *.",
            "VernacExtend",
            "4c506eddfe08576f2ba60dc4024c518a5ef4dd81"
        ],
        [
            "match goal with | [G : disk_correct _ _ _, H : log_input_handlers _ _ _ _ = _ |- _] => apply (log_input_handlers_spec _ _ _ _ _ _ _ _ _ G H) end.",
            "VernacExtend",
            "1bd054bbd50043b58759c0a01435c430a661313d"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "assumption.",
            "VernacExtend",
            "41f0308313ff87e6ab2782f90d6021ec4b55d932"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "assumption.",
            "VernacExtend",
            "41f0308313ff87e6ab2782f90d6021ec4b55d932"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "assumption.",
            "VernacExtend",
            "41f0308313ff87e6ab2782f90d6021ec4b55d932"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "assumption.",
            "VernacExtend",
            "41f0308313ff87e6ab2782f90d6021ec4b55d932"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "break_if.",
            "VernacExtend",
            "c247550e3c86ef9b38eaa4d1de30a9b2a63ba8cb"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "repeat find_rewrite.",
            "VernacExtend",
            "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
        ],
        [
            "find_apply_lem_hyp disk_correct_reboot; assumption.",
            "VernacExtend",
            "93bd55ecdc8770239f0db05e9224206d6de65547"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "assumption.",
            "VernacExtend",
            "41f0308313ff87e6ab2782f90d6021ec4b55d932"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma reboot_invariant : forall net failed tr, @step_failure_disk_ops_star _ _ log_failure_params step_failure_disk_ops_init (failed, net) tr -> forall h d dsk, do_reboot h (disk_to_channel (nwdoDisk net h)) = (d, dsk) -> log_data d = reboot (log_data (nwdoState net h)).",
            "VernacStartTheoremProof",
            "c6103c4e364fa6b271dd7ee687e726ecdbe199fa"
        ],
        [
            "intros net failed tr H_st h d dsk H_reboot.",
            "VernacExtend",
            "3c6569f93651619e77eaff8857a97be95d23bf07"
        ],
        [
            "apply disk_correct_invariant with (h := h) in H_st.",
            "VernacExtend",
            "06880636535ec19a99b8ac21b50a89db036cde59"
        ],
        [
            "unfold disk_correct in *.",
            "VernacExtend",
            "18f181078cbd5d5f9b56247c95fd75460d954cff"
        ],
        [
            "break_exists.",
            "VernacExtend",
            "7914403b406cb602431a8c9ec3a15a70b4d83870"
        ],
        [
            "intuition.",
            "VernacExtend",
            "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
        ],
        [
            "simpl in *.",
            "VernacExtend",
            "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
        ],
        [
            "unfold do_log_reboot, channel_to_log, disk_to_channel in *.",
            "VernacExtend",
            "610b6e16b8e3b1400518f519e25e4713f8a7d3e2"
        ],
        [
            "find_inversion.",
            "VernacExtend",
            "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "repeat match goal with | H : nwdoDisk net h _ = Some _ |- _ => rewrite H end.",
            "VernacExtend",
            "c7ec17e5de22035a6f27fe9c2c24a0f45321e1a2"
        ],
        [
            "unfold from_channel.",
            "VernacExtend",
            "eaab28dcc7ce66039a387981d4db9cd2313aa187"
        ],
        [
            "repeat rewrite IOStreamWriter.channel_wrap_unwrap in *.",
            "VernacExtend",
            "db13df00ccc438fcfc9efbc80a5b3e082e0e059a"
        ],
        [
            "rewrite serialize_deserialize_id_nil.",
            "VernacExtend",
            "9c9f86ad47e17a61cfb5f2a4f2708bd52378c7aa"
        ],
        [
            "rewrite <- (app_nil_r (IOStreamWriter.unwrap _)).",
            "VernacExtend",
            "6649829354b6599d20a00b29e0c49dcbf084ddb1"
        ],
        [
            "match goal with | H : IOStreamWriter.unwrap _ = IOStreamWriter.unwrap _ |- _ => rewrite H end.",
            "VernacExtend",
            "c9a7850bc8ae0ccaf947aa39cf2c47f6b3addb62"
        ],
        [
            "rewrite nat_serialize_deserialize_id.",
            "VernacExtend",
            "32b5c550cc68fa034fb3435de30fef9e75439ac1"
        ],
        [
            "rewrite (app_nil_end (IOStreamWriter.unwrap _)).",
            "VernacExtend",
            "bf0fa3845cb4ddecc5cf0c37938b3446499f686b"
        ],
        [
            "rewrite list_serialize_deserialize_id_rec.",
            "VernacExtend",
            "e666185587a29ff9d9f1f2868bef9f66b46a70a4"
        ],
        [
            "find_rewrite.",
            "VernacExtend",
            "7a65e4f552b93330a384f7173c61cfa61058bef5"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition orig_packet := @packet _ orig_multi_params.",
            "VernacDefinition",
            "305fd6c8577f0dc7a74e36302d31c3590da8f78a"
        ],
        [
            "Definition orig_network := @network _ orig_multi_params.",
            "VernacDefinition",
            "2cd57af0b399224d5d75e30da9cba07b4336377d"
        ],
        [
            "Definition log_packet := @do_packet _ log_multi_params.",
            "VernacDefinition",
            "ddf283b6759e3bd2e9bb6620f583ec4a5d4e1b6d"
        ],
        [
            "Definition log_network := @do_network _ log_multi_params.",
            "VernacDefinition",
            "df8294108b9e6339ed05dcee6fd2c68ebe8f17ac"
        ],
        [
            "Definition revertPacket (p : log_packet) : orig_packet := @mkPacket _ orig_multi_params (do_pSrc p) (do_pDst p) (do_pBody p).",
            "VernacDefinition",
            "bb901dd838d822f9c46e7030e56eeb7778c8e866"
        ],
        [
            "Definition revertLogNetwork (net: log_network) : orig_network := mkNetwork (map revertPacket (nwdoPackets net)) (fun h => (log_data (nwdoState net h))).",
            "VernacDefinition",
            "d4e8c5477d47f22cea1681485c14f8ef4b335dfe"
        ],
        [
            "Theorem log_step_failure_step : forall net net' failed failed' tr tr', @step_failure_disk_ops_star _ _ log_failure_params step_failure_disk_ops_init (failed, net) tr -> @step_failure_disk_ops _ _ log_failure_params (failed, net) (failed', net') tr' -> step_failure (failed, revertLogNetwork net) (failed', revertLogNetwork net') tr'.",
            "VernacStartTheoremProof",
            "b562dbcb08f98ecbc0382d2eef94a5bc5d0e607d"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "assert (revert_packets : forall net, nwPackets (revertLogNetwork net) = map revertPacket (nwdoPackets net)) by reflexivity.",
            "VernacExtend",
            "b83e526077414cea2f4f57f13bbfe3b046dc8990"
        ],
        [
            "assert (revert_send : forall l h, map revertPacket (do_send_packets h l) = send_packets h l).",
            "VernacExtend",
            "8512655f16da2242da77774949001ffc0e7a378d"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "induction l.",
            "VernacExtend",
            "1194af70832939708f8c7fde2f18f81c37b97a0c"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "now rewrite IHl.",
            "VernacExtend",
            "7467d02c87aa8e869ce52469e192a7cb32440c08"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "assert (apply_if : forall h d, (fun h0 : name => log_data (if name_eq_dec h0 h then d else nwdoState net h0)) = (fun h0 : name => if name_eq_dec h0 h then log_data d else log_data (nwdoState net h0))).",
            "VernacExtend",
            "6f7e183b32c1952c67e6b65669c285ecf907fcb6"
        ],
        [
            "{",
            "VernacSubproof",
            "184cabd02aa0a33f23f10474ea95789b1f149361"
        ],
        [
            "intros.",
            "VernacExtend",
            "1b4df911c5412d25278e46f48402870ba987996b"
        ],
        [
            "extensionality h0.",
            "VernacExtend",
            "7496a768c8542ffd069fc25146fe06d3e7e964b8"
        ],
        [
            "break_if; reflexivity.",
            "VernacExtend",
            "370c1ca340fd35fbf9050ee7cbe8fb8062a6a261"
        ],
        [
            "}",
            "VernacEndSubproof",
            "85f27874ef16421341373f4b062b6d1605043af9"
        ],
        [
            "invcs H0.",
            "VernacExtend",
            "049d5efe847b95b9b5a0ab845cb2c978d28b2976"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold revertLogNetwork.",
            "VernacExtend",
            "720e15749570ac19ec0adaf6a9a4cf272dc323de"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "find_rewrite.",
            "VernacExtend",
            "7a65e4f552b93330a384f7173c61cfa61058bef5"
        ],
        [
            "repeat rewrite map_app.",
            "VernacExtend",
            "b6a6ee1d9a8c82aa32dd632bf20f37a46c6ebb72"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "rewrite revert_send.",
            "VernacExtend",
            "757fbe828a7cfc80e6d69a59d457ca6edf8a2d72"
        ],
        [
            "assert (revert_packet : do_pDst p = pDst (revertPacket p)) by reflexivity.",
            "VernacExtend",
            "6460b7106f230fc60f1143385bc75443e2b0d1ad"
        ],
        [
            "rewrite revert_packet in *.",
            "VernacExtend",
            "15d02e33ca73ea51ae67622c6bfcbe69fe5a45f6"
        ],
        [
            "apply StepFailure_deliver with (xs0 := map revertPacket xs) (ys0 := map revertPacket ys) (d0 := log_data d) (l0 := l).",
            "VernacExtend",
            "6a9e836796098f28bdd0014d1abe1c055b1ce41c"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "assumption.",
            "VernacExtend",
            "41f0308313ff87e6ab2782f90d6021ec4b55d932"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "unfold log_net_handlers, log_handler_result in *.",
            "VernacExtend",
            "ff9637dc70cb0a7a01b7d96157670aa4160b084f"
        ],
        [
            "break_let.",
            "VernacExtend",
            "0d8806c04d7bd574741dfa032ad14204e251f21e"
        ],
        [
            "break_let.",
            "VernacExtend",
            "0d8806c04d7bd574741dfa032ad14204e251f21e"
        ],
        [
            "break_if; find_inversion; rewrite revert_packet in *; assumption.",
            "VernacExtend",
            "595c1555f049de8b53bfc4f528024bf08a1d08e2"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "rewrite apply_if.",
            "VernacExtend",
            "e849bafe893cb587532d4c09104d919bf729887c"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold revertLogNetwork.",
            "VernacExtend",
            "720e15749570ac19ec0adaf6a9a4cf272dc323de"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "repeat rewrite map_app.",
            "VernacExtend",
            "b6a6ee1d9a8c82aa32dd632bf20f37a46c6ebb72"
        ],
        [
            "rewrite revert_send.",
            "VernacExtend",
            "757fbe828a7cfc80e6d69a59d457ca6edf8a2d72"
        ],
        [
            "apply StepFailure_input with (d0 := log_data d) (l0 := l).",
            "VernacExtend",
            "ded05cd5954b17a38472b78a0fe0cab16caa2004"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "assumption.",
            "VernacExtend",
            "41f0308313ff87e6ab2782f90d6021ec4b55d932"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold log_input_handlers, log_handler_result in *.",
            "VernacExtend",
            "81a4b3ad2c707794837006078103bcfcfd2bdc1b"
        ],
        [
            "do 2 break_let.",
            "VernacExtend",
            "b17ca79580f2f422519f05c90eaa1c90bae27ef4"
        ],
        [
            "break_if; find_inversion; assumption.",
            "VernacExtend",
            "fc79416d79384f7e8ddcc0694b661319771e20b1"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite apply_if.",
            "VernacExtend",
            "e849bafe893cb587532d4c09104d919bf729887c"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold revertLogNetwork.",
            "VernacExtend",
            "720e15749570ac19ec0adaf6a9a4cf272dc323de"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "find_rewrite.",
            "VernacExtend",
            "7a65e4f552b93330a384f7173c61cfa61058bef5"
        ],
        [
            "rewrite map_app.",
            "VernacExtend",
            "89eca143edf6436bb079a40b9fedf852073d1711"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "apply StepFailure_drop with (xs0 := map revertPacket xs) (p0 := revertPacket p) (ys0 := map revertPacket ys).",
            "VernacExtend",
            "0239396c1cce858e1c3695a07644da025191c81c"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "rewrite map_app.",
            "VernacExtend",
            "89eca143edf6436bb079a40b9fedf852073d1711"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold revertLogNetwork.",
            "VernacExtend",
            "720e15749570ac19ec0adaf6a9a4cf272dc323de"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "find_rewrite.",
            "VernacExtend",
            "7a65e4f552b93330a384f7173c61cfa61058bef5"
        ],
        [
            "rewrite map_app.",
            "VernacExtend",
            "89eca143edf6436bb079a40b9fedf852073d1711"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "apply (@StepFailure_dup _ _ _ _ _ _ (revertPacket p) (map revertPacket xs) (map revertPacket ys)).",
            "VernacExtend",
            "3056e4fd04a19707e49aea55364c70ae4fbe8cf2"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "apply StepFailure_reboot with (h0 := h).",
            "VernacExtend",
            "cc8026a8598308d574ba7c5474d17c0d580971a6"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "assumption.",
            "VernacExtend",
            "41f0308313ff87e6ab2782f90d6021ec4b55d932"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "unfold revertLogNetwork.",
            "VernacExtend",
            "720e15749570ac19ec0adaf6a9a4cf272dc323de"
        ],
        [
            "simpl.",
            "VernacExtend",
            "1b93169f4cf876d207c1fab22a2347202ab48d85"
        ],
        [
            "apply reboot_invariant with (h := h) (d := d) (dsk := ops) in H.",
            "VernacExtend",
            "76293716c6df899d4fc8a8835cab672f6d030f98"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "rewrite <- H.",
            "VernacExtend",
            "95b84807b4afb2ef79b7cc04a1c91a4e3a502e47"
        ],
        [
            "rewrite apply_if.",
            "VernacExtend",
            "e849bafe893cb587532d4c09104d919bf729887c"
        ],
        [
            "reflexivity.",
            "VernacExtend",
            "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "assumption.",
            "VernacExtend",
            "41f0308313ff87e6ab2782f90d6021ec4b55d932"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma log_step_failure_star_simulation : forall net failed tr, step_failure_disk_ops_star step_failure_disk_ops_init (failed, net) tr -> step_failure_star step_failure_init (failed, revertLogNetwork net) tr.",
            "VernacStartTheoremProof",
            "ceca8b55a98678887fb7f71c21f6d4cf29f7e42c"
        ],
        [
            "intros net failed tr H_star.",
            "VernacExtend",
            "66af708441f7a089302cf0d5af2d3d00254f8576"
        ],
        [
            "remember step_failure_disk_ops_init as y in *.",
            "VernacExtend",
            "439487983d5ed7b38fc451057d7efa70874f0c07"
        ],
        [
            "change failed with (fst (failed, net)).",
            "VernacExtend",
            "8ec9eb93c8ace47db2e8dcedcbbae8b2f7ac04c2"
        ],
        [
            "change net with (snd (failed, net)) at 2.",
            "VernacExtend",
            "5bf30960acb77fa0044d8f3df5ebc3ee17dfd438"
        ],
        [
            "revert Heqy.",
            "VernacExtend",
            "84b1c231a4ae147df0b79569d8b6897a29e75bc2"
        ],
        [
            "induction H_star using refl_trans_1n_trace_n1_ind; intro H_init.",
            "VernacExtend",
            "d5f0db6d2abdcee3a6da447e632d3bfcb10a4bc4"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "find_rewrite.",
            "VernacExtend",
            "7a65e4f552b93330a384f7173c61cfa61058bef5"
        ],
        [
            "simpl; unfold revertLogNetwork; simpl.",
            "VernacExtend",
            "0cf6ff32c4810f3f07d6db214b1f0b035ec51d17"
        ],
        [
            "unfold step_failure_init, step_async_init.",
            "VernacExtend",
            "ddc932919e8145003aa48f1a2630d35c6c9e0e62"
        ],
        [
            "constructor.",
            "VernacExtend",
            "3c77e6be855b5086df5e918bf2a0537e1010479a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "concludes.",
            "VernacExtend",
            "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
        ],
        [
            "destruct x' as (failed', net').",
            "VernacExtend",
            "cb8d84a5ead4b243314861aba99ca40107fea420"
        ],
        [
            "destruct x'' as (failed'', net'').",
            "VernacExtend",
            "dc926e9f84f7bb26e9c29deaf43b1ccff46f4d75"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "apply RT1n_step with (y := (failed', revertLogNetwork net')).",
            "VernacExtend",
            "aac0012524ccf7055f5c4840e14b5ee752d22504"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "apply IHH_star1.",
            "VernacExtend",
            "1bcd257e18cd0ede9b3be7692e8c21d29dfc49d7"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "eapply log_step_failure_step; eauto.",
            "VernacExtend",
            "083c81d80a8ef5b69fed36a022d4dc6ca7326d14"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "End LogCorrect.",
            "VernacEndSegment",
            "fe2991bcbd3b5b41d47b3a167eab9ab93ab738f7"
        ]
    ],
    "proofs": [
        {
            "name": "apply_log_app",
            "line_nb": 16,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold apply_log.",
                        "VernacExtend",
                        "8a140f1c8678eda275c21f63f4876b2fae936726"
                    ]
                },
                {
                    "command": [
                        "rewrite fold_left_app.",
                        "VernacExtend",
                        "94bd7866d849f1a79f70458c9064c0a7877defe5"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "log_net_handlers_spec",
            "line_nb": 23,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold disk_correct in *.",
                        "VernacExtend",
                        "18f181078cbd5d5f9b56247c95fd75460d954cff"
                    ]
                },
                {
                    "command": [
                        "unfold log_net_handlers, log_handler_result in *; break_if; do 2 break_let.",
                        "VernacExtend",
                        "594e9bbc444e659e4e605be9f1be5344184b80c0"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "find_inversion.",
                        "VernacExtend",
                        "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "exists IOStreamWriter.empty, [], d.",
                        "VernacExtend",
                        "4c61c8e99b47a2d764926e790d3b2bb111a85e95"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "find_inversion.",
                        "VernacExtend",
                        "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "break_exists.",
                        "VernacExtend",
                        "7914403b406cb602431a8c9ec3a15a70b4d83870"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "match goal with | _ : dsk Log = Some ?s, _ : apply_log _ ?d ?entries = _ |- _ => exists (s +$+ (serialize (inr (src, m) : entry))), (entries ++ [inr (src, m)]), d end.",
                        "VernacExtend",
                        "a09da4efb81c4c97e9bd15a52a255a41e2cfc091"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "match goal with | H : context [log_num_entries] |- _ => rewrite H end.",
                        "VernacExtend",
                        "9be9c72bf1c776a74505546946ec87f52574fe6f"
                    ]
                },
                {
                    "command": [
                        "rewrite app_length.",
                        "VernacExtend",
                        "b9244791fd1e7d821ced2461a10375e028945296"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "rewrite NPeano.Nat.add_1_r.",
                        "VernacExtend",
                        "d7b85f9d0d32da3ac1e1285da2dfbd391310bf56"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "break_match.",
                        "VernacExtend",
                        "b2bc690b7d230eee6ff83ec2752e6c3ed02d2594"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "find_inversion.",
                        "VernacExtend",
                        "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "congruence.",
                        "VernacExtend",
                        "d8c818f6cffeaee6a722a71acc77f2d6e5199eb9"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "cheerios_crush.",
                        "VernacExtend",
                        "cd9abf2aaa45ac64ce554017f49d53791fbc9c23"
                    ]
                },
                {
                    "command": [
                        "rewrite serialize_snoc.",
                        "VernacExtend",
                        "4b3912724be2cc53a9f0a97698cb425ea12a5c45"
                    ]
                },
                {
                    "command": [
                        "match goal with | H : IOStreamWriter.unwrap _ = IOStreamWriter.unwrap _ |- _ => rewrite H end.",
                        "VernacExtend",
                        "c9a7850bc8ae0ccaf947aa39cf2c47f6b3addb62"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "match goal with | H : context [log_num_entries] |- _ => rewrite H end.",
                        "VernacExtend",
                        "9be9c72bf1c776a74505546946ec87f52574fe6f"
                    ]
                },
                {
                    "command": [
                        "rewrite app_length.",
                        "VernacExtend",
                        "b9244791fd1e7d821ced2461a10375e028945296"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "rewrite NPeano.Nat.add_1_r.",
                        "VernacExtend",
                        "d7b85f9d0d32da3ac1e1285da2dfbd391310bf56"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite apply_log_app.",
                        "VernacExtend",
                        "4617b28fbdfca150e5c88ad0eaa45582d3ea10a3"
                    ]
                },
                {
                    "command": [
                        "match goal with | H : context [apply_log] |- _ => rewrite H end.",
                        "VernacExtend",
                        "10339891515c02f38106ae5cc4461e62a06f9c94"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "match goal with | H : context [net_handlers] |- _ => rewrite H end.",
                        "VernacExtend",
                        "7f51c741f1f968d9efa5750b29595c898778f83e"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "log_input_handlers_spec",
            "line_nb": 70,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "unfold disk_correct in *.",
                        "VernacExtend",
                        "18f181078cbd5d5f9b56247c95fd75460d954cff"
                    ]
                },
                {
                    "command": [
                        "unfold log_input_handlers, log_handler_result in *; break_if; do 2 break_let.",
                        "VernacExtend",
                        "66dd64932a9b54f885c27b5f49e14f57cd9a6f1b"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "find_inversion.",
                        "VernacExtend",
                        "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "exists IOStreamWriter.empty, [], d.",
                        "VernacExtend",
                        "4c61c8e99b47a2d764926e790d3b2bb111a85e95"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "find_inversion.",
                        "VernacExtend",
                        "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "break_exists.",
                        "VernacExtend",
                        "7914403b406cb602431a8c9ec3a15a70b4d83870"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "match goal with | _ : dsk Log = Some ?s, _ : apply_log _ ?d ?entries = _ |- _ => exists (s +$+ (serialize (inl m : entry))), (entries ++ [inl m]), d end.",
                        "VernacExtend",
                        "79f8e03971d3f3a562b11b943b37030bb55b201e"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "match goal with | H : context [log_num_entries] |- _ => rewrite H end.",
                        "VernacExtend",
                        "9be9c72bf1c776a74505546946ec87f52574fe6f"
                    ]
                },
                {
                    "command": [
                        "rewrite app_length.",
                        "VernacExtend",
                        "b9244791fd1e7d821ced2461a10375e028945296"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "rewrite NPeano.Nat.add_1_r.",
                        "VernacExtend",
                        "d7b85f9d0d32da3ac1e1285da2dfbd391310bf56"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "break_match.",
                        "VernacExtend",
                        "b2bc690b7d230eee6ff83ec2752e6c3ed02d2594"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "find_inversion.",
                        "VernacExtend",
                        "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "congruence.",
                        "VernacExtend",
                        "d8c818f6cffeaee6a722a71acc77f2d6e5199eb9"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "cheerios_crush.",
                        "VernacExtend",
                        "cd9abf2aaa45ac64ce554017f49d53791fbc9c23"
                    ]
                },
                {
                    "command": [
                        "rewrite serialize_snoc.",
                        "VernacExtend",
                        "4b3912724be2cc53a9f0a97698cb425ea12a5c45"
                    ]
                },
                {
                    "command": [
                        "match goal with | H : IOStreamWriter.unwrap _ = IOStreamWriter.unwrap _ |- _ => rewrite H end.",
                        "VernacExtend",
                        "c9a7850bc8ae0ccaf947aa39cf2c47f6b3addb62"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "match goal with | H : context [log_num_entries] |- _ => rewrite H end.",
                        "VernacExtend",
                        "9be9c72bf1c776a74505546946ec87f52574fe6f"
                    ]
                },
                {
                    "command": [
                        "rewrite app_length.",
                        "VernacExtend",
                        "b9244791fd1e7d821ced2461a10375e028945296"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "rewrite NPeano.Nat.add_1_r.",
                        "VernacExtend",
                        "d7b85f9d0d32da3ac1e1285da2dfbd391310bf56"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite apply_log_app.",
                        "VernacExtend",
                        "4617b28fbdfca150e5c88ad0eaa45582d3ea10a3"
                    ]
                },
                {
                    "command": [
                        "match goal with | H : context [apply_log] |- _ => rewrite H end.",
                        "VernacExtend",
                        "10339891515c02f38106ae5cc4461e62a06f9c94"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "match goal with | H : context [input_handlers] |- _ => rewrite H end.",
                        "VernacExtend",
                        "1adec969094c2a0ff2e4e2f8dc9589b70bcc06e6"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "disk_correct_reboot",
            "line_nb": 117,
            "steps": [
                {
                    "command": [
                        "intros net h d dsk H_correct H_reboot.",
                        "VernacExtend",
                        "aac990988a158976e4dfb6cd54e408da0f0933cd"
                    ]
                },
                {
                    "command": [
                        "unfold do_log_reboot, disk_to_channel, channel_to_log, from_channel in *.",
                        "VernacExtend",
                        "8392d4d023f7fcb6dc47afe1be24082869e0eb90"
                    ]
                },
                {
                    "command": [
                        "unfold disk_correct in *.",
                        "VernacExtend",
                        "18f181078cbd5d5f9b56247c95fd75460d954cff"
                    ]
                },
                {
                    "command": [
                        "break_exists.",
                        "VernacExtend",
                        "7914403b406cb602431a8c9ec3a15a70b4d83870"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "repeat find_rewrite.",
                        "VernacExtend",
                        "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite IOStreamWriter.channel_wrap_unwrap in *.",
                        "VernacExtend",
                        "db13df00ccc438fcfc9efbc80a5b3e082e0e059a"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite serialize_deserialize_id_nil in H_reboot.",
                        "VernacExtend",
                        "01148be5589bff38d722c13328a95d587c48242c"
                    ]
                },
                {
                    "command": [
                        "rewrite <- (app_nil_r (IOStreamWriter.unwrap _)) in H_reboot.",
                        "VernacExtend",
                        "1b171d41d4f019d54a01b26fff8cd0171a3b16c8"
                    ]
                },
                {
                    "command": [
                        "repeat find_rewrite.",
                        "VernacExtend",
                        "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
                    ]
                },
                {
                    "command": [
                        "rewrite list_serialize_deserialize_id_rec in H_reboot.",
                        "VernacExtend",
                        "057bb86f985b55103d8a6b3951b1c07d37b24db9"
                    ]
                },
                {
                    "command": [
                        "find_inversion.",
                        "VernacExtend",
                        "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
                    ]
                },
                {
                    "command": [
                        "exists (IOStreamWriter.empty).",
                        "VernacExtend",
                        "9d0eac358a951b712058aaf921595a9443b99cc7"
                    ]
                },
                {
                    "command": [
                        "exists [].",
                        "VernacExtend",
                        "0124358b905f1434771624034a4e7386196b0a4b"
                    ]
                },
                {
                    "command": [
                        "exists (reboot (apply_log h x1 x0)).",
                        "VernacExtend",
                        "4ab971c1b927bf5f83353a478bf900836d9ac85a"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "disk_correct_invariant",
            "line_nb": 135,
            "steps": [
                {
                    "command": [
                        "intros net failed tr H_st h.",
                        "VernacExtend",
                        "e0cd4bb35c6b1aed6f4ece02a0bd124ff2cb555f"
                    ]
                },
                {
                    "command": [
                        "remember step_failure_disk_ops_init as x.",
                        "VernacExtend",
                        "6999b1db289b7550cde1998a0adab3d5e935782c"
                    ]
                },
                {
                    "command": [
                        "change net with (snd (failed, net)).",
                        "VernacExtend",
                        "d19cf9b3967cea4538b1bae5e5f5114a15451609"
                    ]
                },
                {
                    "command": [
                        "induction H_st using refl_trans_1n_trace_n1_ind.",
                        "VernacExtend",
                        "e5d72e4f8dd4ba427e93b57fc50f9b3af2021fff"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "subst.",
                        "VernacExtend",
                        "ccc9cb848804101be22a0bb6c324861981c5c7f1"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "unfold disk_correct.",
                        "VernacExtend",
                        "4f52e47f2bf9810c200177252d363f7228e57fb2"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "exists IOStreamWriter.empty, [], (init_handlers h).",
                        "VernacExtend",
                        "db9acf66495553324ebe0f6aca4000bd0533a4d7"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "concludes.",
                        "VernacExtend",
                        "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
                    ]
                },
                {
                    "command": [
                        "match goal with H : step_failure_disk_ops _ _ _ |- _ => invcs H end.",
                        "VernacExtend",
                        "27116b8dce5ea97a8f01d1fe9b137ea5718be9b0"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "break_if.",
                        "VernacExtend",
                        "c247550e3c86ef9b38eaa4d1de30a9b2a63ba8cb"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "rewrite e in *.",
                        "VernacExtend",
                        "4c506eddfe08576f2ba60dc4024c518a5ef4dd81"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "match goal with | [G : disk_correct _ _ _, H : log_net_handlers _ _ _ _ _ = _ |- _] => apply (log_net_handlers_spec _ _ _ _ _ _ _ _ _ _ G H) end.",
                        "VernacExtend",
                        "96040b26b39fdca4a164fb40047f6c2e75b43eca"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "assumption.",
                        "VernacExtend",
                        "41f0308313ff87e6ab2782f90d6021ec4b55d932"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "break_if.",
                        "VernacExtend",
                        "c247550e3c86ef9b38eaa4d1de30a9b2a63ba8cb"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "rewrite e in *.",
                        "VernacExtend",
                        "4c506eddfe08576f2ba60dc4024c518a5ef4dd81"
                    ]
                },
                {
                    "command": [
                        "match goal with | [G : disk_correct _ _ _, H : log_input_handlers _ _ _ _ = _ |- _] => apply (log_input_handlers_spec _ _ _ _ _ _ _ _ _ G H) end.",
                        "VernacExtend",
                        "1bd054bbd50043b58759c0a01435c430a661313d"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "assumption.",
                        "VernacExtend",
                        "41f0308313ff87e6ab2782f90d6021ec4b55d932"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "assumption.",
                        "VernacExtend",
                        "41f0308313ff87e6ab2782f90d6021ec4b55d932"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "assumption.",
                        "VernacExtend",
                        "41f0308313ff87e6ab2782f90d6021ec4b55d932"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "assumption.",
                        "VernacExtend",
                        "41f0308313ff87e6ab2782f90d6021ec4b55d932"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "break_if.",
                        "VernacExtend",
                        "c247550e3c86ef9b38eaa4d1de30a9b2a63ba8cb"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "repeat find_rewrite.",
                        "VernacExtend",
                        "2e0f7af91fb6dc6a2928bc530dda4cfbd03d3e68"
                    ]
                },
                {
                    "command": [
                        "find_apply_lem_hyp disk_correct_reboot; assumption.",
                        "VernacExtend",
                        "93bd55ecdc8770239f0db05e9224206d6de65547"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "assumption.",
                        "VernacExtend",
                        "41f0308313ff87e6ab2782f90d6021ec4b55d932"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "reboot_invariant",
            "line_nb": 182,
            "steps": [
                {
                    "command": [
                        "intros net failed tr H_st h d dsk H_reboot.",
                        "VernacExtend",
                        "3c6569f93651619e77eaff8857a97be95d23bf07"
                    ]
                },
                {
                    "command": [
                        "apply disk_correct_invariant with (h := h) in H_st.",
                        "VernacExtend",
                        "06880636535ec19a99b8ac21b50a89db036cde59"
                    ]
                },
                {
                    "command": [
                        "unfold disk_correct in *.",
                        "VernacExtend",
                        "18f181078cbd5d5f9b56247c95fd75460d954cff"
                    ]
                },
                {
                    "command": [
                        "break_exists.",
                        "VernacExtend",
                        "7914403b406cb602431a8c9ec3a15a70b4d83870"
                    ]
                },
                {
                    "command": [
                        "intuition.",
                        "VernacExtend",
                        "ebd9388eeb482972743f9cce5cbddbd85ca5bdfd"
                    ]
                },
                {
                    "command": [
                        "simpl in *.",
                        "VernacExtend",
                        "5f89d9715fcf9b11bc0d0aadc658e9b10c47b606"
                    ]
                },
                {
                    "command": [
                        "unfold do_log_reboot, channel_to_log, disk_to_channel in *.",
                        "VernacExtend",
                        "610b6e16b8e3b1400518f519e25e4713f8a7d3e2"
                    ]
                },
                {
                    "command": [
                        "find_inversion.",
                        "VernacExtend",
                        "f1dd355c7c2f63f8f275fc6f55ac72ee2c39f687"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "repeat match goal with | H : nwdoDisk net h _ = Some _ |- _ => rewrite H end.",
                        "VernacExtend",
                        "c7ec17e5de22035a6f27fe9c2c24a0f45321e1a2"
                    ]
                },
                {
                    "command": [
                        "unfold from_channel.",
                        "VernacExtend",
                        "eaab28dcc7ce66039a387981d4db9cd2313aa187"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite IOStreamWriter.channel_wrap_unwrap in *.",
                        "VernacExtend",
                        "db13df00ccc438fcfc9efbc80a5b3e082e0e059a"
                    ]
                },
                {
                    "command": [
                        "rewrite serialize_deserialize_id_nil.",
                        "VernacExtend",
                        "9c9f86ad47e17a61cfb5f2a4f2708bd52378c7aa"
                    ]
                },
                {
                    "command": [
                        "rewrite <- (app_nil_r (IOStreamWriter.unwrap _)).",
                        "VernacExtend",
                        "6649829354b6599d20a00b29e0c49dcbf084ddb1"
                    ]
                },
                {
                    "command": [
                        "match goal with | H : IOStreamWriter.unwrap _ = IOStreamWriter.unwrap _ |- _ => rewrite H end.",
                        "VernacExtend",
                        "c9a7850bc8ae0ccaf947aa39cf2c47f6b3addb62"
                    ]
                },
                {
                    "command": [
                        "rewrite nat_serialize_deserialize_id.",
                        "VernacExtend",
                        "32b5c550cc68fa034fb3435de30fef9e75439ac1"
                    ]
                },
                {
                    "command": [
                        "rewrite (app_nil_end (IOStreamWriter.unwrap _)).",
                        "VernacExtend",
                        "bf0fa3845cb4ddecc5cf0c37938b3446499f686b"
                    ]
                },
                {
                    "command": [
                        "rewrite list_serialize_deserialize_id_rec.",
                        "VernacExtend",
                        "e666185587a29ff9d9f1f2868bef9f66b46a70a4"
                    ]
                },
                {
                    "command": [
                        "find_rewrite.",
                        "VernacExtend",
                        "7a65e4f552b93330a384f7173c61cfa61058bef5"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "log_step_failure_step",
            "line_nb": 210,
            "steps": [
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "assert (revert_packets : forall net, nwPackets (revertLogNetwork net) = map revertPacket (nwdoPackets net)) by reflexivity.",
                        "VernacExtend",
                        "b83e526077414cea2f4f57f13bbfe3b046dc8990"
                    ]
                },
                {
                    "command": [
                        "assert (revert_send : forall l h, map revertPacket (do_send_packets h l) = send_packets h l).",
                        "VernacExtend",
                        "8512655f16da2242da77774949001ffc0e7a378d"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "induction l.",
                        "VernacExtend",
                        "1194af70832939708f8c7fde2f18f81c37b97a0c"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "now rewrite IHl.",
                        "VernacExtend",
                        "7467d02c87aa8e869ce52469e192a7cb32440c08"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "assert (apply_if : forall h d, (fun h0 : name => log_data (if name_eq_dec h0 h then d else nwdoState net h0)) = (fun h0 : name => if name_eq_dec h0 h then log_data d else log_data (nwdoState net h0))).",
                        "VernacExtend",
                        "6f7e183b32c1952c67e6b65669c285ecf907fcb6"
                    ]
                },
                {
                    "command": [
                        "{",
                        "VernacSubproof",
                        "184cabd02aa0a33f23f10474ea95789b1f149361"
                    ]
                },
                {
                    "command": [
                        "intros.",
                        "VernacExtend",
                        "1b4df911c5412d25278e46f48402870ba987996b"
                    ]
                },
                {
                    "command": [
                        "extensionality h0.",
                        "VernacExtend",
                        "7496a768c8542ffd069fc25146fe06d3e7e964b8"
                    ]
                },
                {
                    "command": [
                        "break_if; reflexivity.",
                        "VernacExtend",
                        "370c1ca340fd35fbf9050ee7cbe8fb8062a6a261"
                    ]
                },
                {
                    "command": [
                        "}",
                        "VernacEndSubproof",
                        "85f27874ef16421341373f4b062b6d1605043af9"
                    ]
                },
                {
                    "command": [
                        "invcs H0.",
                        "VernacExtend",
                        "049d5efe847b95b9b5a0ab845cb2c978d28b2976"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "unfold revertLogNetwork.",
                        "VernacExtend",
                        "720e15749570ac19ec0adaf6a9a4cf272dc323de"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "find_rewrite.",
                        "VernacExtend",
                        "7a65e4f552b93330a384f7173c61cfa61058bef5"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite map_app.",
                        "VernacExtend",
                        "b6a6ee1d9a8c82aa32dd632bf20f37a46c6ebb72"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "rewrite revert_send.",
                        "VernacExtend",
                        "757fbe828a7cfc80e6d69a59d457ca6edf8a2d72"
                    ]
                },
                {
                    "command": [
                        "assert (revert_packet : do_pDst p = pDst (revertPacket p)) by reflexivity.",
                        "VernacExtend",
                        "6460b7106f230fc60f1143385bc75443e2b0d1ad"
                    ]
                },
                {
                    "command": [
                        "rewrite revert_packet in *.",
                        "VernacExtend",
                        "15d02e33ca73ea51ae67622c6bfcbe69fe5a45f6"
                    ]
                },
                {
                    "command": [
                        "apply StepFailure_deliver with (xs0 := map revertPacket xs) (ys0 := map revertPacket ys) (d0 := log_data d) (l0 := l).",
                        "VernacExtend",
                        "6a9e836796098f28bdd0014d1abe1c055b1ce41c"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "assumption.",
                        "VernacExtend",
                        "41f0308313ff87e6ab2782f90d6021ec4b55d932"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "unfold log_net_handlers, log_handler_result in *.",
                        "VernacExtend",
                        "ff9637dc70cb0a7a01b7d96157670aa4160b084f"
                    ]
                },
                {
                    "command": [
                        "break_let.",
                        "VernacExtend",
                        "0d8806c04d7bd574741dfa032ad14204e251f21e"
                    ]
                },
                {
                    "command": [
                        "break_let.",
                        "VernacExtend",
                        "0d8806c04d7bd574741dfa032ad14204e251f21e"
                    ]
                },
                {
                    "command": [
                        "break_if; find_inversion; rewrite revert_packet in *; assumption.",
                        "VernacExtend",
                        "595c1555f049de8b53bfc4f528024bf08a1d08e2"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "rewrite apply_if.",
                        "VernacExtend",
                        "e849bafe893cb587532d4c09104d919bf729887c"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "unfold revertLogNetwork.",
                        "VernacExtend",
                        "720e15749570ac19ec0adaf6a9a4cf272dc323de"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "repeat rewrite map_app.",
                        "VernacExtend",
                        "b6a6ee1d9a8c82aa32dd632bf20f37a46c6ebb72"
                    ]
                },
                {
                    "command": [
                        "rewrite revert_send.",
                        "VernacExtend",
                        "757fbe828a7cfc80e6d69a59d457ca6edf8a2d72"
                    ]
                },
                {
                    "command": [
                        "apply StepFailure_input with (d0 := log_data d) (l0 := l).",
                        "VernacExtend",
                        "ded05cd5954b17a38472b78a0fe0cab16caa2004"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "assumption.",
                        "VernacExtend",
                        "41f0308313ff87e6ab2782f90d6021ec4b55d932"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "unfold log_input_handlers, log_handler_result in *.",
                        "VernacExtend",
                        "81a4b3ad2c707794837006078103bcfcfd2bdc1b"
                    ]
                },
                {
                    "command": [
                        "do 2 break_let.",
                        "VernacExtend",
                        "b17ca79580f2f422519f05c90eaa1c90bae27ef4"
                    ]
                },
                {
                    "command": [
                        "break_if; find_inversion; assumption.",
                        "VernacExtend",
                        "fc79416d79384f7e8ddcc0694b661319771e20b1"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite apply_if.",
                        "VernacExtend",
                        "e849bafe893cb587532d4c09104d919bf729887c"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "unfold revertLogNetwork.",
                        "VernacExtend",
                        "720e15749570ac19ec0adaf6a9a4cf272dc323de"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "find_rewrite.",
                        "VernacExtend",
                        "7a65e4f552b93330a384f7173c61cfa61058bef5"
                    ]
                },
                {
                    "command": [
                        "rewrite map_app.",
                        "VernacExtend",
                        "89eca143edf6436bb079a40b9fedf852073d1711"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "apply StepFailure_drop with (xs0 := map revertPacket xs) (p0 := revertPacket p) (ys0 := map revertPacket ys).",
                        "VernacExtend",
                        "0239396c1cce858e1c3695a07644da025191c81c"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "rewrite map_app.",
                        "VernacExtend",
                        "89eca143edf6436bb079a40b9fedf852073d1711"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "unfold revertLogNetwork.",
                        "VernacExtend",
                        "720e15749570ac19ec0adaf6a9a4cf272dc323de"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "find_rewrite.",
                        "VernacExtend",
                        "7a65e4f552b93330a384f7173c61cfa61058bef5"
                    ]
                },
                {
                    "command": [
                        "rewrite map_app.",
                        "VernacExtend",
                        "89eca143edf6436bb079a40b9fedf852073d1711"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "apply (@StepFailure_dup _ _ _ _ _ _ (revertPacket p) (map revertPacket xs) (map revertPacket ys)).",
                        "VernacExtend",
                        "3056e4fd04a19707e49aea55364c70ae4fbe8cf2"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "constructor.",
                        "VernacExtend",
                        "3c77e6be855b5086df5e918bf2a0537e1010479a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "apply StepFailure_reboot with (h0 := h).",
                        "VernacExtend",
                        "cc8026a8598308d574ba7c5474d17c0d580971a6"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "assumption.",
                        "VernacExtend",
                        "41f0308313ff87e6ab2782f90d6021ec4b55d932"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "unfold revertLogNetwork.",
                        "VernacExtend",
                        "720e15749570ac19ec0adaf6a9a4cf272dc323de"
                    ]
                },
                {
                    "command": [
                        "simpl.",
                        "VernacExtend",
                        "1b93169f4cf876d207c1fab22a2347202ab48d85"
                    ]
                },
                {
                    "command": [
                        "apply reboot_invariant with (h := h) (d := d) (dsk := ops) in H.",
                        "VernacExtend",
                        "76293716c6df899d4fc8a8835cab672f6d030f98"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "rewrite <- H.",
                        "VernacExtend",
                        "95b84807b4afb2ef79b7cc04a1c91a4e3a502e47"
                    ]
                },
                {
                    "command": [
                        "rewrite apply_if.",
                        "VernacExtend",
                        "e849bafe893cb587532d4c09104d919bf729887c"
                    ]
                },
                {
                    "command": [
                        "reflexivity.",
                        "VernacExtend",
                        "5cd1ae044f26cd6d89a5a5147c1d4fc5fc719d83"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "assumption.",
                        "VernacExtend",
                        "41f0308313ff87e6ab2782f90d6021ec4b55d932"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "log_step_failure_star_simulation",
            "line_nb": 311,
            "steps": [
                {
                    "command": [
                        "intros net failed tr H_star.",
                        "VernacExtend",
                        "66af708441f7a089302cf0d5af2d3d00254f8576"
                    ]
                },
                {
                    "command": [
                        "remember step_failure_disk_ops_init as y in *.",
                        "VernacExtend",
                        "439487983d5ed7b38fc451057d7efa70874f0c07"
                    ]
                },
                {
                    "command": [
                        "change failed with (fst (failed, net)).",
                        "VernacExtend",
                        "8ec9eb93c8ace47db2e8dcedcbbae8b2f7ac04c2"
                    ]
                },
                {
                    "command": [
                        "change net with (snd (failed, net)) at 2.",
                        "VernacExtend",
                        "5bf30960acb77fa0044d8f3df5ebc3ee17dfd438"
                    ]
                },
                {
                    "command": [
                        "revert Heqy.",
                        "VernacExtend",
                        "84b1c231a4ae147df0b79569d8b6897a29e75bc2"
                    ]
                },
                {
                    "command": [
                        "induction H_star using refl_trans_1n_trace_n1_ind; intro H_init.",
                        "VernacExtend",
                        "d5f0db6d2abdcee3a6da447e632d3bfcb10a4bc4"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "find_rewrite.",
                        "VernacExtend",
                        "7a65e4f552b93330a384f7173c61cfa61058bef5"
                    ]
                },
                {
                    "command": [
                        "simpl; unfold revertLogNetwork; simpl.",
                        "VernacExtend",
                        "0cf6ff32c4810f3f07d6db214b1f0b035ec51d17"
                    ]
                },
                {
                    "command": [
                        "unfold step_failure_init, step_async_init.",
                        "VernacExtend",
                        "ddc932919e8145003aa48f1a2630d35c6c9e0e62"
                    ]
                },
                {
                    "command": [
                        "constructor.",
                        "VernacExtend",
                        "3c77e6be855b5086df5e918bf2a0537e1010479a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "concludes.",
                        "VernacExtend",
                        "3697d2f68611e2ea2e021baaf4e64cd81f6b62ed"
                    ]
                },
                {
                    "command": [
                        "destruct x' as (failed', net').",
                        "VernacExtend",
                        "cb8d84a5ead4b243314861aba99ca40107fea420"
                    ]
                },
                {
                    "command": [
                        "destruct x'' as (failed'', net'').",
                        "VernacExtend",
                        "dc926e9f84f7bb26e9c29deaf43b1ccff46f4d75"
                    ]
                },
                {
                    "command": [
                        "subst.",
                        "VernacExtend",
                        "ccc9cb848804101be22a0bb6c324861981c5c7f1"
                    ]
                },
                {
                    "command": [
                        "apply RT1n_step with (y := (failed', revertLogNetwork net')).",
                        "VernacExtend",
                        "aac0012524ccf7055f5c4840e14b5ee752d22504"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "apply IHH_star1.",
                        "VernacExtend",
                        "1bcd257e18cd0ede9b3be7692e8c21d29dfc49d7"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "eapply log_step_failure_step; eauto.",
                        "VernacExtend",
                        "083c81d80a8ef5b69fed36a022d4dc6ca7326d14"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}