{
    "filename": "src/Cecoa/OptionMonad.v",
    "coq_project": "cecoa",
    "vernac_cmds": [
        [
            "Require Import List.",
            "VernacRequire",
            "d9bcce4a390afeb160107bf87c6f7abe3d82c6d6"
        ],
        [
            "Definition option_bind {A B: Type} (f : A -> option B) (x : option A) := match x with | None => None | Some y => f y end.",
            "VernacDefinition",
            "11bbcf3ff21018714f4dcba8cfedd91940769685"
        ],
        [
            "Fixpoint option_list_map {A : Type} (l : list (option A)) : option (list A) := match l with | nil => Some nil | Some h :: t => option_map (cons h) (option_list_map t) | _ => None end.",
            "VernacFixpoint",
            "1e7863526ae8c5fa73109c05f9e0504d5e72fab6"
        ],
        [
            "Lemma option_list_map_Some {A : Type} (l : list (option A)) v: option_list_map l = Some v -> forall x, In x l -> exists vx, x = Some vx.",
            "VernacStartTheoremProof",
            "e24f24ab80fd90ca92d5468d4be75daa321a81c7"
        ],
        [
            "revert v; induction l; intros v H x Hin; simpl option_list_map in H.",
            "VernacExtend",
            "57c6582dca74d40b47d16cfee5149b9c92d2a692"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inversion Hin.",
            "VernacExtend",
            "12565892893f67d572b7c636dc1deea94b8b309f"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "destruct Hin as [Ha | Hl].",
            "VernacExtend",
            "32c1bc52da9d2e8e4a18c1aa8f0918025b98a837"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "subst.",
            "VernacExtend",
            "ccc9cb848804101be22a0bb6c324861981c5c7f1"
        ],
        [
            "destruct x.",
            "VernacExtend",
            "24973a7b5353196d2d5bd2a7e0fe5cfacd5f4460"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "inversion H.",
            "VernacExtend",
            "ee20838bdd77512b43142d655a3924bf07bffebb"
        ],
        [
            "+",
            "VernacBullet",
            "3ddfc0515f916e562bacf863647e0107cb15aa13"
        ],
        [
            "destruct a as [ a |]; [| inversion H].",
            "VernacExtend",
            "ff2e32c95eb36fb6e913df0af7ace2ee646c084c"
        ],
        [
            "destruct (option_list_map l) as [ ll |].",
            "VernacExtend",
            "94e02328afd7c3effb0e33b212e223180ad77cf9"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "*",
            "VernacBullet",
            "8a329d054468e0c41ce333043e0978e30eed7b98"
        ],
        [
            "inversion H.",
            "VernacExtend",
            "ee20838bdd77512b43142d655a3924bf07bffebb"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma option_list_map_map {A : Type} (l : list (option A)) f : (forall x, In x l -> x = Some (f x)) -> option_list_map l = Some (map f l).",
            "VernacStartTheoremProof",
            "2dc7d4d4426258de5428c788c264b81ae646d99c"
        ],
        [
            "induction l; intros H.",
            "VernacExtend",
            "2874c41797c4d09b583b03102376f34652addc7e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "unfold option_list_map; trivial.",
            "VernacExtend",
            "22b78e339842b71cc17f1d51a7f73ecbcbacf491"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "assert (Ha : a = Some (f a)) by auto with *.",
            "VernacExtend",
            "c9352d2ad9ccc95ba7fc7709c7391a2f81ca3768"
        ],
        [
            "rewrite Ha.",
            "VernacExtend",
            "db99b88bb3732768157ba3daf5d3a4fc59534398"
        ],
        [
            "assert (Hl : option_list_map l = Some (map f l)) by auto with *.",
            "VernacExtend",
            "314c3e68bdee11f4d0d19e5c9b1ac17ed1ba97c8"
        ],
        [
            "unfold option_list_map, option_map in *.",
            "VernacExtend",
            "f22f0a612eae37974c02006852c024c0ea90c79b"
        ],
        [
            "now rewrite Hl, <- Ha.",
            "VernacExtend",
            "868cf2b721c09b3fb95a57e85ab1078e6057555d"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Definition complete_option {A : Type} x0 (x : option A) : A := match x with | None => x0 | Some x => x end.",
            "VernacDefinition",
            "13ce857e968a603f87e85acadf7dde76810aeae7"
        ],
        [
            "Definition option_le x y : Prop := exists vx vy, x = Some vx /\\ y = Some vy /\\ le vx vy.",
            "VernacDefinition",
            "fa0f0cec40a30449b05eb59a3b7ed77e62e46108"
        ],
        [
            "Notation \"x \u2264p y\" := (option_le x y) (at level 60).",
            "VernacNotation",
            "9228f4cad2c509659ce05aaa9f3aee98c887481c"
        ],
        [
            "Definition option_choice {A B: Type} (f g: A -> option B) x := match f x with | Some v => Some v | None => g x end.",
            "VernacDefinition",
            "307b8da9b059e9e60d3e9e1f04c68e9e5212876a"
        ],
        [
            "Notation \" f ;; g \" := (option_choice f g) (at level 60).",
            "VernacNotation",
            "edf97b00802b38d093c0025ea8fcfe84913a37c4"
        ],
        [
            "Lemma option_choice_assoc {A B: Type} (f g h : A -> option B) x: (f;;(g;;h)) x = (f;;g;;h) x.",
            "VernacStartTheoremProof",
            "d6e7d99ccd691a37fe1465633af75510c430e23d"
        ],
        [
            "unfold option_choice.",
            "VernacExtend",
            "8e750f11018d27b1da243abc6840645f7b3f4439"
        ],
        [
            "case (f x); trivial.",
            "VernacExtend",
            "07435d7a53f697847b64b9c18d140d23829792af"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma option_choice_none_right {A B: Type} (f : A -> option B) x: (f;;fun _ => None) x = f x.",
            "VernacStartTheoremProof",
            "1385336a729f09d61e4e85720b8b05f8f1ac64f3"
        ],
        [
            "unfold option_choice; case (f x); trivial.",
            "VernacExtend",
            "bd9ef3caa7b291a6bbfeeb1b1f577382102436c3"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma option_choice_none_left {A B: Type} (f : A -> option B) x : ((fun _ => None) ;; f) x = f x.",
            "VernacStartTheoremProof",
            "ea57937980f6099ba7bd482a89967b96387fccfd"
        ],
        [
            "unfold option_choice; case (f x); trivial.",
            "VernacExtend",
            "bd9ef3caa7b291a6bbfeeb1b1f577382102436c3"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma option_choice_ext_left {A B: Type} (f f' g: A -> option B) x: (forall x, f x = f' x) -> (f;;g) x = (f';; g) x.",
            "VernacStartTheoremProof",
            "ec60a665fa6a7e12f4a675ee444e5645a6c31a7d"
        ],
        [
            "intro H; unfold option_choice.",
            "VernacExtend",
            "ade6f0288e38da23a7d8eea637dc09cce57b2050"
        ],
        [
            "case_eq (f x); simpl.",
            "VernacExtend",
            "487cd742202e1e77cb043b68d768b83b34b20d24"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros v Hv; now rewrite <- H, Hv.",
            "VernacExtend",
            "ac20119ba77e19f4c10bc7ea2ad9f02c560c285a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "intros Hnone; now rewrite <- H, Hnone.",
            "VernacExtend",
            "3872a376408d8973e04960184e371af0c46225be"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma option_choice_ext_right {A B: Type} (f f' g: A -> option B) x: (forall x, f x = f' x) -> (g;;f) x = (g;;f') x.",
            "VernacStartTheoremProof",
            "d4e8045cd3077b40996964226b7c4a667739e229"
        ],
        [
            "intro H; unfold option_choice; case_eq (g x); simpl; trivial.",
            "VernacExtend",
            "343b5b9dca0951d62737c380639da15f212b109a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma option_map_Some {A B : Type} (f : A -> B) x v: option_map f x = Some v -> exists v', x = Some v'.",
            "VernacStartTheoremProof",
            "62af1968f4123cfdbf2da2a5f3ec8d2b9442caf1"
        ],
        [
            "intro H.",
            "VernacExtend",
            "a9535760040671e8853f25f0b4e9eda38ca392a6"
        ],
        [
            "destruct x as [v' |].",
            "VernacExtend",
            "caf728e71fa4bff3dc62e96f7fdb777b75adc07a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inversion H.",
            "VernacExtend",
            "ee20838bdd77512b43142d655a3924bf07bffebb"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Lemma option_bind_Some {A B : Type} (f : A -> option B) x v: option_bind f x = Some v -> exists v', x = Some v' /\\ f v' = Some v.",
            "VernacStartTheoremProof",
            "d5cf56211c9fb8d0d5024a14de1adf84c299fc10"
        ],
        [
            "intro H.",
            "VernacExtend",
            "a9535760040671e8853f25f0b4e9eda38ca392a6"
        ],
        [
            "destruct x as [v' |].",
            "VernacExtend",
            "caf728e71fa4bff3dc62e96f7fdb777b75adc07a"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "eauto.",
            "VernacExtend",
            "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "inversion H.",
            "VernacExtend",
            "ee20838bdd77512b43142d655a3924bf07bffebb"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ]
    ],
    "proofs": [
        {
            "name": "option_list_map_Some",
            "line_nb": 3,
            "steps": [
                {
                    "command": [
                        "revert v; induction l; intros v H x Hin; simpl option_list_map in H.",
                        "VernacExtend",
                        "57c6582dca74d40b47d16cfee5149b9c92d2a692"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "inversion Hin.",
                        "VernacExtend",
                        "12565892893f67d572b7c636dc1deea94b8b309f"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "destruct Hin as [Ha | Hl].",
                        "VernacExtend",
                        "32c1bc52da9d2e8e4a18c1aa8f0918025b98a837"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "subst.",
                        "VernacExtend",
                        "ccc9cb848804101be22a0bb6c324861981c5c7f1"
                    ]
                },
                {
                    "command": [
                        "destruct x.",
                        "VernacExtend",
                        "24973a7b5353196d2d5bd2a7e0fe5cfacd5f4460"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "eauto.",
                        "VernacExtend",
                        "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "inversion H.",
                        "VernacExtend",
                        "ee20838bdd77512b43142d655a3924bf07bffebb"
                    ]
                },
                {
                    "command": [
                        "+",
                        "VernacBullet",
                        "3ddfc0515f916e562bacf863647e0107cb15aa13"
                    ]
                },
                {
                    "command": [
                        "destruct a as [ a |]; [| inversion H].",
                        "VernacExtend",
                        "ff2e32c95eb36fb6e913df0af7ace2ee646c084c"
                    ]
                },
                {
                    "command": [
                        "destruct (option_list_map l) as [ ll |].",
                        "VernacExtend",
                        "94e02328afd7c3effb0e33b212e223180ad77cf9"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "eauto.",
                        "VernacExtend",
                        "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
                    ]
                },
                {
                    "command": [
                        "*",
                        "VernacBullet",
                        "8a329d054468e0c41ce333043e0978e30eed7b98"
                    ]
                },
                {
                    "command": [
                        "inversion H.",
                        "VernacExtend",
                        "ee20838bdd77512b43142d655a3924bf07bffebb"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "option_list_map_map",
            "line_nb": 24,
            "steps": [
                {
                    "command": [
                        "induction l; intros H.",
                        "VernacExtend",
                        "2874c41797c4d09b583b03102376f34652addc7e"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "unfold option_list_map; trivial.",
                        "VernacExtend",
                        "22b78e339842b71cc17f1d51a7f73ecbcbacf491"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "assert (Ha : a = Some (f a)) by auto with *.",
                        "VernacExtend",
                        "c9352d2ad9ccc95ba7fc7709c7391a2f81ca3768"
                    ]
                },
                {
                    "command": [
                        "rewrite Ha.",
                        "VernacExtend",
                        "db99b88bb3732768157ba3daf5d3a4fc59534398"
                    ]
                },
                {
                    "command": [
                        "assert (Hl : option_list_map l = Some (map f l)) by auto with *.",
                        "VernacExtend",
                        "314c3e68bdee11f4d0d19e5c9b1ac17ed1ba97c8"
                    ]
                },
                {
                    "command": [
                        "unfold option_list_map, option_map in *.",
                        "VernacExtend",
                        "f22f0a612eae37974c02006852c024c0ea90c79b"
                    ]
                },
                {
                    "command": [
                        "now rewrite Hl, <- Ha.",
                        "VernacExtend",
                        "868cf2b721c09b3fb95a57e85ab1078e6057555d"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "option_choice_assoc",
            "line_nb": 40,
            "steps": [
                {
                    "command": [
                        "unfold option_choice.",
                        "VernacExtend",
                        "8e750f11018d27b1da243abc6840645f7b3f4439"
                    ]
                },
                {
                    "command": [
                        "case (f x); trivial.",
                        "VernacExtend",
                        "07435d7a53f697847b64b9c18d140d23829792af"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "option_choice_none_right",
            "line_nb": 44,
            "steps": [
                {
                    "command": [
                        "unfold option_choice; case (f x); trivial.",
                        "VernacExtend",
                        "bd9ef3caa7b291a6bbfeeb1b1f577382102436c3"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "option_choice_none_left",
            "line_nb": 47,
            "steps": [
                {
                    "command": [
                        "unfold option_choice; case (f x); trivial.",
                        "VernacExtend",
                        "bd9ef3caa7b291a6bbfeeb1b1f577382102436c3"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "option_choice_ext_left",
            "line_nb": 50,
            "steps": [
                {
                    "command": [
                        "intro H; unfold option_choice.",
                        "VernacExtend",
                        "ade6f0288e38da23a7d8eea637dc09cce57b2050"
                    ]
                },
                {
                    "command": [
                        "case_eq (f x); simpl.",
                        "VernacExtend",
                        "487cd742202e1e77cb043b68d768b83b34b20d24"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros v Hv; now rewrite <- H, Hv.",
                        "VernacExtend",
                        "ac20119ba77e19f4c10bc7ea2ad9f02c560c285a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "intros Hnone; now rewrite <- H, Hnone.",
                        "VernacExtend",
                        "3872a376408d8973e04960184e371af0c46225be"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "option_choice_ext_right",
            "line_nb": 58,
            "steps": [
                {
                    "command": [
                        "intro H; unfold option_choice; case_eq (g x); simpl; trivial.",
                        "VernacExtend",
                        "343b5b9dca0951d62737c380639da15f212b109a"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "option_map_Some",
            "line_nb": 61,
            "steps": [
                {
                    "command": [
                        "intro H.",
                        "VernacExtend",
                        "a9535760040671e8853f25f0b4e9eda38ca392a6"
                    ]
                },
                {
                    "command": [
                        "destruct x as [v' |].",
                        "VernacExtend",
                        "caf728e71fa4bff3dc62e96f7fdb777b75adc07a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eauto.",
                        "VernacExtend",
                        "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "inversion H.",
                        "VernacExtend",
                        "ee20838bdd77512b43142d655a3924bf07bffebb"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "option_bind_Some",
            "line_nb": 69,
            "steps": [
                {
                    "command": [
                        "intro H.",
                        "VernacExtend",
                        "a9535760040671e8853f25f0b4e9eda38ca392a6"
                    ]
                },
                {
                    "command": [
                        "destruct x as [v' |].",
                        "VernacExtend",
                        "caf728e71fa4bff3dc62e96f7fdb777b75adc07a"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "eauto.",
                        "VernacExtend",
                        "d5f3a05ca887c29bb0b422fc64ae2775fea3935e"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "inversion H.",
                        "VernacExtend",
                        "ee20838bdd77512b43142d655a3924bf07bffebb"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}