{
    "filename": "theories/cancelCTC.v",
    "coq_project": "lemma-overloading",
    "vernac_cmds": [
        [
            "From mathcomp Require Import ssreflect ssrbool ssrnat seq eqtype.",
            "VernacRequire",
            "c7945fffede878f7650e15f25cad4b057578691d"
        ],
        [
            "From LemmaOverloading Require Import prelude heaps terms prefix xfindCTC.",
            "VernacRequire",
            "ad879c9ed8babd97c6ac58983998160c5a93265e"
        ],
        [
            "Set Implicit Arguments.",
            "VernacSetOption",
            "9e84ff8896f028601d8aded48c1d4aebe60aa584"
        ],
        [
            "Unset Strict Implicit.",
            "VernacUnsetOption",
            "2842adaf6959318f2042805935c46f513bdc0348"
        ],
        [
            "Unset Printing Implicit Defensive.",
            "VernacUnsetOption",
            "444e5f0be4b25d9b1fd556943a447ec10046d151"
        ],
        [
            "Definition invariant i j t h := [/\\ interp j t = h, subctx i j & valid j t].",
            "VernacDefinition",
            "7d4d0fbf59f5071761f4007f6b1f61f43e2d08e2"
        ],
        [
            "Class Ast (i j : ctx) (t : synheap) (h : heap) := { ast : invariant i j t h}.",
            "VernacInductive",
            "4fd5ff9d3a3feb4b92dacf78946a8523a9641711"
        ],
        [
            "Arguments Ast : clear implicits.",
            "VernacArguments",
            "fc1174de2591e1b661c61560a592364dc47228a2"
        ],
        [
            "Program Instance union_struct i j k t1 t2 h1 h2 (f1 : Ast i j t1 h1) (f2 : Ast j k t2 h2) : Ast i k (t1 ++ t2) (h1 :+ h2) | 3.",
            "VernacInstance",
            "c14e26b10d791282416fcd0c8d0e49ca2b2cbc99"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "case: f1 f2=>[[<- S1 D1]] [[<- S2 D2]].",
            "VernacExtend",
            "e00fff71ff314c991514fc71c41a3556702e444a"
        ],
        [
            "split; first by rewrite interp_cat (interp_subctx D1 S2).",
            "VernacExtend",
            "3763a4b8db689af316a7372b722bb29806ab4fb6"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "by apply: (subctx_trans S1 S2).",
            "VernacExtend",
            "ee1746465e986ababa06bb4e96ee76be726c914a"
        ],
        [
            "by rewrite valid_cat D2 andbT; apply: (valid_subctx S2).",
            "VernacExtend",
            "ee1746465e986ababa06bb4e96ee76be726c914a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Program Instance empty_struct i : Ast i i [::] empty | 1.",
            "VernacInstance",
            "05af9df9733d684f4e8acd5fa13e9fa7a19f8db6"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "split; by [|apply: subctx_refl|].",
            "VernacExtend",
            "9c392753fd6384a52f43e9d349afde47af3b3aa5"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Program Instance pts_struct A hs xs1 x (d : A) (f : XFind xs1 x) : Ast (Context hs xs1) (Context hs seq_of) [:: Pts index_of (dyn d)] (x :-> d) | 2.",
            "VernacInstance",
            "34fae79b371d2d883964eef414e2d0d33e1d9ab1"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "case: f=>[xs2 n /= [H P]]; split; first by rewrite /= H.",
            "VernacExtend",
            "3763a4b8db689af316a7372b722bb29806ab4fb6"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "by split; [apply: prefix_refl|].",
            "VernacExtend",
            "ee1746465e986ababa06bb4e96ee76be726c914a"
        ],
        [
            "by apply/andP; rewrite /= (onth_size H).",
            "VernacExtend",
            "ee1746465e986ababa06bb4e96ee76be726c914a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Program Instance var_struct hs1 xs h (f : XFind hs1 h) : Ast (Context hs1 xs) (Context seq_of xs) [:: Var index_of] h | 1000.",
            "VernacInstance",
            "2f94d9b9d98cf0819e30c0e2f1e9104795e95062"
        ],
        [
            "Next Obligation.",
            "VernacExtend",
            "de5e6a0a7a163af0d8463969c3ff4241d7d5bba0"
        ],
        [
            "case:f=>hs2 n [H1 H2]; split; first by rewrite /= /hlook H1.",
            "VernacExtend",
            "3763a4b8db689af316a7372b722bb29806ab4fb6"
        ],
        [
            "-",
            "VernacBullet",
            "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
        ],
        [
            "by split; [|apply: prefix_refl].",
            "VernacExtend",
            "ee1746465e986ababa06bb4e96ee76be726c914a"
        ],
        [
            "by apply/andP; rewrite /= (onth_size H1).",
            "VernacExtend",
            "ee1746465e986ababa06bb4e96ee76be726c914a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Theorem cancelR j k t1 t2 h1 h2 (f1 : Ast empc j t1 h1) (f2 : Ast j k t2 h2) : def h1 -> h1 = h2 -> eval k (cancel k t1 t2).",
            "VernacStartTheoremProof",
            "fa86d082a7473808c4e69b0ee2ff6548fb5956ac"
        ],
        [
            "case: f1 f2=>[[<- _ I]] [[<- S _]] D H.",
            "VernacExtend",
            "e00fff71ff314c991514fc71c41a3556702e444a"
        ],
        [
            "by apply: cancel_sound; rewrite -(interp_subctx I S).",
            "VernacExtend",
            "ee1746465e986ababa06bb4e96ee76be726c914a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ],
        [
            "Arguments cancelR [j k t1 t2 h1 h2 f1 f2].",
            "VernacArguments",
            "ee0f58100f2f44f97915b1ac44f866a050d6bc04"
        ],
        [
            "Example ex1 x (h:heap) (v1 v2:nat): def (x :-> v1) -> x :-> v1 = x :-> v2 -> if v1 == v2 then true else false.",
            "VernacDefinition",
            "3e46f7d4ef670ccb060dbffbd2f76ea2cf3dbaca"
        ],
        [
            "move=>D H.",
            "VernacExtend",
            "b1b2cb7a3a617cba67460b4eca1f04de3c1cc716"
        ],
        [
            "apply (cancelR D) in H.",
            "VernacExtend",
            "793419ae60ecb72083c9a67801aab9e8bab43146"
        ],
        [
            "simpl in H.",
            "VernacExtend",
            "78dad51b2bb1130f71851d1e55489020824f59f6"
        ],
        [
            "by move/dyn_inj: H=>->; rewrite eq_refl.",
            "VernacExtend",
            "ee1746465e986ababa06bb4e96ee76be726c914a"
        ],
        [
            "Abort.",
            "VernacAbort",
            "c7c176802253f03c8ef9f27e1c3c9d26e4650d85"
        ],
        [
            "Example ex2 h1 h2 h3 h4 x1 x2 (d1 d2 d3 d4 : nat) : def ((h3 :+ (x1 :-> d1)) :+ (h1 :+ empty) :+ (x2 :-> d2)) -> (h3 :+ (x1 :-> d1)) :+ (h1 :+ empty) :+ (x2 :-> d2) = (x2 :-> d3) :+ (h2 :+ empty :+ h3) :+ h4 :+ (x1 :-> d4) -> d1 = d4 /\\ d2 = d3 /\\ h1 = h2 :+ h4.",
            "VernacDefinition",
            "feff67ba8a6d3f87511f1438017ae8a69718ada5"
        ],
        [
            "move=>D H.",
            "VernacExtend",
            "b1b2cb7a3a617cba67460b4eca1f04de3c1cc716"
        ],
        [
            "generalize (cancelR D H).",
            "VernacExtend",
            "b27e4d4e378c884b4cc4aa8208a9c37b3f92dd84"
        ],
        [
            "move=>/= [->][].",
            "VernacExtend",
            "b1b2cb7a3a617cba67460b4eca1f04de3c1cc716"
        ],
        [
            "by move/dyn_inj=>->; move/dyn_inj=>->.",
            "VernacExtend",
            "ee1746465e986ababa06bb4e96ee76be726c914a"
        ],
        [
            "Qed.",
            "VernacEndProof",
            "6eee6c55dea8e22a11abc36404343a43e520a888"
        ]
    ],
    "proofs": [
        {
            "name": "union_struct_obligation_1",
            "line_nb": 9,
            "steps": [
                {
                    "command": [
                        "case: f1 f2=>[[<- S1 D1]] [[<- S2 D2]].",
                        "VernacExtend",
                        "e00fff71ff314c991514fc71c41a3556702e444a"
                    ]
                },
                {
                    "command": [
                        "split; first by rewrite interp_cat (interp_subctx D1 S2).",
                        "VernacExtend",
                        "3763a4b8db689af316a7372b722bb29806ab4fb6"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "by apply: (subctx_trans S1 S2).",
                        "VernacExtend",
                        "ee1746465e986ababa06bb4e96ee76be726c914a"
                    ]
                },
                {
                    "command": [
                        "by rewrite valid_cat D2 andbT; apply: (valid_subctx S2).",
                        "VernacExtend",
                        "ee1746465e986ababa06bb4e96ee76be726c914a"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "empty_struct_obligation_1",
            "line_nb": 17,
            "steps": [
                {
                    "command": [
                        "split; by [|apply: subctx_refl|].",
                        "VernacExtend",
                        "9c392753fd6384a52f43e9d349afde47af3b3aa5"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "pts_struct_obligation_1",
            "line_nb": 21,
            "steps": [
                {
                    "command": [
                        "case: f=>[xs2 n /= [H P]]; split; first by rewrite /= H.",
                        "VernacExtend",
                        "3763a4b8db689af316a7372b722bb29806ab4fb6"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "by split; [apply: prefix_refl|].",
                        "VernacExtend",
                        "ee1746465e986ababa06bb4e96ee76be726c914a"
                    ]
                },
                {
                    "command": [
                        "by apply/andP; rewrite /= (onth_size H).",
                        "VernacExtend",
                        "ee1746465e986ababa06bb4e96ee76be726c914a"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "var_struct_obligation_1",
            "line_nb": 28,
            "steps": [
                {
                    "command": [
                        "case:f=>hs2 n [H1 H2]; split; first by rewrite /= /hlook H1.",
                        "VernacExtend",
                        "3763a4b8db689af316a7372b722bb29806ab4fb6"
                    ]
                },
                {
                    "command": [
                        "-",
                        "VernacBullet",
                        "581cab4bf49fa4b495e569bbda96fc8d28fddcc0"
                    ]
                },
                {
                    "command": [
                        "by split; [|apply: prefix_refl].",
                        "VernacExtend",
                        "ee1746465e986ababa06bb4e96ee76be726c914a"
                    ]
                },
                {
                    "command": [
                        "by apply/andP; rewrite /= (onth_size H1).",
                        "VernacExtend",
                        "ee1746465e986ababa06bb4e96ee76be726c914a"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "cancelR",
            "line_nb": 34,
            "steps": [
                {
                    "command": [
                        "case: f1 f2=>[[<- _ I]] [[<- S _]] D H.",
                        "VernacExtend",
                        "e00fff71ff314c991514fc71c41a3556702e444a"
                    ]
                },
                {
                    "command": [
                        "by apply: cancel_sound; rewrite -(interp_subctx I S).",
                        "VernacExtend",
                        "ee1746465e986ababa06bb4e96ee76be726c914a"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        },
        {
            "name": "ex2",
            "line_nb": 45,
            "steps": [
                {
                    "command": [
                        "move=>D H.",
                        "VernacExtend",
                        "b1b2cb7a3a617cba67460b4eca1f04de3c1cc716"
                    ]
                },
                {
                    "command": [
                        "generalize (cancelR D H).",
                        "VernacExtend",
                        "b27e4d4e378c884b4cc4aa8208a9c37b3f92dd84"
                    ]
                },
                {
                    "command": [
                        "move=>/= [->][].",
                        "VernacExtend",
                        "b1b2cb7a3a617cba67460b4eca1f04de3c1cc716"
                    ]
                },
                {
                    "command": [
                        "by move/dyn_inj=>->; move/dyn_inj=>->.",
                        "VernacExtend",
                        "ee1746465e986ababa06bb4e96ee76be726c914a"
                    ]
                },
                {
                    "command": [
                        "Qed.",
                        "VernacEndProof",
                        "6eee6c55dea8e22a11abc36404343a43e520a888"
                    ]
                }
            ]
        }
    ]
}